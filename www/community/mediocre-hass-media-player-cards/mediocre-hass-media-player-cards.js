(function(qe){typeof define=="function"&&define.amd?define(qe):qe()})(function(){"use strict";var qe,H,Rn,Ke,Mn,On,In,An,fr,pr,hr,Vn,_t={},Nn=[],ma=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,gt=Array.isArray;function Ie(e,t){for(var r in t)e[r]=t[r];return e}function mr(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ue(e,t,r){var n,o,i,a={};for(i in t)i=="key"?n=t[i]:i=="ref"?o=t[i]:a[i]=t[i];if(arguments.length>2&&(a.children=arguments.length>3?qe.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)a[i]===void 0&&(a[i]=e.defaultProps[i]);return vt(e,a,n,o,null)}function vt(e,t,r,n,o){var i={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Rn,__i:-1,__u:0};return o==null&&H.vnode!=null&&H.vnode(i),i}function Dn(){return{current:null}}function de(e){return e.children}function Re(e,t){this.props=e,this.context=t}function it(e,t){if(t==null)return e.__?it(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?it(e):null}function Ln(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return Ln(e)}}function _r(e){(!e.__d&&(e.__d=!0)&&Ke.push(e)&&!Vt.__r++||Mn!==H.debounceRendering)&&((Mn=H.debounceRendering)||On)(Vt)}function Vt(){for(var e,t,r,n,o,i,a,s=1;Ke.length;)Ke.length>s&&Ke.sort(In),e=Ke.shift(),s=Ke.length,e.__d&&(r=void 0,o=(n=(t=e).__v).__e,i=[],a=[],t.__P&&((r=Ie({},n)).__v=n.__v+1,H.vnode&&H.vnode(r),gr(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[o]:null,i,o??it(n),!!(32&n.__u),a),r.__v=n.__v,r.__.__k[r.__i]=r,Bn(i,r,a),r.__e!=o&&Ln(r)));Vt.__r=0}function zn(e,t,r,n,o,i,a,s,l,u,d){var c,p,h,m,_,g,v=n&&n.__k||Nn,b=t.length;for(l=_a(r,t,v,l,b),c=0;c<b;c++)(h=r.__k[c])!=null&&(p=h.__i===-1?_t:v[h.__i]||_t,h.__i=c,g=gr(e,h,p,o,i,a,s,l,u,d),m=h.__e,h.ref&&p.ref!=h.ref&&(p.ref&&vr(p.ref,null,h),d.push(h.ref,h.__c||m,h)),_==null&&m!=null&&(_=m),4&h.__u||p.__k===h.__k?l=Fn(h,l,e):typeof h.type=="function"&&g!==void 0?l=g:m&&(l=m.nextSibling),h.__u&=-7);return r.__e=_,l}function _a(e,t,r,n,o){var i,a,s,l,u,d=r.length,c=d,p=0;for(e.__k=new Array(o),i=0;i<o;i++)(a=t[i])!=null&&typeof a!="boolean"&&typeof a!="function"?(l=i+p,(a=e.__k[i]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?vt(null,a,null,null,null):gt(a)?vt(de,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?vt(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,s=null,(u=a.__i=ga(a,r,l,c))!==-1&&(c--,(s=r[u])&&(s.__u|=2)),s==null||s.__v===null?(u==-1&&(o>d?p--:o<d&&p++),typeof a.type!="function"&&(a.__u|=4)):u!=l&&(u==l-1?p--:u==l+1?p++:(u>l?p--:p++,a.__u|=4))):e.__k[i]=null;if(c)for(i=0;i<d;i++)(s=r[i])!=null&&(2&s.__u)==0&&(s.__e==n&&(n=it(s)),Wn(s,s));return n}function Fn(e,t,r){var n,o;if(typeof e.type=="function"){for(n=e.__k,o=0;n&&o<n.length;o++)n[o]&&(n[o].__=e,t=Fn(n[o],t,r));return t}e.__e!=t&&(t&&e.type&&!r.contains(t)&&(t=it(e)),r.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function ze(e,t){return t=t||[],e==null||typeof e=="boolean"||(gt(e)?e.some(function(r){ze(r,t)}):t.push(e)),t}function ga(e,t,r,n){var o,i,a=e.key,s=e.type,l=t[r];if(l===null&&e.key==null||l&&a==l.key&&s===l.type&&(2&l.__u)==0)return r;if(n>(l!=null&&(2&l.__u)==0?1:0))for(o=r-1,i=r+1;o>=0||i<t.length;){if(o>=0){if((l=t[o])&&(2&l.__u)==0&&a==l.key&&s===l.type)return o;o--}if(i<t.length){if((l=t[i])&&(2&l.__u)==0&&a==l.key&&s===l.type)return i;i++}}return-1}function jn(e,t,r){t[0]=="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||ma.test(t)?r:r+"px"}function Nt(e,t,r,n,o){var i;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||jn(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||jn(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")i=t!=(t=t.replace(An,"$1")),t=t.toLowerCase()in e||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=r,r?n?r.t=n.t:(r.t=fr,e.addEventListener(t,i?hr:pr,i)):e.removeEventListener(t,i?hr:pr,i);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function Un(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.u==null)t.u=fr++;else if(t.u<r.t)return;return r(H.event?H.event(t):t)}}}function gr(e,t,r,n,o,i,a,s,l,u){var d,c,p,h,m,_,g,v,b,E,C,y,w,P,T,O,M,A=t.type;if(t.constructor!==void 0)return null;128&r.__u&&(l=!!(32&r.__u),i=[s=t.__e=r.__e]),(d=H.__b)&&d(t);e:if(typeof A=="function")try{if(v=t.props,b="prototype"in A&&A.prototype.render,E=(d=A.contextType)&&n[d.__c],C=d?E?E.props.value:d.__:n,r.__c?g=(c=t.__c=r.__c).__=c.__E:(b?t.__c=c=new A(v,C):(t.__c=c=new Re(v,C),c.constructor=A,c.render=ya),E&&E.sub(c),c.props=v,c.state||(c.state={}),c.context=C,c.__n=n,p=c.__d=!0,c.__h=[],c._sb=[]),b&&c.__s==null&&(c.__s=c.state),b&&A.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=Ie({},c.__s)),Ie(c.__s,A.getDerivedStateFromProps(v,c.__s))),h=c.props,m=c.state,c.__v=t,p)b&&A.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),b&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(b&&A.getDerivedStateFromProps==null&&v!==h&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(v,C),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(v,c.__s,C)===!1||t.__v==r.__v)){for(t.__v!=r.__v&&(c.props=v,c.state=c.__s,c.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(U){U&&(U.__=t)}),y=0;y<c._sb.length;y++)c.__h.push(c._sb[y]);c._sb=[],c.__h.length&&a.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(v,c.__s,C),b&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(h,m,_)})}if(c.context=C,c.props=v,c.__P=e,c.__e=!1,w=H.__r,P=0,b){for(c.state=c.__s,c.__d=!1,w&&w(t),d=c.render(c.props,c.state,c.context),T=0;T<c._sb.length;T++)c.__h.push(c._sb[T]);c._sb=[]}else do c.__d=!1,w&&w(t),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++P<25);c.state=c.__s,c.getChildContext!=null&&(n=Ie(Ie({},n),c.getChildContext())),b&&!p&&c.getSnapshotBeforeUpdate!=null&&(_=c.getSnapshotBeforeUpdate(h,m)),O=d,d!=null&&d.type===de&&d.key==null&&(O=Hn(d.props.children)),s=zn(e,gt(O)?O:[O],t,r,n,o,i,a,s,l,u),c.base=t.__e,t.__u&=-161,c.__h.length&&a.push(c),g&&(c.__E=c.__=null)}catch(U){if(t.__v=null,l||i!=null)if(U.then){for(t.__u|=l?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;i[i.indexOf(s)]=null,t.__e=s}else for(M=i.length;M--;)mr(i[M]);else t.__e=r.__e,t.__k=r.__k;H.__e(U,t,r)}else i==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):s=t.__e=va(r.__e,t,r,n,o,i,a,l,u);return(d=H.diffed)&&d(t),128&t.__u?void 0:s}function Bn(e,t,r){for(var n=0;n<r.length;n++)vr(r[n],r[++n],r[++n]);H.__c&&H.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){H.__e(i,o.__v)}})}function Hn(e){return typeof e!="object"||e==null?e:gt(e)?e.map(Hn):Ie({},e)}function va(e,t,r,n,o,i,a,s,l){var u,d,c,p,h,m,_,g=r.props,v=t.props,b=t.type;if(b=="svg"?o="http://www.w3.org/2000/svg":b=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((h=i[u])&&"setAttribute"in h==!!b&&(b?h.localName==b:h.nodeType==3)){e=h,i[u]=null;break}}if(e==null){if(b==null)return document.createTextNode(v);e=document.createElementNS(o,b,v.is&&v),s&&(H.__m&&H.__m(t,i),s=!1),i=null}if(b===null)g===v||s&&e.data===v||(e.data=v);else{if(i=i&&qe.call(e.childNodes),g=r.props||_t,!s&&i!=null)for(g={},u=0;u<e.attributes.length;u++)g[(h=e.attributes[u]).name]=h.value;for(u in g)if(h=g[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=h;else if(!(u in v)){if(u=="value"&&"defaultValue"in v||u=="checked"&&"defaultChecked"in v)continue;Nt(e,u,null,h,o)}}for(u in v)h=v[u],u=="children"?p=h:u=="dangerouslySetInnerHTML"?d=h:u=="value"?m=h:u=="checked"?_=h:s&&typeof h!="function"||g[u]===h||Nt(e,u,h,g[u],o);if(d)s||c&&(d.__html===c.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(c&&(e.innerHTML=""),zn(t.type==="template"?e.content:e,gt(p)?p:[p],t,r,n,b=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,a,i?i[0]:r.__k&&it(r,0),s,l),i!=null)for(u=i.length;u--;)mr(i[u]);s||(u="value",b=="progress"&&m==null?e.removeAttribute("value"):m!==void 0&&(m!==e[u]||b=="progress"&&!m||b=="option"&&m!==g[u])&&Nt(e,u,m,g[u],o),u="checked",_!==void 0&&_!==e[u]&&Nt(e,u,_,g[u],o))}return e}function vr(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(o){H.__e(o,r)}}function Wn(e,t,r){var n,o;if(H.unmount&&H.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||vr(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){H.__e(i,t)}n.base=n.__P=null}if(n=e.__k)for(o=0;o<n.length;o++)n[o]&&Wn(n[o],t,r||typeof e.type!="function");r||mr(e.__e),e.__c=e.__=e.__e=void 0}function ya(e,t,r){return this.constructor(e,r)}function Je(e,t,r){var n,o,i,a;t==document&&(t=document.documentElement),H.__&&H.__(e,t),o=(n=typeof r=="function")?null:r&&r.__k||t.__k,i=[],a=[],gr(t,e=(!n&&r||t).__k=ue(de,null,[e]),o||_t,_t,t.namespaceURI,!n&&r?[r]:o?null:t.firstChild?qe.call(t.childNodes):null,i,!n&&r?r:o?o.__e:t.firstChild,n,a),Bn(i,e,a)}function qn(e,t){Je(e,t,qn)}function ba(e,t,r){var n,o,i,a,s=Ie({},e.props);for(i in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)i=="key"?n=t[i]:i=="ref"?o=t[i]:s[i]=t[i]===void 0&&a!==void 0?a[i]:t[i];return arguments.length>2&&(s.children=arguments.length>3?qe.call(arguments,2):r),vt(e.type,s,n||e.key,o||e.ref,null)}function Te(e){function t(r){var n,o;return this.getChildContext||(n=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&n.forEach(function(a){a.__e=!0,_r(a)})},this.sub=function(i){n.add(i);var a=i.componentWillUnmount;i.componentWillUnmount=function(){n&&n.delete(i),a&&a.call(i)}}),r.children}return t.__c="__cC"+Vn++,t.__=e,t.Provider=t.__l=(t.Consumer=function(r,n){return r.children(n)}).contextType=t,t}qe=Nn.slice,H={__e:function(e,t,r,n){for(var o,i,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,n||{}),a=o.__d),a)return o.__E=o}catch(s){e=s}throw e}},Rn=0,Re.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ie({},this.state),typeof e=="function"&&(e=e(Ie({},r),this.props)),e&&Ie(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),_r(this))},Re.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_r(this))},Re.prototype.render=de,Ke=[],On=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,In=function(e,t){return e.__v.__b-t.__v.__b},Vt.__r=0,An=/(PointerCapture)$|Capture$/i,fr=0,pr=Un(!1),hr=Un(!0),Vn=0;var xa=0;function f(e,t,r,n,o,i){t||(t={});var a,s,l=t;if("ref"in l)for(s in l={},t)s=="ref"?a=t[s]:l[s]=t[s];var u={type:e,props:l,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--xa,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(a=e.defaultProps))for(s in a)l[s]===void 0&&(l[s]=a[s]);return H.vnode&&H.vnode(u),u}function yr(){return yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yr.apply(null,arguments)}var Fe,ie,br,Gn,at=0,Yn=[],se=H,Xn=se.__b,Kn=se.__r,Jn=se.diffed,Zn=se.__c,Qn=se.unmount,eo=se.__;function Ze(e,t){se.__h&&se.__h(ie,e,at||t),at=0;var r=ie.__H||(ie.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function Z(e){return at=1,Dt(ro,e)}function Dt(e,t,r){var n=Ze(Fe++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):ro(void 0,t),function(s){var l=n.__N?n.__N[0]:n.__[0],u=n.t(l,s);l!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=ie,!ie.__f)){var o=function(s,l,u){if(!n.__c.__H)return!0;var d=n.__c.__H.__.filter(function(p){return!!p.__c});if(d.every(function(p){return!p.__N}))return!i||i.call(this,s,l,u);var c=n.__c.props!==s;return d.forEach(function(p){if(p.__N){var h=p.__[0];p.__=p.__N,p.__N=void 0,h!==p.__[0]&&(c=!0)}}),i&&i.call(this,s,l,u)||c};ie.__f=!0;var i=ie.shouldComponentUpdate,a=ie.componentWillUpdate;ie.componentWillUpdate=function(s,l,u){if(this.__e){var d=i;i=void 0,o(s,l,u),i=d}a&&a.call(this,s,l,u)},ie.shouldComponentUpdate=o}return n.__N||n.__}function me(e,t){var r=Ze(Fe++,3);!se.__s&&kr(r.__H,t)&&(r.__=e,r.u=t,ie.__H.__h.push(r))}function Qe(e,t){var r=Ze(Fe++,4);!se.__s&&kr(r.__H,t)&&(r.__=e,r.u=t,ie.__h.push(r))}function ne(e){return at=5,G(function(){return{current:e}},[])}function xr(e,t,r){at=6,Qe(function(){if(typeof e=="function"){var n=e(t());return function(){e(null),n&&typeof n=="function"&&n()}}if(e)return e.current=t(),function(){return e.current=null}},r==null?r:r.concat(e))}function G(e,t){var r=Ze(Fe++,7);return kr(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function I(e,t){return at=8,G(function(){return e},t)}function oe(e){var t=ie.context[e.__c],r=Ze(Fe++,9);return r.c=e,t?(r.__==null&&(r.__=!0,t.sub(ie)),t.props.value):e.__}function wr(e,t){se.useDebugValue&&se.useDebugValue(t?t(e):e)}function wa(e){var t=Ze(Fe++,10),r=Z();return t.__=e,ie.componentDidCatch||(ie.componentDidCatch=function(n,o){t.__&&t.__(n,o),r[1](n)}),[r[0],function(){r[1](void 0)}]}function Cr(){var e=Ze(Fe++,11);if(!e.__){for(var t=ie.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var r=t.__m||(t.__m=[0,0]);e.__="P"+r[0]+"-"+r[1]++}return e.__}function Ca(){for(var e;e=Yn.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Lt),e.__H.__h.forEach(Sr),e.__H.__h=[]}catch(t){e.__H.__h=[],se.__e(t,e.__v)}}se.__b=function(e){ie=null,Xn&&Xn(e)},se.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),eo&&eo(e,t)},se.__r=function(e){Kn&&Kn(e),Fe=0;var t=(ie=e.__c).__H;t&&(br===ie?(t.__h=[],ie.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(t.__h.forEach(Lt),t.__h.forEach(Sr),t.__h=[],Fe=0)),br=ie},se.diffed=function(e){Jn&&Jn(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Yn.push(t)!==1&&Gn===se.requestAnimationFrame||((Gn=se.requestAnimationFrame)||Sa)(Ca)),t.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),br=ie=null},se.__c=function(e,t){t.some(function(r){try{r.__h.forEach(Lt),r.__h=r.__h.filter(function(n){return!n.__||Sr(n)})}catch(n){t.some(function(o){o.__h&&(o.__h=[])}),t=[],se.__e(n,r.__v)}}),Zn&&Zn(e,t)},se.unmount=function(e){Qn&&Qn(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Lt(n)}catch(o){t=o}}),r.__H=void 0,t&&se.__e(t,r.__v))};var to=typeof requestAnimationFrame=="function";function Sa(e){var t,r=function(){clearTimeout(n),to&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);to&&(t=requestAnimationFrame(r))}function Lt(e){var t=ie,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),ie=t}function Sr(e){var t=ie;e.__c=e.__(),ie=t}function kr(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function ro(e,t){return typeof t=="function"?t(e):t}function no(e,t){for(var r in t)e[r]=t[r];return e}function Pr(e,t){for(var r in e)if(r!=="__source"&&!(r in t))return!0;for(var n in t)if(n!=="__source"&&e[n]!==t[n])return!0;return!1}function Er(e,t){var r=t(),n=Z({t:{__:r,u:t}}),o=n[0].t,i=n[1];return Qe(function(){o.__=r,o.u=t,Tr(o)&&i({t:o})},[e,r,t]),me(function(){return Tr(o)&&i({t:o}),e(function(){Tr(o)&&i({t:o})})},[e]),r}function Tr(e){var t,r,n=e.u,o=e.__;try{var i=n();return!((t=o)===(r=i)&&(t!==0||1/t==1/r)||t!=t&&r!=r)}catch{return!0}}function $r(e){e()}function Rr(e){return e}function Mr(){return[!1,$r]}var Or=Qe;function zt(e,t){this.props=e,this.context=t}function oo(e,t){function r(o){var i=this.props.ref,a=i==o.ref;return!a&&i&&(i.call?i(null):i.current=null),t?!t(this.props,o)||!a:Pr(this.props,o)}function n(o){return this.shouldComponentUpdate=r,ue(e,o)}return n.displayName="Memo("+(e.displayName||e.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(zt.prototype=new Re).isPureReactComponent=!0,zt.prototype.shouldComponentUpdate=function(e,t){return Pr(this.props,e)||Pr(this.state,t)};var io=H.__b;H.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),io&&io(e)};var ka=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ge(e){function t(r){var n=no({},r);return delete n.ref,e(n,r.ref||null)}return t.$$typeof=ka,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var ao=function(e,t){return e==null?null:ze(ze(e).map(t))},so={map:ao,forEach:ao,count:function(e){return e?ze(e).length:0},only:function(e){var t=ze(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:ze},Pa=H.__e;H.__e=function(e,t,r,n){if(e.then){for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return t.__e==null&&(t.__e=r.__e,t.__k=r.__k),o.__c(e,t)}Pa(e,t,r,n)};var co=H.unmount;function lo(e,t,r){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),e.__c.__H=null),(e=no({},e)).__c!=null&&(e.__c.__P===r&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(n){return lo(n,t,r)})),e}function uo(e,t,r){return e&&r&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(n){return uo(n,t,r)}),e.__c&&e.__c.__P===t&&(e.__e&&r.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=r)),e}function yt(){this.__u=0,this.o=null,this.__b=null}function fo(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function po(e){var t,r,n;function o(i){if(t||(t=e()).then(function(a){r=a.default||a},function(a){n=a}),n)throw n;if(!r)throw t;return ue(r,i)}return o.displayName="Lazy",o.__f=!0,o}function st(){this.i=null,this.l=null}H.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),co&&co(e)},(yt.prototype=new Re).__c=function(e,t){var r=t.__c,n=this;n.o==null&&(n.o=[]),n.o.push(r);var o=fo(n.__v),i=!1,a=function(){i||(i=!0,r.__R=null,o?o(s):s())};r.__R=a;var s=function(){if(!--n.__u){if(n.state.__a){var l=n.state.__a;n.__v.__k[0]=uo(l,l.__c.__P,l.__c.__O)}var u;for(n.setState({__a:n.__b=null});u=n.o.pop();)u.forceUpdate()}};n.__u++||32&t.__u||n.setState({__a:n.__b=n.__v.__k[0]}),e.then(a,a)},yt.prototype.componentWillUnmount=function(){this.o=[]},yt.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=lo(this.__b,r,n.__O=n.__P)}this.__b=null}var o=t.__a&&ue(de,null,e.fallback);return o&&(o.__u&=-33),[ue(de,null,t.__a?null:e.children),o]};var ho=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};function Ea(e){return this.getChildContext=function(){return e.context},e.children}function Ta(e){var t=this,r=e.h;t.componentWillUnmount=function(){Je(null,t.v),t.v=null,t.h=null},t.h&&t.h!==r&&t.componentWillUnmount(),t.v||(t.h=r,t.v={nodeType:1,parentNode:r,childNodes:[],contains:function(){return!0},appendChild:function(n){this.childNodes.push(n),t.h.appendChild(n)},insertBefore:function(n,o){this.childNodes.push(n),t.h.insertBefore(n,o)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.h.removeChild(n)}}),Je(ue(Ea,{context:t.context},e.__v),t.v)}function mo(e,t){var r=ue(Ta,{__v:e,h:t});return r.containerInfo=t,r}(st.prototype=new Re).__a=function(e){var t=this,r=fo(t.__v),n=t.l.get(e);return n[0]++,function(o){var i=function(){t.props.revealOrder?(n.push(o),ho(t,e,n)):o()};r?r(i):i()}},st.prototype.render=function(e){this.i=null,this.l=new Map;var t=ze(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},st.prototype.componentDidUpdate=st.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,r){ho(e,r,t)})};var _o=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,$a=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ra=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ma=/[A-Z0-9]/g,Oa=typeof document<"u",Ia=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function go(e,t,r){return t.__k==null&&(t.textContent=""),Je(e,t),typeof r=="function"&&r(),e?e.__c:null}function vo(e,t,r){return qn(e,t),typeof r=="function"&&r(),e?e.__c:null}Re.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(Re.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var yo=H.event;function Aa(){}function Va(){return this.cancelBubble}function Na(){return this.defaultPrevented}H.event=function(e){return yo&&(e=yo(e)),e.persist=Aa,e.isPropagationStopped=Va,e.isDefaultPrevented=Na,e.nativeEvent=e};var Ir,Da={enumerable:!1,configurable:!0,get:function(){return this.class}},bo=H.vnode;H.vnode=function(e){typeof e.type=="string"&&function(t){var r=t.props,n=t.type,o={},i=n.indexOf("-")===-1;for(var a in r){var s=r[a];if(!(a==="value"&&"defaultValue"in r&&s==null||Oa&&a==="children"&&n==="noscript"||a==="class"||a==="className")){var l=a.toLowerCase();a==="defaultValue"&&"value"in r&&r.value==null?a="value":a==="download"&&s===!0?s="":l==="translate"&&s==="no"?s=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?a="ondblclick":l!=="onchange"||n!=="input"&&n!=="textarea"||Ia(r.type)?l==="onfocus"?a="onfocusin":l==="onblur"?a="onfocusout":Ra.test(a)&&(a=l):l=a="oninput":i&&$a.test(a)?a=a.replace(Ma,"-$&").toLowerCase():s===null&&(s=void 0),l==="oninput"&&o[a=l]&&(a="oninputCapture"),o[a]=s}}n=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=ze(r.children).forEach(function(u){u.props.selected=o.value.indexOf(u.props.value)!=-1})),n=="select"&&o.defaultValue!=null&&(o.value=ze(r.children).forEach(function(u){u.props.selected=o.multiple?o.defaultValue.indexOf(u.props.value)!=-1:o.defaultValue==u.props.value})),r.class&&!r.className?(o.class=r.class,Object.defineProperty(o,"className",Da)):(r.className&&!r.class||r.class&&r.className)&&(o.class=o.className=r.className),t.props=o}(e),e.$$typeof=_o,bo&&bo(e)};var xo=H.__r;H.__r=function(e){xo&&xo(e),Ir=e.__c};var wo=H.diffed;H.diffed=function(e){wo&&wo(e);var t=e.props,r=e.__e;r!=null&&e.type==="textarea"&&"value"in t&&t.value!==r.value&&(r.value=t.value==null?"":t.value),Ir=null};var Co={ReactCurrentDispatcher:{current:{readContext:function(e){return Ir.__n[e.__c].props.value},useCallback:I,useContext:oe,useDebugValue:wr,useDeferredValue:Rr,useEffect:me,useId:Cr,useImperativeHandle:xr,useInsertionEffect:Or,useLayoutEffect:Qe,useMemo:G,useReducer:Dt,useRef:ne,useState:Z,useSyncExternalStore:Er,useTransition:Mr}}},So="18.3.1";function ko(e){return ue.bind(null,e)}function bt(e){return!!e&&e.$$typeof===_o}function Po(e){return bt(e)&&e.type===de}function Eo(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function Ft(e){return bt(e)?ba.apply(null,arguments):e}function To(e){return!!e.__k&&(Je(null,e),!0)}function $o(e){return e&&(e.base||e.nodeType===1&&e)||null}var Ro=function(e,t){return e(t)},Ar=function(e,t){return e(t)},Mo=de,Oo=bt,La={useState:Z,useId:Cr,useReducer:Dt,useEffect:me,useLayoutEffect:Qe,useInsertionEffect:Or,useTransition:Mr,useDeferredValue:Rr,useSyncExternalStore:Er,startTransition:$r,useRef:ne,useImperativeHandle:xr,useMemo:G,useCallback:I,useContext:oe,useDebugValue:wr,version:"18.3.1",Children:so,render:go,hydrate:vo,unmountComponentAtNode:To,createPortal:mo,createElement:ue,createContext:Te,createFactory:ko,cloneElement:Ft,createRef:Dn,Fragment:de,isValidElement:bt,isElement:Oo,isFragment:Po,isMemo:Eo,findDOMNode:$o,Component:Re,PureComponent:zt,memo:oo,forwardRef:Ge,flushSync:Ar,unstable_batchedUpdates:Ro,StrictMode:Mo,Suspense:yt,SuspenseList:st,lazy:po,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Co};const Vr=Object.freeze(Object.defineProperty({__proto__:null,Children:so,Component:Re,Fragment:de,PureComponent:zt,StrictMode:Mo,Suspense:yt,SuspenseList:st,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Co,cloneElement:Ft,createContext:Te,createElement:ue,createFactory:ko,createPortal:mo,createRef:Dn,default:La,findDOMNode:$o,flushSync:Ar,forwardRef:Ge,hydrate:vo,isElement:Oo,isFragment:Po,isMemo:Eo,isValidElement:bt,lazy:po,memo:oo,render:go,startTransition:$r,unmountComponentAtNode:To,unstable_batchedUpdates:Ro,useCallback:I,useContext:oe,useDebugValue:wr,useDeferredValue:Rr,useEffect:me,useErrorBoundary:wa,useId:Cr,useImperativeHandle:xr,useInsertionEffect:Or,useLayoutEffect:Qe,useMemo:G,useReducer:Dt,useRef:ne,useState:Z,useSyncExternalStore:Er,useTransition:Mr,version:So},Symbol.toStringTag,{value:"Module"}));function za(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Fa(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var ja=function(){function e(r){var n=this;this._insertTag=function(o){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(o,i),n.tags.push(o)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Fa(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=za(o);try{i.insertRule(n,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var o;return(o=n.parentNode)==null?void 0:o.removeChild(n)}),this.tags=[],this.ctr=0},e}(),ve="-ms-",jt="-moz-",Q="-webkit-",Io="comm",Nr="rule",Dr="decl",Ua="@import",Ao="@keyframes",Ba="@layer",Ha=Math.abs,Ut=String.fromCharCode,Wa=Object.assign;function qa(e,t){return _e(e,0)^45?(((t<<2^_e(e,0))<<2^_e(e,1))<<2^_e(e,2))<<2^_e(e,3):0}function Vo(e){return e.trim()}function Ga(e,t){return(e=t.exec(e))?e[0]:e}function ee(e,t,r){return e.replace(t,r)}function Lr(e,t){return e.indexOf(t)}function _e(e,t){return e.charCodeAt(t)|0}function xt(e,t,r){return e.slice(t,r)}function Ae(e){return e.length}function zr(e){return e.length}function Bt(e,t){return t.push(e),e}function Ya(e,t){return e.map(t).join("")}var Ht=1,ct=1,No=0,Se=0,le=0,lt="";function Wt(e,t,r,n,o,i,a){return{value:e,root:t,parent:r,type:n,props:o,children:i,line:Ht,column:ct,length:a,return:""}}function wt(e,t){return Wa(Wt("",null,null,"",null,null,0),e,{length:-e.length},t)}function Xa(){return le}function Ka(){return le=Se>0?_e(lt,--Se):0,ct--,le===10&&(ct=1,Ht--),le}function ke(){return le=Se<No?_e(lt,Se++):0,ct++,le===10&&(ct=1,Ht++),le}function Ve(){return _e(lt,Se)}function qt(){return Se}function Ct(e,t){return xt(lt,e,t)}function St(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Do(e){return Ht=ct=1,No=Ae(lt=e),Se=0,[]}function Lo(e){return lt="",e}function Gt(e){return Vo(Ct(Se-1,Fr(e===91?e+2:e===40?e+1:e)))}function Ja(e){for(;(le=Ve())&&le<33;)ke();return St(e)>2||St(le)>3?"":" "}function Za(e,t){for(;--t&&ke()&&!(le<48||le>102||le>57&&le<65||le>70&&le<97););return Ct(e,qt()+(t<6&&Ve()==32&&ke()==32))}function Fr(e){for(;ke();)switch(le){case e:return Se;case 34:case 39:e!==34&&e!==39&&Fr(le);break;case 40:e===41&&Fr(e);break;case 92:ke();break}return Se}function Qa(e,t){for(;ke()&&e+le!==57;)if(e+le===84&&Ve()===47)break;return"/*"+Ct(t,Se-1)+"*"+Ut(e===47?e:ke())}function es(e){for(;!St(Ve());)ke();return Ct(e,Se)}function ts(e){return Lo(Yt("",null,null,null,[""],e=Do(e),0,[0],e))}function Yt(e,t,r,n,o,i,a,s,l){for(var u=0,d=0,c=a,p=0,h=0,m=0,_=1,g=1,v=1,b=0,E="",C=o,y=i,w=n,P=E;g;)switch(m=b,b=ke()){case 40:if(m!=108&&_e(P,c-1)==58){Lr(P+=ee(Gt(b),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:P+=Gt(b);break;case 9:case 10:case 13:case 32:P+=Ja(m);break;case 92:P+=Za(qt()-1,7);continue;case 47:switch(Ve()){case 42:case 47:Bt(rs(Qa(ke(),qt()),t,r),l);break;default:P+="/"}break;case 123*_:s[u++]=Ae(P)*v;case 125*_:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+d:v==-1&&(P=ee(P,/\f/g,"")),h>0&&Ae(P)-c&&Bt(h>32?Fo(P+";",n,r,c-1):Fo(ee(P," ","")+";",n,r,c-2),l);break;case 59:P+=";";default:if(Bt(w=zo(P,t,r,u,d,o,s,E,C=[],y=[],c),i),b===123)if(d===0)Yt(P,t,w,w,C,i,c,s,y);else switch(p===99&&_e(P,3)===110?100:p){case 100:case 108:case 109:case 115:Yt(e,w,w,n&&Bt(zo(e,w,w,0,0,o,s,E,o,C=[],c),y),o,y,c,s,n?C:y);break;default:Yt(P,w,w,w,[""],y,0,s,y)}}u=d=h=0,_=v=1,E=P="",c=a;break;case 58:c=1+Ae(P),h=m;default:if(_<1){if(b==123)--_;else if(b==125&&_++==0&&Ka()==125)continue}switch(P+=Ut(b),b*_){case 38:v=d>0?1:(P+="\f",-1);break;case 44:s[u++]=(Ae(P)-1)*v,v=1;break;case 64:Ve()===45&&(P+=Gt(ke())),p=Ve(),d=c=Ae(E=P+=es(qt())),b++;break;case 45:m===45&&Ae(P)==2&&(_=0)}}return i}function zo(e,t,r,n,o,i,a,s,l,u,d){for(var c=o-1,p=o===0?i:[""],h=zr(p),m=0,_=0,g=0;m<n;++m)for(var v=0,b=xt(e,c+1,c=Ha(_=a[m])),E=e;v<h;++v)(E=Vo(_>0?p[v]+" "+b:ee(b,/&\f/g,p[v])))&&(l[g++]=E);return Wt(e,t,r,o===0?Nr:s,l,u,d)}function rs(e,t,r){return Wt(e,t,r,Io,Ut(Xa()),xt(e,2,-2),0)}function Fo(e,t,r,n){return Wt(e,t,r,Dr,xt(e,0,n),xt(e,n+1,-1),n)}function ut(e,t){for(var r="",n=zr(e),o=0;o<n;o++)r+=t(e[o],o,e,t)||"";return r}function ns(e,t,r,n){switch(e.type){case Ba:if(e.children.length)break;case Ua:case Dr:return e.return=e.return||e.value;case Io:return"";case Ao:return e.return=e.value+"{"+ut(e.children,n)+"}";case Nr:e.value=e.props.join(",")}return Ae(r=ut(e.children,n))?e.return=e.value+"{"+r+"}":""}function os(e){var t=zr(e);return function(r,n,o,i){for(var a="",s=0;s<t;s++)a+=e[s](r,n,o,i)||"";return a}}function is(e){return function(t){t.root||(t=t.return)&&e(t)}}function jo(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var as=function(t,r,n){for(var o=0,i=0;o=i,i=Ve(),o===38&&i===12&&(r[n]=1),!St(i);)ke();return Ct(t,Se)},ss=function(t,r){var n=-1,o=44;do switch(St(o)){case 0:o===38&&Ve()===12&&(r[n]=1),t[n]+=as(Se-1,r,n);break;case 2:t[n]+=Gt(o);break;case 4:if(o===44){t[++n]=Ve()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Ut(o)}while(o=ke());return t},cs=function(t,r){return Lo(ss(Do(t),r))},Uo=new WeakMap,ls=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,o=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!Uo.get(n))&&!o){Uo.set(t,!0);for(var i=[],a=cs(r,i),s=n.props,l=0,u=0;l<a.length;l++)for(var d=0;d<s.length;d++,u++)t.props[u]=i[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},us=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function Bo(e,t){switch(qa(e,t)){case 5103:return Q+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Q+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Q+e+jt+e+ve+e+e;case 6828:case 4268:return Q+e+ve+e+e;case 6165:return Q+e+ve+"flex-"+e+e;case 5187:return Q+e+ee(e,/(\w+).+(:[^]+)/,Q+"box-$1$2"+ve+"flex-$1$2")+e;case 5443:return Q+e+ve+"flex-item-"+ee(e,/flex-|-self/,"")+e;case 4675:return Q+e+ve+"flex-line-pack"+ee(e,/align-content|flex-|-self/,"")+e;case 5548:return Q+e+ve+ee(e,"shrink","negative")+e;case 5292:return Q+e+ve+ee(e,"basis","preferred-size")+e;case 6060:return Q+"box-"+ee(e,"-grow","")+Q+e+ve+ee(e,"grow","positive")+e;case 4554:return Q+ee(e,/([^-])(transform)/g,"$1"+Q+"$2")+e;case 6187:return ee(ee(ee(e,/(zoom-|grab)/,Q+"$1"),/(image-set)/,Q+"$1"),e,"")+e;case 5495:case 3959:return ee(e,/(image-set\([^]*)/,Q+"$1$`$1");case 4968:return ee(ee(e,/(.+:)(flex-)?(.*)/,Q+"box-pack:$3"+ve+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Q+e+e;case 4095:case 3583:case 4068:case 2532:return ee(e,/(.+)-inline(.+)/,Q+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ae(e)-1-t>6)switch(_e(e,t+1)){case 109:if(_e(e,t+4)!==45)break;case 102:return ee(e,/(.+:)(.+)-([^]+)/,"$1"+Q+"$2-$3$1"+jt+(_e(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Lr(e,"stretch")?Bo(ee(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(_e(e,t+1)!==115)break;case 6444:switch(_e(e,Ae(e)-3-(~Lr(e,"!important")&&10))){case 107:return ee(e,":",":"+Q)+e;case 101:return ee(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Q+(_e(e,14)===45?"inline-":"")+"box$3$1"+Q+"$2$3$1"+ve+"$2box$3")+e}break;case 5936:switch(_e(e,t+11)){case 114:return Q+e+ve+ee(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Q+e+ve+ee(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Q+e+ve+ee(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Q+e+ve+e+e}return e}var ds=function(t,r,n,o){if(t.length>-1&&!t.return)switch(t.type){case Dr:t.return=Bo(t.value,t.length);break;case Ao:return ut([wt(t,{value:ee(t.value,"@","@"+Q)})],o);case Nr:if(t.length)return Ya(t.props,function(i){switch(Ga(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ut([wt(t,{props:[ee(i,/:(read-\w+)/,":"+jt+"$1")]})],o);case"::placeholder":return ut([wt(t,{props:[ee(i,/:(plac\w+)/,":"+Q+"input-$1")]}),wt(t,{props:[ee(i,/:(plac\w+)/,":"+jt+"$1")]}),wt(t,{props:[ee(i,/:(plac\w+)/,ve+"input-$1")]})],o)}return""})}},fs=[ds],Ho=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(_){var g=_.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var o=t.stylisPlugins||fs,i={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(_){for(var g=_.getAttribute("data-emotion").split(" "),v=1;v<g.length;v++)i[g[v]]=!0;s.push(_)});var l,u=[ls,us];{var d,c=[ns,is(function(_){d.insert(_)})],p=os(u.concat(o,c)),h=function(g){return ut(ts(g),p)};l=function(g,v,b,E){d=b,h(g?g+"{"+v.styles+"}":v.styles),E&&(m.inserted[v.name]=!0)}}var m={key:r,sheet:new ja({key:r,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(s),m};function ps(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xt={exports:{}},te={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wo;function hs(){if(Wo)return te;Wo=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,c=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,h=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,_=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function E(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case t:switch(y=y.type,y){case l:case u:case n:case i:case o:case c:return y;default:switch(y=y&&y.$$typeof,y){case s:case d:case m:case h:case a:return y;default:return w}}case r:return w}}}function C(y){return E(y)===u}return te.AsyncMode=l,te.ConcurrentMode=u,te.ContextConsumer=s,te.ContextProvider=a,te.Element=t,te.ForwardRef=d,te.Fragment=n,te.Lazy=m,te.Memo=h,te.Portal=r,te.Profiler=i,te.StrictMode=o,te.Suspense=c,te.isAsyncMode=function(y){return C(y)||E(y)===l},te.isConcurrentMode=C,te.isContextConsumer=function(y){return E(y)===s},te.isContextProvider=function(y){return E(y)===a},te.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},te.isForwardRef=function(y){return E(y)===d},te.isFragment=function(y){return E(y)===n},te.isLazy=function(y){return E(y)===m},te.isMemo=function(y){return E(y)===h},te.isPortal=function(y){return E(y)===r},te.isProfiler=function(y){return E(y)===i},te.isStrictMode=function(y){return E(y)===o},te.isSuspense=function(y){return E(y)===c},te.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===u||y===i||y===o||y===c||y===p||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===h||y.$$typeof===a||y.$$typeof===s||y.$$typeof===d||y.$$typeof===g||y.$$typeof===v||y.$$typeof===b||y.$$typeof===_)},te.typeOf=E,te}var re={},qo;function ms(){if(qo)return re;qo=1;var e={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return e.NODE_ENV!=="production"&&function(){var t=typeof Symbol=="function"&&Symbol.for,r=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,o=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,c=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,_=t?Symbol.for("react.lazy"):60116,g=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,E=t?Symbol.for("react.scope"):60119;function C(R){return typeof R=="string"||typeof R=="function"||R===o||R===d||R===a||R===i||R===p||R===h||typeof R=="object"&&R!==null&&(R.$$typeof===_||R.$$typeof===m||R.$$typeof===s||R.$$typeof===l||R.$$typeof===c||R.$$typeof===v||R.$$typeof===b||R.$$typeof===E||R.$$typeof===g)}function y(R){if(typeof R=="object"&&R!==null){var Ee=R.$$typeof;switch(Ee){case r:var W=R.type;switch(W){case u:case d:case o:case a:case i:case p:return W;default:var he=W&&W.$$typeof;switch(he){case l:case c:case _:case m:case s:return he;default:return Ee}}case n:return Ee}}}var w=u,P=d,T=l,O=s,M=r,A=c,U=o,q=_,X=m,fe=n,Pe=a,pe=i,xe=p,J=!1;function Me(R){return J||(J=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),x(R)||y(R)===u}function x(R){return y(R)===d}function $(R){return y(R)===l}function V(R){return y(R)===s}function z(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function F(R){return y(R)===c}function j(R){return y(R)===o}function D(R){return y(R)===_}function L(R){return y(R)===m}function N(R){return y(R)===n}function K(R){return y(R)===a}function B(R){return y(R)===i}function ge(R){return y(R)===p}re.AsyncMode=w,re.ConcurrentMode=P,re.ContextConsumer=T,re.ContextProvider=O,re.Element=M,re.ForwardRef=A,re.Fragment=U,re.Lazy=q,re.Memo=X,re.Portal=fe,re.Profiler=Pe,re.StrictMode=pe,re.Suspense=xe,re.isAsyncMode=Me,re.isConcurrentMode=x,re.isContextConsumer=$,re.isContextProvider=V,re.isElement=z,re.isForwardRef=F,re.isFragment=j,re.isLazy=D,re.isMemo=L,re.isPortal=N,re.isProfiler=K,re.isStrictMode=B,re.isSuspense=ge,re.isValidElementType=C,re.typeOf=y}(),re}var Go;function jr(){if(Go)return Xt.exports;Go=1;var e={};return e.NODE_ENV==="production"?Xt.exports=hs():Xt.exports=ms(),Xt.exports}var Ur,Yo;function _s(){if(Yo)return Ur;Yo=1;var e=jr(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=n,i[e.Memo]=o;function a(m){return e.isMemo(m)?o:i[m.$$typeof]||t}var s=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,p=Object.prototype;function h(m,_,g){if(typeof _!="string"){if(p){var v=c(_);v&&v!==p&&h(m,v,g)}var b=l(_);u&&(b=b.concat(u(_)));for(var E=a(m),C=a(_),y=0;y<b.length;++y){var w=b[y];if(!r[w]&&!(g&&g[w])&&!(C&&C[w])&&!(E&&E[w])){var P=d(_,w);try{s(m,w,P)}catch{}}}}return m}return Ur=h,Ur}_s();var gs=!0;function Xo(e,t,r){var n="";return r.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(n+=o+" ")}),n}var Br=function(t,r,n){var o=t.key+"-"+r.name;(n===!1||gs===!1)&&t.registered[o]===void 0&&(t.registered[o]=r.styles)},Ko=function(t,r,n){Br(t,r,n);var o=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+o:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function vs(e){for(var t=0,r,n=0,o=e.length;o>=4;++n,o-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var ys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bs=/[A-Z]|^ms/g,xs=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Jo=function(t){return t.charCodeAt(1)===45},Zo=function(t){return t!=null&&typeof t!="boolean"},Hr=jo(function(e){return Jo(e)?e:e.replace(bs,"-$&").toLowerCase()}),Qo=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(xs,function(n,o,i){return Ne={name:o,styles:i,next:Ne},o})}return ys[t]!==1&&!Jo(t)&&typeof r=="number"&&r!==0?r+"px":r};function kt(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var o=r;if(o.anim===1)return Ne={name:o.name,styles:o.styles,next:Ne},o.name;var i=r;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)Ne={name:a.name,styles:a.styles,next:Ne},a=a.next;var s=i.styles+";";return s}return ws(e,t,r)}case"function":{if(e!==void 0){var l=Ne,u=r(e);return Ne=l,kt(e,t,u)}break}}var d=r;if(t==null)return d;var c=t[d];return c!==void 0?c:d}function ws(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=kt(e,t,r[o])+";";else for(var i in r){var a=r[i];if(typeof a!="object"){var s=a;t!=null&&t[s]!==void 0?n+=i+"{"+t[s]+"}":Zo(s)&&(n+=Hr(i)+":"+Qo(i,s)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var l=0;l<a.length;l++)Zo(a[l])&&(n+=Hr(i)+":"+Qo(i,a[l])+";");else{var u=kt(e,t,a);switch(i){case"animation":case"animationName":{n+=Hr(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}return n}var ei=/label:\s*([^\s;{]+)\s*(;|$)/g,Ne;function Wr(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,o="";Ne=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,o+=kt(r,t,i);else{var a=i;o+=a[0]}for(var s=1;s<e.length;s++)if(o+=kt(r,t,e[s]),n){var l=i;o+=l[s]}ei.lastIndex=0;for(var u="",d;(d=ei.exec(o))!==null;)u+="-"+d[1];var c=vs(o)+u;return{name:c,styles:o,next:Ne}}var Cs=function(t){return t()},Ss=Vr.useInsertionEffect?Vr.useInsertionEffect:!1,ti=Ss||Cs,ri=Te(typeof HTMLElement<"u"?Ho({key:"css"}):null),ks=ri.Provider,ni=function(t){return Ge(function(r,n){var o=oe(ri);return t(r,o,n)})},oi=Te({}),qr={}.hasOwnProperty,Gr="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ps=function(t,r){var n={};for(var o in r)qr.call(r,o)&&(n[o]=r[o]);return n[Gr]=t,n},Es=function(t){var r=t.cache,n=t.serialized,o=t.isStringTag;return Br(r,n,o),ti(function(){return Ko(r,n,o)}),null},Ts=ni(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var o=e[Gr],i=[n],a="";typeof e.className=="string"?a=Xo(t.registered,i,e.className):e.className!=null&&(a=e.className+" ");var s=Wr(i,void 0,oe(oi));a+=t.key+"-"+s.name;var l={};for(var u in e)qr.call(e,u)&&u!=="css"&&u!==Gr&&(l[u]=e[u]);return l.className=a,r&&(l.ref=r),ue(de,null,ue(Es,{cache:t,serialized:s,isStringTag:typeof o=="string"}),ue(o,l))}),$s=Ts,ii=function(t,r){var n=arguments;if(r==null||!qr.call(r,"css"))return ue.apply(void 0,n);var o=n.length,i=new Array(o);i[0]=$s,i[1]=Ps(t,r);for(var a=2;a<o;a++)i[a]=n[a];return ue.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(ii||(ii={}));function Rs(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Wr(t)}function Kt(){var e=Rs.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Ms=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Os=jo(function(e){return Ms.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Is=Os,As=function(t){return t!=="theme"},ai=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Is:As},si=function(t,r,n){var o;if(r){var i=r.shouldForwardProp;o=t.__emotion_forwardProp&&i?function(a){return t.__emotion_forwardProp(a)&&i(a)}:i}return typeof o!="function"&&n&&(o=t.__emotion_forwardProp),o},Vs=function(t){var r=t.cache,n=t.serialized,o=t.isStringTag;return Br(r,n,o),ti(function(){return Ko(r,n,o)}),null},Ns=function e(t,r){var n=t.__emotion_real===t,o=n&&t.__emotion_base||t,i,a;r!==void 0&&(i=r.label,a=r.target);var s=si(t,r,n),l=s||ai(o),u=!l("as");return function(){var d=arguments,c=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&c.push("label:"+i+";"),d[0]==null||d[0].raw===void 0)c.push.apply(c,d);else{var p=d[0];c.push(p[0]);for(var h=d.length,m=1;m<h;m++)c.push(d[m],p[m])}var _=ni(function(g,v,b){var E=u&&g.as||o,C="",y=[],w=g;if(g.theme==null){w={};for(var P in g)w[P]=g[P];w.theme=oe(oi)}typeof g.className=="string"?C=Xo(v.registered,y,g.className):g.className!=null&&(C=g.className+" ");var T=Wr(c.concat(y),v.registered,w);C+=v.key+"-"+T.name,a!==void 0&&(C+=" "+a);var O=u&&s===void 0?ai(E):l,M={};for(var A in g)u&&A==="as"||O(A)&&(M[A]=g[A]);return M.className=C,b&&(M.ref=b),ue(de,null,ue(Vs,{cache:v,serialized:T,isStringTag:typeof E=="string"}),ue(E,M))});return _.displayName=i!==void 0?i:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=o,_.__emotion_styles=c,_.__emotion_forwardProp=s,Object.defineProperty(_,"toString",{value:function(){return"."+a}}),_.withComponent=function(g,v){var b=e(g,yr({},r,v,{shouldForwardProp:si(_,v,!0)}));return b.apply(void 0,c)},_}},Ds=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],S=Ns.bind(null);Ds.forEach(function(e){S[e]=S(e)});const Ls=({hass:e,action:t,target:r,data:n})=>{const o=t.split(".")[0],i=t.split(".")[1],a={...n,...r};return e.callService(o,i,a)},Yr=async(e,t,r,n)=>{const o=t[r+"_action"];if(o.action==="perform-action")return Ls({hass:n,action:o.perform_action,target:o.target,data:o.data});const i=new CustomEvent("hass-action",{bubbles:!0,composed:!0,detail:{config:{...t,entity_id:t==null?void 0:t.entity},action:r}});return e.dispatchEvent(i),Promise.resolve()},Xr=({icon:e,deviceClass:t})=>{if(e)return e;switch(t){case"speaker":return"mdi:speaker";case"receiver":return"mdi:audio-video";default:return"mdi:speaker"}},et=(e,t,r)=>{const n=r?["state","attributes.volume_level","attributes.is_volume_muted","attributes.group_members"]:["state","attributes.media_duration","attributes.media_title","attributes.media_artist","attributes.media_album_name","attributes.icon","attributes.friendly_name","attributes.entity_picture","attributes.volume_level","attributes.is_volume_muted","attributes.source","attributes.shuffle","attributes.repeat","attributes.supported_features","attributes.group_members"],o=(a,s)=>s.split(".").reduce((u,d)=>u&&u[d]!==void 0?u[d]:void 0,a),i=(a,s)=>{if(a.length!==s.length)return!1;for(let l=0;l<a.length;l++)if(a[l]!==s[l])return!1;return!0};for(const a of n){const s=o(e,a),l=o(t,a);if(Array.isArray(s)&&Array.isArray(l)){if(!i(s,l))return!0}else if(s!==l)return!0}return!1};function ce(){return document.querySelector("home-assistant").hass}const Pt=(e,t)=>e===0||t?"mdi:volume-off":e<.5?"mdi:volume-medium":"mdi:volume-high",zs=(e,t,r=!1)=>{var i;const n=ce(),o=n.states[e];if(o&&(n.callService("media_player","volume_set",{entity_id:e,volume_level:t}),r&&((i=o.attributes.group_members)==null?void 0:i.length)>0)){const a=o.attributes.volume_level||0,s=a>0?t/a:1;o.attributes.group_members.slice(1).forEach(l=>{const u=n.states[l];if(!u)return;const d=u.attributes.volume_level||0,c=Math.min(Math.max(d*s,0),1);n.callService("media_player","volume_set",{entity_id:l,volume_level:c})})}},Fs=S.button`
  background: none;
  border: none;
  cursor: pointer;
  padding: 0px;
  margin: 0px;
  width: 100%;
  position: relative;
  overflow: hidden;
  &:after {
    content: "";
    display: block;
    padding-bottom: 100%; /* Creates 1:1 aspect ratio */
  }
  ${e=>e.$size?typeof e.$size=="string"?`
      width: ${e.$size};
      height: ${e.$size};`:`
      width: ${e.$size}px;
      height: ${e.$size}px;`:""}
  --mmpc-art-border-radius: ${e=>e.$borderRadius}px;
`,js=S.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
`,Us=S.img`
  height: 100%;
  aspect-ratio: 1 / 1;
  object-fit: cover;
  border-radius: var(--mmpc-art-border-radius, 4px);
`,Bs=S.div`
  display: flex;
  justify-content: center;
  align-items: center;
  --icon-primary-color: var(--card-background-color);
  background-color: var(--primary-text-color);
  opacity: 0.5;
  border-radius: var(--mmpc-art-border-radius, 4px);
  height: 100%;
  aspect-ratio: 1 / 1;
`,ci=({size:e,borderRadius:t=4,iconSize:r,renderLongPressIndicator:n,...o})=>{const i=Ce(),{media_title:a,media_artist:s,entity_picture:l,icon:u,device_class:d,source:c}=i.attributes,p=i.state;return f(Fs,{$size:e,$borderRadius:t,...o,children:[f(js,{children:l&&p!=="off"?f(Us,{src:l,alt:a&&s?`${a} by ${s}`:`Source: ${c}`}):f(Bs,{children:f(Et,{icon:p==="off"?Xr({icon:u,deviceClass:d}):Hs({source:c}),size:r})})}),n&&n()]})},Hs=({source:e})=>{switch(e==null?void 0:e.toLowerCase()){case"spotify":return"mdi:spotify";case"airplay":return"mdi:airplay";case"bluetooth":return"mdi:bluetooth";case"net radio":return"mdi:radio";case"server":return"mdi:server";case"usb":return"mdi:usb";case"aux":return"mdi:audio-input-rca";case"hdmi":return"mdi:hdmi-port";case"tv":return"mdi:television";case"tuner":return"mdi:radio-tower";case"optical":return"mdi:audio-input-stereo-minijack";default:return"mdi:music"}},ye=Te({rootElement:null,config:null}),li=({rootElement:e,config:t,children:r})=>{const n=G(()=>({rootElement:e,config:t}),[e,t]);return f(ye.Provider,{value:n,children:r})},Ws=Kt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qs=S.button`
  position: relative;
  background: none;
  border: none;
  display: flex;
  flex: 0;
  flex-direction: row;
  height: 32px;
  font-size: 13px;
  font-weight: 500;
  line-height: 32px;
  padding: 0 12px;
  border-radius: 16px;
  color: var(--mmpc-chip-foreground, var(--card-background-color));
  background-color: var(--mmpc-chip-background, var(--primary-text-color));
  --icon-primary-color: var(
    --mmpc-chip-foreground,
    var(--card-background-color)
  );
  margin-right: 5px;
  align-items: center;
  gap: 4px;
  text-wrap: nowrap;
  cursor: pointer;

  &:hover {
    opacity: 0.8;
  }

  opacity: ${e=>e.$loading?.3:1};
  ha-icon {
    pointer-events: none;
    animation: ${Ws} 1s linear infinite;
    ${e=>e.$loading?"":"animation: none;"}
  }
`,Kr=({loading:e,icon:t,iconPosition:r="left",children:n,...o})=>{const i=()=>{if(e)return f(Et,{size:"x-small",icon:"mdi:loading"});if(t)return f(Et,{size:"x-small",icon:t})};return f(qs,{$loading:e,...o,children:[r==="left"&&i(),n,r==="right"&&i()]})},ui=({rootElement:e,children:t})=>{const[r]=Z(()=>Ho({key:"mmpc",container:e,speedy:!1}));return f(ks,{value:r,children:t})},Gs=()=>[{name:"tap_action",label:"Tap Action",selector:{ui_action:{}}},{name:"hold_action",label:"Hold Action",selector:{ui_action:{}}},{name:"double_tap_action",label:"Double Tap Action",selector:{ui_action:{}}}],Ys=({hass:e,value:t,onChange:r,disabled:n=!1})=>{const o=ne(null),i=G(()=>t?{...t}:{action:"none"},[t]),a=I(s=>{const u=s.detail.value;r(u)},[r]);return me(()=>{const s=o.current;return s&&s.addEventListener("value-changed",a),()=>{s&&s.removeEventListener("value-changed",a)}},[o.current,a]),f("ha-form",{ref:o,hass:e,data:i,schema:Gs(),computeLabel:s=>s.label||s.name,disabled:n})},dt=e=>{const{hass:t,value:r,onChange:n,label:o,domains:i,required:a=!1,disabled:s=!1,allowCustomEntity:l=!1}=e,u=ne(null),d=I(c=>{const h=c.detail.value;n(h)},[n]);return me(()=>{const c=u.current;return c&&c.addEventListener("value-changed",d),()=>{c&&c.removeEventListener("value-changed",d)}},[u.current,d]),f("ha-entity-picker",{ref:u,hass:t,value:r,label:o||"Entity",includeDomains:i,disabled:s,required:a,"allow-custom-entity":l})},Xs=S.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
`,di=({hass:e,value:t,onChange:r,label:n,domains:o,disabled:i=!1,allowCustomEntity:a=!1})=>{const s=(t==null?void 0:t.filter(Boolean))||[],l=I((u,d)=>{const c=[...s];!u&&d<s.length?c.splice(d,1):d<s.length?c[d]=u||"":u&&c.push(u),r(c.filter(Boolean))},[s,r]);return f(Xs,{className:"entities-picker",children:[n&&f("label",{children:n}),s.map((u,d)=>f(dt,{hass:e,value:u,onChange:c=>l(c,d),domains:o,disabled:i,required:!1,allowCustomEntity:a},`entity-${d}`)),f(dt,{hass:e,value:"",onChange:u=>l(u,s.length),domains:o,disabled:i,required:!1,allowCustomEntity:a},"entity-new")]})},Jt=({hass:e,value:t={},onChange:r})=>f(Ys,{hass:e,value:t,onChange:r}),Ks=({options:e,onSelected:t,selected:r})=>f("select",{value:r,onChange:n=>t(n.target.value),children:e.map(n=>f("option",{value:n.value,children:n.name},n.value))}),be=S.div`
  margin-bottom: 16px;
`,Zt=S.label`
  display: block;
  margin-bottom: 16px;
  font-weight: 500;
`,fi=S.div`
  display: flex;
  flex-direction: column;
`,Jr=S.button`
  padding: 8px 16px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  background-color: var(--primary-color, #03a9f4);
  color: white;
  font-weight: 500;

  &:hover {
    background-color: var(--primary-color-dark, #007ac1);
  }
  align-self: flex-start;
`,pi=S(Jr)`
  background-color: var(--error-color, #ff5252);

  &:hover {
    background-color: var(--error-color-dark, #c50b0b);
  }
`,Qt=S.div`
  display: flex;
  flex-direction: column;
  margin-bottom: 16px;
`,Zr=S.div`
  display: flex;
  align-items: center;
  margin-bottom: 16px;
`,Qr=S.label`
  margin-left: 8px;
  font-weight: normal;
`,en=S.input`
  cursor: pointer;
`,er=({hass:e,value:t,onChange:r,label:n,required:o=!1,disabled:i=!1,isIconInput:a=!1})=>{const s=I(l=>{r(l.detail.value)},[r]);return a?f("ha-icon-picker",{label:n||"Icon",hass:e,value:t,disabled:i,required:o,"onvalue-changed":s}):f("ha-textfield",{label:n||"Text",value:t,disabled:i,required:o,onchange:l=>r(l.target.value)})},Js=({children:e})=>{const[t,r]=Z(!1);return me(()=>{customElements.get("hui-glance-card").getConfigElement().then(()=>{r(!0)})},[]),t?e:null},Zs=S.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: flex-start;
  overflow-x: auto !important;
  scrollbar-width: none;
  -ms-overflow-style: none;
  ::-webkit-scrollbar {
    display: none;
  }
`,Qs=S(Kr)`
  &:first-child {
    margin-left: ${e=>e.$horizontalMargin??0}px;
  }
  &:last-child {
    margin-right: ${e=>e.$horizontalMargin??0}px;
  }
`,tn=({config:e,showGrouped:t,layout:r})=>{const n=ft(),{entity_id:o,speaker_group:i}=e,[a,s]=Z([]),l=(i==null?void 0:i.entity_id)||o,u=n.states[l],d=G(()=>{var p;return(p=i==null?void 0:i.entities)!=null&&p.length?i.entities.filter(h=>n.states[h]).map(h=>{var m,_,g,v;return{entity_id:h,name:n.states[h].attributes.friendly_name,volume:n.states[h].attributes.volume_level||0,muted:n.states[h].attributes.is_volume_muted||!1,isGrouped:((_=(m=u==null?void 0:u.attributes)==null?void 0:m.group_members)==null?void 0:_.includes(h))||!1,isMainSpeaker:((v=(g=u==null?void 0:u.attributes)==null?void 0:g.group_members)==null?void 0:v[0])===h||!1}}).filter(h=>t?!0:!h.isGrouped).sort((h,m)=>h.entity_id===l?-1:m.entity_id===l?1:h.name.localeCompare(m.name)).sort((h,m)=>h.isGrouped&&!m.isGrouped?-1:!h.isGrouped&&m.isGrouped?1:0):[]},[n.states,i,t]),c=I(async(p,h)=>{if(!a.includes(p)){s(m=>[...m,p]);try{const m=n.states[p];h?await n.callService("media_player","unjoin",{entity_id:p}):(m.state==="off"&&await n.callService("media_player","turn_on",{entity_id:p}),await n.callService("media_player","join",{entity_id:l,group_members:[p]}))}catch(m){console.error(m)}s(m=>m.filter(_=>_!==p))}},[l,a]);return f(Zs,{children:d.map(p=>f(Qs,{loading:a.includes(p.entity_id),onClick:()=>c(p.entity_id,p.isGrouped),icon:p.isGrouped?"mdi:close":"mdi:plus",iconPosition:"right",$horizontalMargin:r==null?void 0:r.horizontalMargin,children:p.name},p.entity_id))})},ec=S.table`
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;
`,tc=S.tr`
  width: 100%;
  height: 32px;
`,rc=S.td`
  padding-right: 8px;
  font-size: 14px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  ${e=>e.$isMainSpeaker?"font-weight: 500;":""}
`,nc=S.td`
  padding: 0px 4px;
`,hi=S.td`
  width: 28px;
  white-space: nowrap;
`,oc=S.div`
  display: flex;
  align-items: center;
  width: 100%;
`,ic=S.div``,mi=({config:{speaker_group:e,entity_id:t},syncMainSpeaker:r})=>{const n=ft(),[o,i]=Z([]),a=(e==null?void 0:e.entity_id)||t,s=n.states[a],l=G(()=>{var h;return(h=e==null?void 0:e.entities)!=null&&h.length?e.entities.filter(m=>n.states[m]).map(m=>{var _,g,v,b;return{entity_id:m,name:n.states[m].attributes.friendly_name,volume:n.states[m].attributes.volume_level||0,muted:n.states[m].attributes.is_volume_muted||!1,isGrouped:((g=(_=s==null?void 0:s.attributes)==null?void 0:_.group_members)==null?void 0:g.includes(m))||!1,isMainSpeaker:((b=(v=s==null?void 0:s.attributes)==null?void 0:v.group_members)==null?void 0:b[0])===m||!1}}).sort((m,_)=>m.entity_id===a?-1:_.entity_id===a?1:m.name.localeCompare(_.name)):[]},[n.states,e]),u=I(async(h,m)=>{if(!o.includes(h)){i(_=>[..._,h]);try{const _=n.states[h];m?await n.callService("media_player","unjoin",{entity_id:h}):(_.state==="off"&&await n.callService("media_player","turn_on",{entity_id:h}),await n.callService("media_player","join",{entity_id:a,group_members:[h]}))}catch(_){console.error(_)}i(_=>_.filter(g=>g!==h))}},[a,o]),d=I((h,m)=>{ce().callService("media_player","volume_mute",{entity_id:h,is_volume_muted:!m})},[]),c=I((h,m,_)=>{zs(h,m,_&&r)},[r]),p=(h,m,_)=>{const{entity_id:g,name:v,volume:b,muted:E,isGrouped:C,isMainSpeaker:y}=h,P=o.includes(g)||y&&!C;return f(tc,{children:[f(rc,{$isMainSpeaker:y,children:v}),f(hi,{children:f(ae,{size:"x-small",onClick:()=>d(g,E),icon:Pt(b,E)})}),f(nc,{children:f(oc,{children:f(Pn,{min:0,max:1,step:.01,value:b,sliderSize:"small",onChange:T=>c(g,T,y)})})}),f(hi,{children:f(ae,{size:"x-small",onClick:()=>u(g,C),icon:C?"mdi:close":"mdi:plus",disabled:P})})]},g)};return f(ic,{children:f(ec,{children:f("tbody",{children:l.filter(h=>h.isGrouped).map((h,m,_)=>p(h))})})})},_i=Te({hass:null}),ac=({hass:e,children:t})=>f(_i.Provider,{value:{hass:e},children:t}),ft=()=>{const e=oe(_i);if(!e)throw new Error("useHass must be used within a HassContextProvider");return e.hass},sc=S.div`
  background: none;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: ${e=>rn(e.$size)}px;
  aspect-ratio: 1;

  > ha-icon {
    --mdc-icon-size: ${e=>rn(e.$size)}px;
    width: ${e=>rn(e.$size)}px;
    display: flex;
  }
`,Et=({icon:e,size:t="medium",className:r})=>f(sc,{$size:t,className:r,children:f("ha-icon",{icon:e})}),rn=e=>{switch(e){case"xx-small":return 12;case"x-small":return 18;case"small":return 24;case"medium":return 32;case"large":return 48;case"x-large":return 80}},cc=Kt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,lc=S.button`
  position: relative;
  background: none;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: background-color 0.2s;
  padding: ${e=>e.$size==="xx-small"?0:4}px;
  min-width: ${e=>nn(e.$size)}px;
  aspect-ratio: 1;
  color: ${e=>e.disabled?"var(--disabled-text-color, #999)":"var(--primary-text-color, #333)"};

  &:hover {
    background-color: var(--secondary-background-color, rgba(0, 0, 0, 0.05));
  }

  &:active {
    background-color: var(--divider-color, rgba(0, 0, 0, 0.1));
  }
  > ha-icon {
    --mdc-icon-size: ${e=>nn(e.$size)}px;
    width: ${e=>nn(e.$size)}px;
    display: flex;
    pointer-events: none;
    animation: ${cc} 1s linear infinite;
    ${e=>e.$loading?"":"animation: none;"};
  }
`,ae=({icon:e,size:t="medium",disabled:r=!1,loading:n=!1,className:o,renderLongPressIndicator:i,...a})=>f(lc,{disabled:r,$disabled:r,$size:t,$loading:n,className:o,...a,children:[n?f("ha-icon",{icon:"mdi:loading"}):f("ha-icon",{icon:e}),i&&i()]}),nn=e=>{switch(e){case"xx-small":return 12;case"x-small":return 18;case"small":return 24;case"medium":return 32;case"large":return 48;case"x-large":return 80;case"xx-large":return 120}},uc=S.div`
  display: contents;
  --mmpc-chip-background: var(--card-background-color);
  --mmpc-chip-foreground: var(--primary-text-color);
`,dc=()=>{const{config:e}=oe(ye);return f(uc,{children:f(tn,{config:{entity_id:e.entity_id,speaker_group:{entities:e.entities}},showGrouped:!0})})};function Tt({actionConfig:e,rootElement:t,overrideCallback:r}){const n=G(()=>({onTap:e!=null&&e.tap_action?()=>Yr(t,e,"tap",ce()):void 0,onLongPress:e!=null&&e.hold_action?()=>Yr(t,e,"hold",ce()):void 0,onDoubleTap:e!=null&&e.double_tap_action?()=>Yr(t,e,"double_tap",ce()):void 0,...r??{}}),[e,r]),o=Nc(n);return G(()=>o,[o])}class fc{constructor(t,r){this.pixels=t,this.opts=r;const{sigBits:n}=r,o=(C,y,w)=>(C<<2*n)+(y<<n)+w;this.getColorIndex=o;const i=8-n,a=1<<3*n,s=new Uint32Array(a);let l,u,d,c,p,h,m,_,g,v;l=d=p=0,u=c=h=Number.MAX_VALUE;const b=t.length/4;let E=0;for(;E<b;){const C=E*4;if(E++,m=t[C+0],_=t[C+1],g=t[C+2],v=t[C+3],v===0)continue;m=m>>i,_=_>>i,g=g>>i;const y=o(m,_,g);s[y]===void 0&&(s[y]=0),s[y]+=1,m>l&&(l=m),m<u&&(u=m),_>d&&(d=_),_<c&&(c=_),g>p&&(p=g),g<h&&(h=g)}this._colorCount=s.reduce((C,y)=>y>0?C+1:C,0),this.hist=s,this.rmax=l,this.rmin=u,this.gmax=d,this.gmin=c,this.bmax=p,this.bmin=h}get colorCount(){return this._colorCount}}class pc{scaleDown(t){const r=this.getWidth(),n=this.getHeight();let o=1;if(t.maxDimension>0){const i=Math.max(r,n);i>t.maxDimension&&(o=t.maxDimension/i)}else o=1/t.quality;o<1&&this.resize(r*o,n*o,o)}}function hc(e,t){var r;if(t.length>0){const n=e.data,o=n.length/4;let i,a,s,l,u;for(let d=0;d<o;d++){i=d*4,a=n[i+0],s=n[i+1],l=n[i+2],u=n[i+3];for(let c=0;c<t.length;c++)if(!((r=t[c])!=null&&r.call(t,a,s,l,u))){n[i+3]=0;break}}}return e}function mc(e){const t=new URL(e,location.href);return t.protocol===location.protocol&&t.host===location.host&&t.port===location.port}function _c(e,t){const r=new URL(e),n=new URL(t);return r.protocol===n.protocol&&r.hostname===n.hostname&&r.port===n.port}class gc extends pc{_getCanvas(){if(!this._canvas)throw new Error("Canvas is not initialized");return this._canvas}_getContext(){if(!this._context)throw new Error("Context is not initialized");return this._context}_getWidth(){if(!this._width)throw new Error("Width is not initialized");return this._width}_getHeight(){if(!this._height)throw new Error("Height is not initialized");return this._height}_initCanvas(){const t=this.image;if(!t)throw new Error("Image is not initialized");const r=this._canvas=document.createElement("canvas"),n=r.getContext("2d");if(!n)throw new ReferenceError("Failed to create canvas context");this._context=n,r.className="@vibrant/canvas",r.style.display="none",this._width=r.width=t.width,this._height=r.height=t.height,n.drawImage(t,0,0),document.body.appendChild(r)}load(t){let r,n;if(typeof t=="string")r=document.createElement("img"),n=t,!mc(n)&&!_c(window.location.href,n)&&(r.crossOrigin="anonymous"),r.src=n;else if(t instanceof HTMLImageElement)r=t,n=t.src;else return Promise.reject(new Error("Cannot load buffer as an image in browser"));return this.image=r,new Promise((o,i)=>{const a=()=>{this._initCanvas(),o(this)};r.complete?a():(r.onload=a,r.onerror=s=>i(new Error(`Fail to load image: ${n}`)))})}clear(){this._getContext().clearRect(0,0,this._getWidth(),this._getHeight())}update(t){this._getContext().putImageData(t,0,0)}getWidth(){return this._getWidth()}getHeight(){return this._getHeight()}resize(t,r,n){if(!this.image)throw new Error("Image is not initialized");this._width=this._getCanvas().width=t,this._height=this._getCanvas().height=r,this._getContext().scale(n,n),this._getContext().drawImage(this.image,0,0)}getPixelCount(){return this._getWidth()*this._getHeight()}getImageData(){return this._getContext().getImageData(0,0,this._getWidth(),this._getHeight())}remove(){this._canvas&&this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)}}function $t(e,...t){return t.forEach(r=>{if(r){for(const n in r)if(r.hasOwnProperty(n)){const o=r[n];Array.isArray(o)?e[n]=o.slice(0):typeof o=="object"?(e[n]||(e[n]={}),$t(e[n],o)):e[n]=o}}}),e}function vc(e,t){const{colorCount:r,quantizer:n,generators:o,filters:i}=e,a={colorCount:r},s=typeof n=="string"?{name:n,options:{}}:n;return s.options=$t({},a,s.options),$t({},{quantizer:s,generators:o,filters:i},t)}class yc{constructor(t,r={}){this._src=t,this._opts=$t({},Ye.DefaultOpts,r)}maxColorCount(t){return this._opts.colorCount=t,this}maxDimension(t){return this._opts.maxDimension=t,this}addFilter(t){return this._opts.filters?this._opts.filters.push(t):this._opts.filters=[t],this}removeFilter(t){if(this._opts.filters){const r=this._opts.filters.indexOf(t);r>0&&this._opts.filters.splice(r)}return this}clearFilters(){return this._opts.filters=[],this}quality(t){return this._opts.quality=t,this}useImageClass(t){return this._opts.ImageClass=t,this}useGenerator(t,r){return this._opts.generators||(this._opts.generators=[]),this._opts.generators.push(r?{name:t,options:r}:t),this}useQuantizer(t,r){return this._opts.quantizer=r?{name:t,options:r}:t,this}build(){return new Ye(this._src,this._opts)}getPalette(){return this.build().getPalette()}}class on{constructor(t){this.pipeline=t,this._map={}}names(){return Object.keys(this._map)}has(t){return!!this._map[t]}get(t){return this._map[t]}register(t,r){return this._map[t]=r,this.pipeline}}class bc{constructor(){this.filter=new on(this),this.quantizer=new on(this),this.generator=new on(this)}_buildProcessTasks({filters:t,quantizer:r,generators:n}){return n.length===1&&n[0]==="*"&&(n=this.generator.names()),{filters:t.map(i=>o(this.filter,i)),quantizer:o(this.quantizer,r),generators:n.map(i=>o(this.generator,i))};function o(i,a){let s,l;return typeof a=="string"?s=a:(s=a.name,l=a.options),{name:s,fn:i.get(s),options:l}}}async process(t,r){const{filters:n,quantizer:o,generators:i}=this._buildProcessTasks(r),a=await this._filterColors(n,t),s=await this._generateColors(o,a),l=await this._generatePalettes(i,s);return{colors:s,palettes:l}}_filterColors(t,r){return Promise.resolve(hc(r,t.map(({fn:n})=>n)))}_generateColors(t,r){return Promise.resolve(t.fn(r.data,t.options))}async _generatePalettes(t,r){const n=await Promise.all(t.map(({fn:o,options:i})=>Promise.resolve(o(r,i))));return Promise.resolve(n.reduce((o,i,a)=>(o[t[a].name]=i,o),{}))}}function xc(e,t,r){return"#"+((1<<24)+(e<<16)+(t<<8)+r).toString(16).slice(1,7)}function wc(e,t,r){e/=255,t/=255,r/=255;const n=Math.max(e,t,r),o=Math.min(e,t,r);let i=0,a=0;const s=(n+o)/2;if(n!==o){const l=n-o;switch(a=s>.5?l/(2-n-o):l/(n+o),n){case e:i=(t-r)/l+(t<r?6:0);break;case t:i=(r-e)/l+2;break;case r:i=(e-t)/l+4;break}i/=6}return[i,a,s]}function je(e,t,r){let n,o,i;function a(s,l,u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?s+(l-s)*6*u:u<1/2?l:u<2/3?s+(l-s)*(2/3-u)*6:s}if(t===0)n=o=i=r;else{const s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;n=a(l,s,e+1/3),o=a(l,s,e),i=a(l,s,e-1/3)}return[n*255,o*255,i*255]}class $e{static applyFilters(t,r){return r.length>0?t.filter(({r:n,g:o,b:i})=>{var a;for(let s=0;s<r.length;s++)if(!((a=r[s])!=null&&a.call(r,n,o,i,255)))return!1;return!0}):t}static clone(t){return new $e(t._rgb,t._population)}get r(){return this._rgb[0]}get g(){return this._rgb[1]}get b(){return this._rgb[2]}get rgb(){return this._rgb}get hsl(){if(!this._hsl){const[t,r,n]=this._rgb;this._hsl=wc(t,r,n)}return this._hsl}get hex(){if(!this._hex){const[t,r,n]=this._rgb;this._hex=xc(t,r,n)}return this._hex}get population(){return this._population}toJSON(){return{rgb:this.rgb,population:this.population}}getYiq(){if(!this._yiq){const t=this._rgb;this._yiq=(t[0]*299+t[1]*587+t[2]*114)/1e3}return this._yiq}get titleTextColor(){return this._titleTextColor||(this._titleTextColor=this.getYiq()<200?"#fff":"#000"),this._titleTextColor}get bodyTextColor(){return this._bodyTextColor||(this._bodyTextColor=this.getYiq()<150?"#fff":"#000"),this._bodyTextColor}constructor(t,r){this._rgb=t,this._population=r}}const gi=class $n{constructor(t,r){this._src=t,this.opts=$t({},$n.DefaultOpts,r)}static use(t){this._pipeline=t}static from(t){return new yc(t)}get result(){return this._result}_process(t,r){t.scaleDown(this.opts);const n=vc(this.opts,r);return $n._pipeline.process(t.getImageData(),n)}async getPalette(){const t=new this.opts.ImageClass;try{const r=await t.load(this._src),n=await this._process(r,{generators:["default"]});this._result=n;const o=n.palettes.default;if(!o)throw new Error("Something went wrong and a palette was not found, please file a bug against our GitHub repo: https://github.com/vibrant-Colors/node-vibrant/");return t.remove(),o}catch(r){return t.remove(),Promise.reject(r)}}async getPalettes(){const t=new this.opts.ImageClass;try{const r=await t.load(this._src),n=await this._process(r,{generators:["*"]});this._result=n;const o=n.palettes;return t.remove(),o}catch(r){return t.remove(),Promise.reject(r)}}};gi.DefaultOpts={colorCount:64,quality:5,filters:[]};let Ye=gi;Ye.DefaultOpts.quantizer="mmcq",Ye.DefaultOpts.generators=["default"],Ye.DefaultOpts.filters=["default"],Ye.DefaultOpts.ImageClass=gc;const an=5,sn=8-an;class tr{constructor(t,r,n,o,i,a,s){this.histogram=s,this._volume=-1,this._avg=null,this._count=-1,this.dimension={r1:t,r2:r,g1:n,g2:o,b1:i,b2:a}}static build(t){const r=new fc(t,{sigBits:an}),{rmin:n,rmax:o,gmin:i,gmax:a,bmin:s,bmax:l}=r;return new tr(n,o,i,a,s,l,r)}invalidate(){this._volume=this._count=-1,this._avg=null}volume(){if(this._volume<0){const{r1:t,r2:r,g1:n,g2:o,b1:i,b2:a}=this.dimension;this._volume=(r-t+1)*(o-n+1)*(a-i+1)}return this._volume}count(){if(this._count<0){const{hist:t,getColorIndex:r}=this.histogram,{r1:n,r2:o,g1:i,g2:a,b1:s,b2:l}=this.dimension;let u=0;for(let d=n;d<=o;d++)for(let c=i;c<=a;c++)for(let p=s;p<=l;p++){const h=r(d,c,p);t[h]&&(u+=t[h])}this._count=u}return this._count}clone(){const{histogram:t}=this,{r1:r,r2:n,g1:o,g2:i,b1:a,b2:s}=this.dimension;return new tr(r,n,o,i,a,s,t)}avg(){if(!this._avg){const{hist:t,getColorIndex:r}=this.histogram,{r1:n,r2:o,g1:i,g2:a,b1:s,b2:l}=this.dimension;let u=0;const d=1<<8-an;let c,p,h;c=p=h=0;for(let m=n;m<=o;m++)for(let _=i;_<=a;_++)for(let g=s;g<=l;g++){const v=r(m,_,g),b=t[v];b&&(u+=b,c+=b*(m+.5)*d,p+=b*(_+.5)*d,h+=b*(g+.5)*d)}u?this._avg=[~~(c/u),~~(p/u),~~(h/u)]:this._avg=[~~(d*(n+o+1)/2),~~(d*(i+a+1)/2),~~(d*(s+l+1)/2)]}return this._avg}contains(t){let[r,n,o]=t;const{r1:i,r2:a,g1:s,g2:l,b1:u,b2:d}=this.dimension;return r>>=sn,n>>=sn,o>>=sn,r>=i&&r<=a&&n>=s&&n<=l&&o>=u&&o<=d}split(){const{hist:t,getColorIndex:r}=this.histogram,{r1:n,r2:o,g1:i,g2:a,b1:s,b2:l}=this.dimension,u=this.count();if(!u)return[];if(u===1)return[this.clone()];const d=o-n+1,c=a-i+1,p=l-s+1,h=Math.max(d,c,p);let m=null,_,g;_=g=0;let v=null;if(h===d){v="r",m=new Uint32Array(o+1);for(let w=n;w<=o;w++){_=0;for(let P=i;P<=a;P++)for(let T=s;T<=l;T++){const O=r(w,P,T);t[O]&&(_+=t[O])}g+=_,m[w]=g}}else if(h===c){v="g",m=new Uint32Array(a+1);for(let w=i;w<=a;w++){_=0;for(let P=n;P<=o;P++)for(let T=s;T<=l;T++){const O=r(P,w,T);t[O]&&(_+=t[O])}g+=_,m[w]=g}}else{v="b",m=new Uint32Array(l+1);for(let w=s;w<=l;w++){_=0;for(let P=n;P<=o;P++)for(let T=i;T<=a;T++){const O=r(P,T,w);t[O]&&(_+=t[O])}g+=_,m[w]=g}}let b=-1;const E=new Uint32Array(m.length);for(let w=0;w<m.length;w++){const P=m[w];P&&(b<0&&P>g/2&&(b=w),E[w]=g-P)}const C=this;function y(w){const P=w+"1",T=w+"2",O=C.dimension[P];let M=C.dimension[T];const A=C.clone(),U=C.clone(),q=b-O,X=M-b;for(q<=X?(M=Math.min(M-1,~~(b+X/2)),M=Math.max(0,M)):(M=Math.max(O,~~(b-1-q/2)),M=Math.min(C.dimension[T],M));!m[M];)M++;let fe=E[M];for(;!fe&&m[M-1];)fe=E[--M];return A.dimension[T]=M,U.dimension[P]=M+1,[A,U]}return y(v)}}class vi{_sort(){this._sorted||(this.contents.sort(this._comparator),this._sorted=!0)}constructor(t){this._comparator=t,this.contents=[],this._sorted=!1}push(t){this.contents.push(t),this._sorted=!1}peek(t){return this._sort(),t=typeof t=="number"?t:this.contents.length-1,this.contents[t]}pop(){return this._sort(),this.contents.pop()}size(){return this.contents.length}map(t){return this._sort(),this.contents.map(t)}}const Cc=.75;function yi(e,t){let r=e.size();for(;e.size()<t;){const n=e.pop();if(n&&n.count()>0){const[o,i]=n.split();if(!o||(e.push(o),i&&i.count()>0&&e.push(i),e.size()===r))break;r=e.size()}else break}}const Sc=(e,t)=>{if(e.length===0||t.colorCount<2||t.colorCount>256)throw new Error("Wrong MMCQ parameters");const r=tr.build(e);r.histogram.colorCount;const n=new vi((i,a)=>i.count()-a.count());n.push(r),yi(n,Cc*t.colorCount);const o=new vi((i,a)=>i.count()*i.volume()-a.count()*a.volume());return o.contents=n.contents,yi(o,t.colorCount-o.size()),kc(o)};function kc(e){const t=[];for(;e.size();){const r=e.pop(),n=r.avg();t.push(new $e(n,r.count()))}return t}const Pc={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};function Ec(e){let t=0;return e.forEach(r=>{t=Math.max(t,r.population)}),t}function Tc(e,t){return e.Vibrant===t||e.DarkVibrant===t||e.LightVibrant===t||e.Muted===t||e.DarkMuted===t||e.LightMuted===t}function $c(e,t,r,n,o,i,a){function s(...u){let d=0,c=0;for(let p=0;p<u.length;p+=2){const h=u[p],m=u[p+1];!h||!m||(d+=h*m,c+=m)}return d/c}function l(u,d){return 1-Math.abs(u-d)}return s(l(e,t),a.weightSaturation,l(r,n),a.weightLuma,o/i,a.weightPopulation)}function pt(e,t,r,n,o,i,a,s,l,u){let d=null,c=0;return t.forEach(p=>{const[,h,m]=p.hsl;if(h>=s&&h<=l&&m>=o&&m<=i&&!Tc(e,p)){const _=$c(h,a,m,n,p.population,r,u);(d===null||_>c)&&(d=p,c=_)}}),d}function Rc(e,t,r){const n={Vibrant:null,DarkVibrant:null,LightVibrant:null,Muted:null,DarkMuted:null,LightMuted:null};return n.Vibrant=pt(n,e,t,r.targetNormalLuma,r.minNormalLuma,r.maxNormalLuma,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),n.LightVibrant=pt(n,e,t,r.targetLightLuma,r.minLightLuma,1,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),n.DarkVibrant=pt(n,e,t,r.targetDarkLuma,0,r.maxDarkLuma,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),n.Muted=pt(n,e,t,r.targetNormalLuma,r.minNormalLuma,r.maxNormalLuma,r.targetMutesSaturation,0,r.maxMutesSaturation,r),n.LightMuted=pt(n,e,t,r.targetLightLuma,r.minLightLuma,1,r.targetMutesSaturation,0,r.maxMutesSaturation,r),n.DarkMuted=pt(n,e,t,r.targetDarkLuma,0,r.maxDarkLuma,r.targetMutesSaturation,0,r.maxMutesSaturation,r),n}function Mc(e,t,r){if(!e.Vibrant&&!e.DarkVibrant&&!e.LightVibrant){if(!e.DarkVibrant&&e.DarkMuted){let[n,o,i]=e.DarkMuted.hsl;i=r.targetDarkLuma,e.DarkVibrant=new $e(je(n,o,i),0)}if(!e.LightVibrant&&e.LightMuted){let[n,o,i]=e.LightMuted.hsl;i=r.targetDarkLuma,e.DarkVibrant=new $e(je(n,o,i),0)}}if(!e.Vibrant&&e.DarkVibrant){let[n,o,i]=e.DarkVibrant.hsl;i=r.targetNormalLuma,e.Vibrant=new $e(je(n,o,i),0)}else if(!e.Vibrant&&e.LightVibrant){let[n,o,i]=e.LightVibrant.hsl;i=r.targetNormalLuma,e.Vibrant=new $e(je(n,o,i),0)}if(!e.DarkVibrant&&e.Vibrant){let[n,o,i]=e.Vibrant.hsl;i=r.targetDarkLuma,e.DarkVibrant=new $e(je(n,o,i),0)}if(!e.LightVibrant&&e.Vibrant){let[n,o,i]=e.Vibrant.hsl;i=r.targetLightLuma,e.LightVibrant=new $e(je(n,o,i),0)}if(!e.Muted&&e.Vibrant){let[n,o,i]=e.Vibrant.hsl;i=r.targetMutesSaturation,e.Muted=new $e(je(n,o,i),0)}if(!e.DarkMuted&&e.DarkVibrant){let[n,o,i]=e.DarkVibrant.hsl;i=r.targetMutesSaturation,e.DarkMuted=new $e(je(n,o,i),0)}if(!e.LightMuted&&e.LightVibrant){let[n,o,i]=e.LightVibrant.hsl;i=r.targetMutesSaturation,e.LightMuted=new $e(je(n,o,i),0)}}const Oc=(e,t)=>{t=Object.assign({},Pc,t);const r=Ec(e),n=Rc(e,r,t);return Mc(n,r,t),n},Ic=new bc().filter.register("default",(e,t,r,n)=>n>=125&&!(e>250&&t>250&&r>250)).quantizer.register("mmcq",Sc).generator.register("default",Oc);Ye.use(Ic);const cn=()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;function bi(){const{attributes:{entity_picture:e}}=Ce(),[t,r]=Z(null),[n,o]=Z(cn()),i=I(()=>{e&&Ye.from(e).getPalette().then(r).catch(l=>{console.error("Error getting color with Vibrant:",l)})},[e]);me(()=>{r(null),e&&i()},[e]),me(()=>{const l=window.matchMedia("(prefers-color-scheme: dark)"),u=()=>o(cn());if(o(cn()),l.addEventListener)return l.addEventListener("change",u),()=>l.removeEventListener("change",u)},[]);const a=G(()=>{if(n||!t)return null;const l=t.Vibrant??t.Muted;if(!l)return null;const u={...rr(l.hsl),l:50},d=Xe(u),c={...u,s:4.35,l:95.49},p={...Xe(c),l:15.29},h={...c,l:c.l*.98},m=Xe(h),_={...c,l:c.l*1.1},g=Xe(_);return{artVars:`
        --art-color: ${Y(rr(l.hsl))};
        --art-on-art-color: ${l.titleTextColor};
        --art-primary-color: ${Y(u)};
        --art-on-primary-color: ${Y(d)};
        --art-surface-color: ${Y(c)};
        --art-on-surface-color: ${Y(p)};
        --art-surface-higher-color: ${Y(h)};
        --art-on-surface-higher-color: ${Y(m)};
        --art-surface-lower-color: ${Y(_)};
        --art-on-surface-lower-color: ${Y(g)};
      `,haVars:`
        --primary-color: ${Y(u)};
        --ha-card-background: ${Y(c)};
        --card-background-color: ${Y(h)};
        --primary-text-color: ${Y(p)};
        --secondary-text-color: ${Y({...p,l:p.l*1.1})};
        --icon-primary-color: ${Y(p)};
        --divider-color: ${Y({...c,l:88})};
        --clear-background-color: ${Y({...c,l:100})};
        --secondary-background-color: ${Y({...p,l:95})};
      `}},[t,n]),s=G(()=>{if(!n||!t)return null;const l=t.Vibrant??t.Muted;if(!l)return null;const u={...rr(l.hsl),l:50},d=Xe(u),c={...u,s:2.91,l:20.2},p={...Xe(c),l:86.47},h={...c,l:c.l*1.02},m=Xe(h),_={...c,l:c.l*.98},g=Xe(_);return{artVars:`
        --art-color: ${Y(rr(l.hsl))};
        --art-on-art-color: ${l.titleTextColor};
        --art-primary-color: ${Y(u)};
        --art-on-primary-color: ${Y(d)};
        --art-surface-color: ${Y(c)};
        --art-on-surface-color: ${Y(p)};
        --art-surface-higher-color: ${Y(h)};
        --art-on-surface-higher-color: ${Y(m)};
        --art-surface-lower-color: ${Y(_)};
        --art-on-surface-lower-color: ${Y(g)};
      `,haVars:`
        --primary-color: ${Y(u)};
        --ha-card-background: ${Y(c)};
        --card-background-color: ${Y(h)};
        --primary-text-color: ${Y(p)};
        --secondary-text-color: ${Y({...p,l:p.l*.9})};
        --icon-primary-color: ${Y(p)};
        --divider-color: ${Y({...c,l:25})};
        --clear-background-color: ${Y({...c,l:0})};
        --secondary-background-color: ${Y({...p,l:19})};
      `}},[t,n]);return G(()=>({artVars:n?s==null?void 0:s.artVars:a==null?void 0:a.artVars,haVars:n?s==null?void 0:s.haVars:a==null?void 0:a.haVars}),[s,a])}const rr=e=>{const t=Math.round(e[0]*360),r=Math.round(e[1]*100),n=Math.round(e[2]*100);return{h:t,s:r,l:n}},Xe=({h:e,s:t,l:r})=>({h:(e+180)%360,s:t,l:r}),Y=({h:e,s:t,l:r,a:n})=>`hsla(${e}deg, ${t}%, ${r}%, ${n||1})`,Ac="ontouchstart"in window,Vc=S.div`
  position: fixed;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background-color: var(--primary-color, rgba(7, 114, 244));
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  z-index: 9;
  animation: pulse 1s infinite;
  transform: translate(-50%, -50%);

  @keyframes pulse {
    0% {
      transform: translate(-50%, -50%) scale(0.95);
      opacity: 0.6;
    }
    50% {
      transform: translate(-50%, -50%) scale(1);
      opacity: 0.8;
    }
    100% {
      transform: translate(-50%, -50%) scale(0.95);
      opacity: 0.6;
    }
  }
`;function Nc({onTap:e,onLongPress:t,onDoubleTap:r}){const n=ne(null),o=ne(0),i=ne(null),a=ne(null),[s,l]=Z(!1),[u,d]=Z(!1),[c,p]=Z({x:0,y:0}),h=I(()=>{i.current&&clearTimeout(i.current),a.current&&clearTimeout(a.current),d(!1),n.current=null,o.current=0},[]),m=()=>u?f(Vc,{style:{left:`${c.x}px`,top:`${c.y}px`}}):null,_=I(()=>{const T=Date.now();return!!(n.current&&T-n.current>=500)},[]),g=I((T,O)=>{p({x:T,y:O})},[]),v=I((T,O)=>{n.current=Date.now(),g(T,O),a.current=setTimeout(()=>{d(!0)},500)},[g]),b=I((T,O)=>{u&&g(T,O)},[u,g]),E=I(()=>{i.current&&clearTimeout(i.current),a.current&&(clearTimeout(a.current),d(!1)),o.current+=1,i.current=setTimeout(async()=>{l(!0);try{o.current>1?await(r==null?void 0:r()):_()?await(t==null?void 0:t()):await(e==null?void 0:e())}catch(T){console.error("Error in button callback:",T)}l(!1),n.current=null,o.current=0},250)},[_,r,t,e]),C=I(T=>{v(T.clientX,T.clientY)},[v]),y=I(T=>{b(T.clientX,T.clientY)},[b]),w=I(T=>{if(T.touches.length>0){const O=T.touches[0];v(O.clientX,O.clientY)}},[v]),P=I(T=>{if(T.touches.length>0){const O=T.touches[0];b(O.clientX,O.clientY)}},[b]);return G(()=>({...Ac?{onTouchStart:w,onTouchMove:P,onTouchEnd:E,onTouchCancel:h,loading:s}:{onMouseDown:C,onMouseMove:y,onMouseUp:E,onMouseOut:h,loading:s},renderLongPressIndicator:m}),[C,y,E,h,w,P,m])}function ln(){const{attributes:{shuffle:e,repeat:t,source:r,supported_features:n}}=Ce(),o=(n|16)===n,i=(n|32)===n,a=e!==void 0&&!["optical","aux"].includes(r==null?void 0:r.toLowerCase()),s=t!==void 0&&!["optical","aux"].includes(r==null?void 0:r.toLowerCase()),l=(n&4096)===4096||(n&16384)===16384;return G(()=>({supportPreviousTrack:o,supportNextTrack:i,supportsShuffle:a,supportsRepeat:s,supportsTogglePlayPause:l}),[o,i,a,s,l])}const Dc=S.div`
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  gap: 2px;
  overflow-x: auto !important;
  scrollbar-width: none;
  -ms-overflow-style: none;
  ::-webkit-scrollbar {
    display: none;
  }
`,Lc=S(Kr)`
  &:first-child {
    margin-left: 16px;
  }
  &:last-child {
    margin-right: 16px;
  }
`,zc=()=>{const{config:e}=oe(ye),{custom_buttons:t}=e;return f(Dc,{children:t.map((r,n)=>f(Fc,{button:r},n))})},Fc=({button:e})=>{const{rootElement:t,config:r}=oe(ye),{icon:n,name:o,...i}=e,a=Tt({rootElement:t,actionConfig:{...i,entity:r.entity_id}});return f(Lc,{icon:n,...a,children:[!!o&&f("span",{children:o}),a.renderLongPressIndicator()]})},jc=S.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-around;
  width: 100%;
  padding-left: var(--mmpc-extra-horizontal-padding, 0px);
  padding-right: var(--mmpc-extra-horizontal-padding, 0px);
`,Uc=()=>{const{config:e}=oe(ye),{attributes:{shuffle:t,repeat:r},state:n}=Ce(),o=n==="playing",{supportPreviousTrack:i,supportNextTrack:a,supportsShuffle:s,supportsRepeat:l,supportsTogglePlayPause:u}=ln(),d=I(()=>{ce().callService("media_player","media_play_pause",{entity_id:e.entity_id})},[]),c=I(()=>{ce().callService("media_player","media_next_track",{entity_id:e.entity_id})},[]),p=I(()=>{ce().callService("media_player","media_previous_track",{entity_id:e.entity_id})},[]),h=I(()=>{ce().callService("media_player","shuffle_set",{entity_id:e.entity_id,shuffle:!t})},[t]),m=I(()=>{const _=r==="off"?"one":r==="one"?"all":"off";ce().callService("media_player","repeat_set",{entity_id:e.entity_id,repeat:_})},[r]);return f(jc,{children:[s&&f(ae,{size:"small",onClick:h,icon:t?"mdi:shuffle-variant":"mdi:shuffle-disabled"}),i&&f(ae,{size:"large",onClick:p,icon:"mdi:skip-previous"}),u&&f(ae,{size:"x-large",onClick:d,icon:o?"mdi:pause-circle":"mdi:play-circle"}),a&&f(ae,{size:"large",onClick:c,icon:"mdi:skip-next"}),l&&f(ae,{size:"small",onClick:m,icon:r==="one"?"mdi:repeat-once":r==="all"?"mdi:repeat":"mdi:repeat-off"})]})},Bc=S.div`
  display: flex;
  align-items: center;
  flex: 1;
  max-height: 36px;
  margin-top: auto;
  gap: 8px;
`,xi=S(ae)`
  opacity: ${e=>e.muted?.8:1}; // reduce opacity if muted
`,Hc=()=>{var s,l;const e=Ce(),t=e.entity_id,r=((s=e.attributes)==null?void 0:s.volume_level)??0,n=((l=e.attributes)==null?void 0:l.is_volume_muted)??!1,o=I(u=>{ce().callService("media_player","volume_set",{entity_id:t,volume_level:u})},[]),i=I(()=>{ce().callService("media_player","volume_mute",{entity_id:t,is_volume_muted:!n})},[n]),a=G(()=>Pt(r,n),[r,n]);return f(Bc,{children:[f(xi,{size:"small",onClick:i,icon:a}),f(Pn,{min:0,max:1,step:.01,value:r,sliderSize:"large",onChange:o})]})},Wc=({onClick:e})=>{var i,a;const t=Ce(),r=((i=t.attributes)==null?void 0:i.volume_level)??0,n=((a=t.attributes)==null?void 0:a.is_volume_muted)??!1,o=Pt(r,n);return f(xi,{size:"small",onClick:e,icon:o})},qc=S.div`
  display: flex;
  flex-direction: column;
  gap: 18px;
`,Gc=S.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-left: 16px;
  margin-right: 16px;
`,Yc=S.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  margin-left: auto;
  gap: 4px;
  opacity: 0.8;
  // Below positioning hack is probably going to come back to bite me but hey, it works
  position: absolute;
  right: 56px;
  top: 12px;
`,Xc=S.span`
  font-size: 12px;
`,Kc=()=>{var l,u;const e=ft(),{config:t}=oe(ye),{entity_id:r,speaker_group:n}=t,[o,i]=Z(!0),a=(n==null?void 0:n.entity_id)||r,s=e.states[a];return f(qc,{children:[((u=(l=s==null?void 0:s.attributes)==null?void 0:l.group_members)==null?void 0:u.length)>1&&f("div",{children:[f(Yc,{children:[f(Xc,{onClick:()=>i(!o),children:"Link Volume"}),f(ae,{icon:o?"mdi:check-circle":"mdi:circle-outline",size:"x-small",onClick:()=>i(!o)})]}),f(Gc,{children:f(mi,{config:{entity_id:r,speaker_group:n},syncMainSpeaker:o})})]}),f(tn,{config:{entity_id:r,speaker_group:n},showGrouped:!1,layout:{horizontalMargin:16}})]})},Jc=S.div`
  background-color: var(--mmpc-surface-higher);
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  border-radius: 12px;
  padding: 12px;
  width: 100%;
  position: relative;
  box-sizing: border-box;
  box-shadow: 0 15px 100px var(--clear-background-color);
`,Zc=Kt`
  from {
    transform: translateY(30px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
`,Qc=S.div`
  position: absolute;
  bottom: calc(100% + 12px);
  left: 0;
  width: 100%;
  background-color: var(--mmpc-surface-higher);
  border-radius: 12px;
  box-sizing: border-box;
  animation: ${Zc} 0.3s ease forwards;
  box-shadow: 0 0px 80px var(--clear-background-color);
`,el=S.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  > h4 {
    margin: 0;
  }
  padding: 8px 16px;
  color: var(--primary-text-color, #fff);
  border-bottom: 0.5px solid var(--divider-color, rgba(0, 0, 0, 0.12));
`,tl=S.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: ${e=>e.padding??"16px"};
`,rl=()=>{const{config:e}=oe(ye),{entity_id:t,custom_buttons:r,speaker_group:n}=e,[o,i]=Z(),a=I(l=>{i(o===l?void 0:l)},[o]),s=I(()=>{ce().callService("media_player","toggle",{entity_id:t})},[t]);return f(Jc,{children:[f(un,{title:"Volume",isOpen:o==="volume",onClose:()=>i(void 0),children:f(Hc,{})}),f(un,{title:"Speaker Grouping",isOpen:o==="speaker-grouping",onClose:()=>i(void 0),padding:"16px 0px 16px 0px",children:f(Kc,{})}),!!n&&f(ae,{size:"small",icon:"mdi:speaker-multiple",onClick:()=>a("speaker-grouping")}),r==null?void 0:r.slice(0,2).map((l,u)=>f(nl,{button:l},u)),(r==null?void 0:r.length)>3&&f(de,{children:[f(ae,{size:"small",icon:"mdi:dots-horizontal",onClick:()=>a("custom-buttons")}),f(un,{title:"Shortcuts",isOpen:o==="custom-buttons",onClose:()=>i(void 0),padding:"16px 0px 16px 0px",children:f(zc,{})})]}),f(ae,{size:"small",icon:"mdi:power",onClick:s}),f(Wc,{onClick:()=>a("volume")})]})},un=({children:e,title:t,isOpen:r,padding:n,onClose:o})=>r?f(Qc,{children:[f(el,{children:[f("h4",{children:t}),f(ae,{type:"button",size:"small",icon:"mdi:close",onClick:o})]}),f(tl,{padding:n,children:e})]}):null,nl=({button:e})=>{const{rootElement:t,config:r}=oe(ye),{icon:n,name:o,...i}=e,a=Tt({rootElement:t,actionConfig:{...i,entity:r.entity_id}});return f(ae,{icon:e.icon??"mdi:dots-vertical",size:"small",...a})},ol=S.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  text-align: center;
  color: var(--primary-text-color, #fff);
  padding-left: var(--mmpc-extra-horizontal-padding, 0px);
  padding-right: var(--mmpc-extra-horizontal-padding, 0px);
  > h2,
  > h3 {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    width: 100%;
  }
`,il=S.h2`
  margin: 0px;
`,al=S.h3`
  margin: 0px;
  font-weight: normal;
  color: var(--secondary-text-color, #fff);
`,sl=()=>{const{title:e,subtitle:t}=Ce();return f(ol,{children:[!!e&&f(il,{children:e}),!!t&&f(al,{children:t})]})},cl=S.div`
  padding-left: var(--mmpc-extra-horizontal-padding, 0px);
  padding-right: var(--mmpc-extra-horizontal-padding, 0px);
`,ll=S.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  margin-top: 4px;
  color: var(--secondary-text-color, #888);
  height: 20px;
  margin-bottom: -20px;
`,ul=()=>{const e=Ce(),[t,r]=Z(0),n=e.state==="playing";me(()=>{if(!n)return;const i=setInterval(()=>{r(a=>a+1)},1e3);return()=>clearInterval(i)},[n]);const o=G(()=>{var h,m,_;const i=((h=e.attributes)==null?void 0:h.media_position)??null,a=((m=e.attributes)==null?void 0:m.media_position_updated_at)??null,s=((_=e.attributes)==null?void 0:_.media_duration)??null;if(i===null||i<0||s===null||a===null)return null;const l=new Date,u=new Date(a),c=(l.getTime()-u.getTime())/1e3+i,p=g=>{const v=Math.floor(g/60).toString().padStart(2,"0"),b=Math.round(g-Number(v)*60).toString().padStart(2,"0");return`${v}:${b}`};return{currentPosition:c,mediaDuration:s,prettyNow:p(c),prettyEnd:p(s)}},[e,t]);return o?f(cl,{children:[f(Ql,{value:o.currentPosition,min:0,max:o.mediaDuration}),f(ll,{children:[f("span",{children:o.prettyNow}),f("span",{children:o.prettyEnd})]})]}):null},dl=S.div`
  display: flex;
  justify-content: center;
  align-items: center;
  --mmpc-extra-horizontal-padding: 0px;

  ${e=>e.$artColorVars??""}
  ${e=>e.$useArtColors&&e.$haColorVars?e.$haColorVars:""}

  ${e=>{switch(e==null?void 0:e.mode){case"panel":return`
          width: 100%;
          height: 100%;
          // Below gradient transitions from panel header color to transparent
          background: linear-gradient(
            var(--app-header-background-color),
            rgba(255, 255, 255, 0)
          );
          max-height: calc(100vh - var(--header-height, 16px));
        `;case"popup":return`
          --mmpc-extra-horizontal-padding: 12px;`;default:return""}}}

  box-sizing: border-box;
  * {
    box-sizing: border-box;
  }
  --mmpc-surface-higher: var(--card-background-color);
`,fl=S.div`
  display: flex;
  flex: 1;
  flex-direction: column;
  gap: 16px;
  justify-content: space-around;
  align-items: center;
  padding-top: 16px;
  padding-bottom: 16px;
  ${e=>{switch(e==null?void 0:e.mode){case"panel":return`
          width: 90%;
          max-width: 400px;
          padding: 16px;
        `;case"popup":return`
          max-width: 100%;
          padding: 16px;
          padding-bottom: max(calc(env(safe-area-inset-bottom) + 8px), 16px);
        `;case"card":return`
          width: 100%;
          padding: 16px;
        `;default:return""}}}
  height: 100%;
`,pl=S.div`
  display: flex;
  flex-direction: column;
  max-height: 300px;
  min-height: 280px;
  width: 100%;
  height: 100%;
  justify-content: space-between;
`,wi=({className:e})=>{const{config:t}=oe(ye),{mode:r,use_art_colors:n}=t,{artVars:o,haVars:i}=bi(),a=()=>f(dl,{className:e,mode:r,$artColorVars:o,$haColorVars:i,$useArtColors:n,children:f(fl,{mode:r,children:[f(ci,{iconSize:"x-large",borderRadius:8}),f(pl,{children:[f(sl,{}),f(ul,{}),f(Uc,{}),f(rl,{})]})]})});return r==="card"?f("ha-card",{children:a()}):a()},hl=({config:e,rootElement:t,hass:r})=>{(!e||!r||!t)&&console.error("No config or hass");const n=I(d=>{const c=new Event("config-changed",{bubbles:!0,composed:!0});c.detail={config:d},t.dispatchEvent(c)},[t]),o=I((d,c)=>{if(!e)return;const p=d.split("."),h={...e};let m=h;for(let _=0;_<p.length-1;_++)m[p[_]]||(m[p[_]]={}),m=m[p[_]];m[p[p.length-1]]=c,n(h)},[e,n]),i=I(()=>{const d=[...e.custom_buttons||[],{icon:"mdi:paper-roll",name:"New Button",tap_action:{action:"toggle"}}];n({...e,custom_buttons:d})},[e,n]),a=I(d=>{const c=[...e.custom_buttons||[]];c.splice(d,1),n({...e,custom_buttons:c})},[e,n]),s=I((d,c,p)=>{const h=[...e.custom_buttons||[]];h[d]={...h[d],[c]:p},n({...e,custom_buttons:h})},[e,n]),l=I((d,c)=>{const p=[...e.custom_buttons||[]];p[d]={...p[d],...c},n({...e,custom_buttons:p})},[e,n]);if(!e||!r)return null;const u={...e,use_art_colors:e.use_art_colors??!1,speaker_group:e.speaker_group||{entity_id:"",entities:[]},custom_buttons:e.custom_buttons||[]};return f("form",{children:[f(be,{children:f(dt,{hass:r,value:u.entity_id,onChange:d=>o("entity_id",d),label:"Media Player Entity",domains:["media_player"],required:!0})}),f(be,{children:f(Zr,{children:[f(en,{type:"checkbox",id:"use_art_colors",checked:u.use_art_colors,onChange:d=>o("use_art_colors",d.target.checked)}),f(Qr,{htmlFor:"use_art_colors",children:"Use album art colors"})]})}),f(tt,{title:"Display Mode",children:f(Ks,{options:[{name:"Panel",value:"panel"},{name:"Card",value:"card"},{name:"In Card",value:"in-card"}],onSelected:d=>o("mode",d),selected:e.mode||"panel"})}),f(be,{children:f(tt,{title:"Interactions",children:f(Jt,{hass:r,value:u.action||{},onChange:d=>o("action",d)})})}),f(be,{children:f(tt,{title:"Speaker Group Configuration (optional)",children:[f(be,{children:f(dt,{hass:r,value:u.speaker_group.entity_id,onChange:d=>o("speaker_group.entity_id",d),label:"Main Speaker Entity ID (Optional)",domains:["media_player"]})}),f(Zt,{children:"Select Speakers (including main speaker)"}),f(be,{children:f(di,{hass:r,value:u.speaker_group.entities,onChange:d=>o("speaker_group.entities",d),label:"Speaker Group Entities (including main speaker)",domains:["media_player"]})})]})}),f(be,{children:f(fi,{children:[u.custom_buttons.map((d,c)=>{const{name:p,icon:h,...m}=d;return f(tt,{title:`Button ${c} - ${d.name}`,children:[f(be,{children:[f(Qt,{children:f(er,{value:p||"",onChange:_=>s(c,"name",_),hass:r,label:"Name"})}),f(Qt,{children:f(er,{value:h||"",onChange:_=>s(c,"icon",_),hass:r,isIconInput:!0,label:"Icon"})}),f(Zt,{children:"Interactions"}),f(Jt,{hass:r,value:m,onChange:_=>l(c,_)})]}),f(pi,{type:"button",onClick:()=>a(c),children:"Remove Button"})]},c)}),f(Jr,{type:"button",onClick:i,children:"Add Custom Button"})]})})]})},ml=S.div`
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  overflow-x: auto !important;
  scrollbar-width: none;
  -ms-overflow-style: none;
  ::-webkit-scrollbar {
    display: none;
  }
  padding-top: 16px;
  padding-bottom: 16px;
  border-top: 0.5px solid var(--divider-color, rgba(0, 0, 0, 0.12));
  gap: 2px;
`,_l=S(Kr)`
  &:first-child {
    margin-left: 16px;
  }
  &:last-child {
    margin-right: 16px;
  }
`,gl=()=>{const{config:e}=oe(ye),{custom_buttons:t}=e;return f(ml,{children:t.map((r,n)=>f(Ci,{button:r},n))})},Ci=({button:e,type:t="chip"})=>{const{rootElement:r,config:n}=oe(ye),{icon:o,name:i,...a}=e,s=Tt({rootElement:r,actionConfig:{...a,entity:n.entity_id}});return t==="icon-button"?f(ae,{icon:e.icon??"mdi:dots-vertical",size:"x-small",...s}):f(_l,{icon:o,...s,children:[!!i&&f("span",{children:i}),s.renderLongPressIndicator()]})},vl=Kt`
  from {
    transform: translateY(15%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
`,yl=S.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 8; // Above header and below dialogs
  transition: opacity 0.3s ease-in-out;
  display: flex;
  justify-content: center;
  align-items: flex-end;
  @media screen and (min-height: 832px) {
    align-items: center;
  }
`,bl=S.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
`,xl=S.div`
  animation: ${vl} 0.55s cubic-bezier(0.25, 1, 0.5, 1) forwards;
  max-height: 98vh;
  height: fit-content;
  width: 424px;
  max-width: 98vw;
  margin-botton: 16px;
  background-color: var(--ha-card-background, var(--card-background-color));
  overflow: hidden;
  box-shadow: 0px 10px 20px var(--clear-background-color);
  border-top-left-radius: var(--ha-dialog-border-radius, 28px);
  border-top-right-radius: var(--ha-dialog-border-radius, 28px);
  @media screen and (min-height: 832px) {
    border-radius: var(--ha-dialog-border-radius, 28px);
    box-shadow: 0px 0px 20px var(--clear-background-color);
  }

  @media (prefers-color-scheme: light) {
    box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.2);
  }
`,wl=S.div`
  display: grid;
  height: 100%;
`,Si=58,Cl=S.div`
  display: flex;
  height: ${Si}px;
  justify-content: flex-start;
  align-items: center;
  padding: 0px 16px;
  border-bottom: 1px solid var(--divider-color, rgba(0, 0, 0, 0.12));
  gap: 8px;
`,Sl=S.h2`
  margin: 0;
  font-size: 18px;
  font-weight: 500;
  color: var(--primary-text-color, #212121);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  margin-right: auto;
`,kl=S(wi)`
  max-height: calc(98vh - ${Si}px);
  max-width: 98vw;
  width: 100%;
  height: 100%;
  overflow: hidden;
`,Pl=({visible:e,setVisible:t})=>{var m,_;const r=ft(),{config:n,rootElement:o}=oe(ye),{entity_id:i,speaker_group:a}=n,{attributes:{friendly_name:s,icon:l,device_class:u}}=Ce(),d=(_=(m=r.states[(a==null?void 0:a.entity_id)??i])==null?void 0:m.attributes)==null?void 0:_.group_members,c=Xr({icon:l,deviceClass:u}),p=G(()=>{const{tap_opens_popup:g,...v}=n;return{...v,mode:"popup"}},[n]),h=Tt({rootElement:o,actionConfig:{tap_action:{action:"more-info"},entity:i}});return e?f(yl,{children:[f(bl,{onClick:()=>t(!1)}),f(xl,{children:[f(Cl,{children:[f(Et,{size:"small",icon:c}),f(Sl,{children:[s,(d==null?void 0:d.length)>1&&f("span",{children:[" +",d.length-1]})]}),f(ae,{size:"small",...h,icon:"mdi:dots-vertical"}),f(ae,{icon:"mdi:close",size:"small",onClick:()=>t(!1)})]}),f(wl,{children:f(li,{rootElement:o,config:p,children:f(kl,{})})})]})]}):null},ki=Te({player:null}),El=({hass:e,children:t,entityId:r})=>{const n=G(()=>{const o=e.states[r];if(!o)return{player:null};const{attributes:{media_title:i,media_artist:a,media_album_name:s,source:l,friendly_name:u},state:d}=o;if(d==="off")return{player:{...o,title:u,subtitle:void 0}};const c=(i!==""?i:void 0)??(l.startsWith("media_player.")?void 0:l)??u,p=s||a?`${s!==c?`${s} - `:""}${a}`:void 0;return{player:{...o,title:c,subtitle:p}}},[e.states,r]);return f(ki.Provider,{value:n,children:t})},Ce=()=>{const e=oe(ki);if(!e)throw new Error("useHass must be used within a HassContextProvider");return e.player},Tl=S.h3`
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: var(--primary-text-color, #333);
`,$l=S.p`
  margin: 0px;
  font-size: 14px;
  color: var(--secondary-text-color, #666);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,Rl=()=>{const{title:e,subtitle:t}=Ce();return f(de,{children:[!!e&&f(Tl,{children:e}),!!t&&f($l,{children:t})]})},Ml=S.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  margin-top: auto;
  height: 36px; // fixed to prevent jumping
  margin-left: -4px; // compensate for icon button padding
`,Rt=S(ae)`
  opacity: ${e=>e.muted?.8:1}; // reduce opacity if muted
`,Ol=()=>{const{config:e}=oe(ye),{attributes:{shuffle:t,repeat:r},state:n}=Ce(),o=n==="playing",{supportPreviousTrack:i,supportNextTrack:a,supportsShuffle:s,supportsRepeat:l,supportsTogglePlayPause:u}=ln(),d=I(()=>{ce().callService("media_player","media_play_pause",{entity_id:e.entity_id})},[]),c=I(()=>{ce().callService("media_player","media_next_track",{entity_id:e.entity_id})},[]),p=I(()=>{ce().callService("media_player","media_previous_track",{entity_id:e.entity_id})},[]),h=I(()=>{ce().callService("media_player","shuffle_set",{entity_id:e.entity_id,shuffle:!t})},[t]),m=I(()=>{const _=r==="off"?"one":r==="one"?"all":"off";ce().callService("media_player","repeat_set",{entity_id:e.entity_id,repeat:_})},[r]);return f(Ml,{children:[!!s&&f(Rt,{size:"x-small",onClick:h,muted:!t,icon:t?"mdi:shuffle-variant":"mdi:shuffle-disabled"}),!!i&&f(Rt,{size:"small",onClick:p,icon:"mdi:skip-previous"}),u&&f(Rt,{size:"medium",onClick:d,icon:o?"mdi:pause-circle":"mdi:play-circle"}),!!a&&f(Rt,{size:"small",onClick:c,icon:"mdi:skip-next"}),!!l&&f(Rt,{size:"x-small",onClick:m,muted:r==="off",icon:r==="one"?"mdi:repeat-once":r==="all"?"mdi:repeat":"mdi:repeat-off"})]})},Il=S.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 4px;
`,Pi=S.span`
  font-size: 11px;
  color: var(--secondary-text-color, #888);
  opacity: 0.8;
  font-style: italic;
`,Al=()=>{var d,c;const e=ft(),{config:t}=oe(ye),{entity_id:r,speaker_group:n}=t,{attributes:{friendly_name:o,icon:i,device_class:a},state:s}=Ce(),l=(c=(d=e.states[(n==null?void 0:n.entity_id)??r])==null?void 0:d.attributes)==null?void 0:c.group_members,u=Xr({icon:i,deviceClass:a});return s==="off"?null:f(Il,{children:[f(Et,{icon:u,size:"xx-small"}),f(Pi,{children:o}),l&&l.length>1&&f(Pi,{children:["+",l.length-1]})]})},Vl=S.div`
  display: flex;
  flex-direction: column;
  padding-top: 12px;
  padding-bottom: 16px;
  border-top: 0.5px solid var(--divider-color, rgba(0, 0, 0, 0.12));
  gap: 12px;
`,Ei=S.h3`
  font-size: 16px;
  font-weight: 500;
  color: var(--primary-text-color);
  margin: 0px 16px;
`,Nl=S.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  margin-left: auto;
  gap: 4px;
  margin-right: 19px;
`,Dl=S.span`
  font-size: 12px;
  color: var(--secondary-text-color);
`,Ll=S.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-left: 16px;
  margin-right: 16px;
`,zl=S.div`
  display: flex;
  align-items: center;
`,Fl=()=>{var l,u;const e=ft(),{config:t}=oe(ye),{entity_id:r,speaker_group:n}=t,[o,i]=Z(!0),a=(n==null?void 0:n.entity_id)||r,s=e.states[a];return f(Vl,{children:[((u=(l=s==null?void 0:s.attributes)==null?void 0:l.group_members)==null?void 0:u.length)>1&&f(de,{children:[f(zl,{children:[f(Ei,{children:"Grouped Speakers"}),f(Nl,{children:[f(Dl,{onClick:()=>i(!o),children:"Link Volume"}),f(ae,{icon:o?"mdi:check-circle":"mdi:circle-outline",size:"x-small",onClick:()=>i(!o)})]})]}),f(Ll,{children:f(mi,{config:{entity_id:r,speaker_group:n},syncMainSpeaker:o})})]}),f(Ei,{children:"Add speakers to group"}),f(tn,{config:{entity_id:r,speaker_group:n},showGrouped:!1,layout:{horizontalMargin:16}})]})},jl=S.div`
  display: flex;
  align-items: center;
  flex: 1;
  transition: all 0.3s ease;
  margin-top: auto;
  gap: 4px;
`,dn=S(ae)`
  opacity: ${e=>e.muted?.8:1}; // reduce opacity if muted
`,Ul=()=>{var s,l;const e=Ce(),t=e.entity_id,r=((s=e.attributes)==null?void 0:s.volume_level)??0,n=((l=e.attributes)==null?void 0:l.is_volume_muted)??!1,o=I(u=>{ce().callService("media_player","volume_set",{entity_id:t,volume_level:u})},[]),i=I(()=>{ce().callService("media_player","volume_mute",{entity_id:t,is_volume_muted:!n})},[n]),a=G(()=>Pt(r,n),[r,n]);return f(jl,{children:[f(dn,{size:"x-small",onClick:i,icon:a}),f(Pn,{min:0,max:1,step:.01,value:r,sliderSize:"small",onChange:o})]})},Bl=({sliderVisible:e,setSliderVisible:t})=>{var a,s;const r=Ce(),n=((a=r.attributes)==null?void 0:a.volume_level)??0,o=((s=r.attributes)==null?void 0:s.is_volume_muted)??!1,i=Pt(n,o);return f(de,{children:e?f(dn,{size:"small",onClick:()=>t(!1),icon:"mdi:chevron-left"}):f(dn,{size:"small",onClick:()=>t(!0),icon:i})})},Hl=S.div`
  border-radius: var(--ha-card-border-radius, 12px);
  overflow: hidden;
  ${e=>e.$artColorVars??""}
  ${e=>e.$useArtColors&&e.$haColorVars?e.$haColorVars:""}
  ${e=>e.$useArtColors&&`
    background: 
      radial-gradient( circle at bottom right, var(--art-color, transparent) -500%, transparent 40% ),
      radial-gradient( circle at top center, var(--art-color, transparent) -500%, transparent 40% ),
      radial-gradient( circle at bottom center, var(--art-color, transparent) -500%, transparent 40% ),
      radial-gradient( circle at top left, var(--art-color, transparent) -500%, transparent 40% );
  `}
`,Wl=S.div`
  display: flex;
  gap: 14px;
  padding: 12px;
  opacity: ${e=>e.$isOn?1:.7};
  transition: opacity 0.3s ease;
  position: relative;
`,ql=S.div`
  flex: 1;
  display: flex;
  flex-direction: row;
  gap: 12px;
  overflow: hidden;
`,Gl=S.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
`,Yl=S.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
  align-items: flex-end;
  justify-content: space-between;
`,Ti=S.div`
  display: flex;
  flex-direction: row;
  gap: 8px;
  align-items: flex-start;
`,Xl=()=>{const{rootElement:e,config:t}=oe(ye),{entity_id:r,custom_buttons:n,action:o,tap_opens_popup:i,use_art_colors:a}=t,s=n&&n.length>0,[l,u]=Z(!1),[d,c]=Z(!1),[p,h]=Z(!1),{artVars:m,haVars:_}=bi(),{state:g,subtitle:v}=Ce(),b=ln(),E=!b.supportsTogglePlayPause&&!b.supportNextTrack&&!b.supportPreviousTrack&&!b.supportsShuffle&&!b.supportsRepeat,C=g!=="off"&&g!=="unavailable",y=t.speaker_group&&t.speaker_group.entities&&t.speaker_group.entities.length>0,w=()=>{u(!l)},[P,T]=Z(!1),O=g==="off"||!v?68:100,A=Tt({rootElement:e,actionConfig:{...o??{tap_action:{action:"more-info"}},entity:t.entity_id},overrideCallback:i?{onTap:()=>{T(!0)}}:{}}),U=I(()=>{ce().callService("media_player","toggle",{entity_id:r})},[r]);return f("ha-card",{children:f(Hl,{$artColorVars:m,$haColorVars:_,$useArtColors:a,children:[f(Wl,{$isOn:C,$useArtColors:a,children:[f(ci,{size:O,iconSize:"large",...A}),f(ql,{children:[f(Gl,{children:[f(Rl,{}),f(Al,{}),p||E?f(Ul,{}):f(Ol,{})]}),f(Yl,{children:[f(Ti,{children:[s&&f(de,{children:n.length===1?f(Ci,{button:n[0],type:"icon-button"}):f(ae,{size:"x-small",onClick:()=>c(!d),icon:"mdi:dots-vertical"})}),y&&f(ae,{size:"x-small",onClick:w,icon:"mdi:speaker-multiple"})]}),f(Ti,{children:[!!C&&!E&&f(Bl,{sliderVisible:p,setSliderVisible:h}),(!C||E)&&f(ae,{size:"small",onClick:U,icon:"mdi:power"})]})]})]})]}),l&&y&&f(Fl,{}),d&&f(gl,{}),P&&f(Pl,{visible:P,setVisible:T})]})})},Kl=({config:e,rootElement:t,hass:r})=>{(!e||!r||!t)&&console.error("No config or hass");const n=I(d=>{const c=new Event("config-changed",{bubbles:!0,composed:!0});c.detail={config:d},t.dispatchEvent(c)},[t]),o=I((d,c)=>{if(!e)return;const p=d.split("."),h={...e};let m=h;for(let _=0;_<p.length-1;_++)m[p[_]]||(m[p[_]]={}),m=m[p[_]];m[p[p.length-1]]=c,n(h)},[e,n]),i=I(()=>{const d=[...e.custom_buttons||[],{icon:"mdi:paper-roll",name:"New Button",tap_action:{action:"toggle"}}];n({...e,custom_buttons:d})},[e,n]),a=I(d=>{const c=[...e.custom_buttons||[]];c.splice(d,1),n({...e,custom_buttons:c})},[e,n]),s=I((d,c,p)=>{const h=[...e.custom_buttons||[]];h[d]={...h[d],[c]:p},n({...e,custom_buttons:h})},[e,n]),l=I((d,c)=>{const p=[...e.custom_buttons||[]];p[d]={...p[d],...c},n({...e,custom_buttons:p})},[e,n]);if(!e||!r)return null;const u={...e,use_art_colors:e.use_art_colors??!1,speaker_group:e.speaker_group||{entity_id:"",entities:[]},custom_buttons:e.custom_buttons||[]};return f("form",{children:[f(be,{children:f(dt,{hass:r,value:u.entity_id,onChange:d=>o("entity_id",d),label:"Media Player Entity",domains:["media_player"],required:!0})}),f(be,{children:f(Zr,{children:[f(en,{type:"checkbox",id:"use_art_colors",checked:u.use_art_colors,onChange:d=>o("use_art_colors",d.target.checked)}),f(Qr,{htmlFor:"use_art_colors",children:"Use album art colors"})]})}),f(be,{children:f(tt,{title:"Interactions",children:[f(Zr,{children:[f(en,{type:"checkbox",id:"tap_opens_popup",checked:u.tap_opens_popup||!1,onChange:d=>o("tap_opens_popup",d.target.checked)}),f(Qr,{htmlFor:"tap_opens_popup",children:"Tap opens popup (this will override any setting under tap in action)"})]}),f(Jt,{hass:r,value:u.action||{},onChange:d=>o("action",d)})]})}),f(be,{children:f(tt,{title:"Speaker Group Configuration (optional)",children:[f(be,{children:f(dt,{hass:r,value:u.speaker_group.entity_id,onChange:d=>o("speaker_group.entity_id",d),label:"Main Speaker Entity ID (Optional)",domains:["media_player"]})}),f(Zt,{children:"Select Speakers (including main speaker)"}),f(be,{children:f(di,{hass:r,value:u.speaker_group.entities,onChange:d=>o("speaker_group.entities",d),label:"Speaker Group Entities (including main speaker)",domains:["media_player"]})})]})}),f(be,{children:f(fi,{children:[u.custom_buttons.map((d,c)=>{const{name:p,icon:h,...m}=d;return f(tt,{title:`Button ${c} - ${d.name}`,children:[f(be,{children:[f(Qt,{children:f(er,{value:p||"",onChange:_=>s(c,"name",_),hass:r,label:"Name"})}),f(Qt,{children:f(er,{value:h||"",onChange:_=>s(c,"icon",_),hass:r,isIconInput:!0,label:"Icon"})}),f(Zt,{children:"Interactions"}),f(Jt,{hass:r,value:m,onChange:_=>l(c,_)})]}),f(pi,{type:"button",onClick:()=>a(c),children:"Remove Button"})]},c)}),f(Jr,{type:"button",onClick:i,children:"Add Custom Button"})]})})]})},Jl=S.div`
  display: flex;
  flex-direction: row;
  height: 4px;
  width: 100%;
  background-color: var(--divider-color);
  border-radius: 2px;
  overflow: hidden;
`,Zl=S.div`
  height: 100%;
  background-color: var(--secondary-text-color);
  width: 0%;
  transition: width 1s linear;
`,Ql=({min:e,max:t,value:r})=>{const n=(r-e)/(t-e)*100;return f(Jl,{children:f(Zl,{style:{width:`${n}%`}})})};var nr={exports:{}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var fn,$i;function eu(){if($i)return fn;$i=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function o(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var a={},s=0;s<10;s++)a["_"+String.fromCharCode(s)]=s;var l=Object.getOwnPropertyNames(a).map(function(d){return a[d]});if(l.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(d){u[d]=d}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return fn=o()?Object.assign:function(i,a){for(var s,l=n(i),u,d=1;d<arguments.length;d++){s=Object(arguments[d]);for(var c in s)t.call(s,c)&&(l[c]=s[c]);if(e){u=e(s);for(var p=0;p<u.length;p++)r.call(s,u[p])&&(l[u[p]]=s[u[p]])}}return l},fn}var pn,Ri;function hn(){if(Ri)return pn;Ri=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pn=e,pn}var mn,Mi;function Oi(){return Mi||(Mi=1,mn=Function.call.bind(Object.prototype.hasOwnProperty)),mn}var _n,Ii;function tu(){if(Ii)return _n;Ii=1;var e={},t=function(){};if(e.NODE_ENV!=="production"){var r=hn(),n={},o=Oi();t=function(a){var s="Warning: "+a;typeof console<"u"&&console.error(s);try{throw new Error(s)}catch{}}}function i(a,s,l,u,d){if(e.NODE_ENV!=="production"){for(var c in a)if(o(a,c)){var p;try{if(typeof a[c]!="function"){var h=Error((u||"React class")+": "+l+" type `"+c+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[c]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw h.name="Invariant Violation",h}p=a[c](s,c,u,l,null,r)}catch(_){p=_}if(p&&!(p instanceof Error)&&t((u||"React class")+": type specification of "+l+" `"+c+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof p+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),p instanceof Error&&!(p.message in n)){n[p.message]=!0;var m=d?d():"";t("Failed "+l+" type: "+p.message+(m??""))}}}}return i.resetWarningCache=function(){e.NODE_ENV!=="production"&&(n={})},_n=i,_n}var gn,Ai;function ru(){if(Ai)return gn;Ai=1;var e={},t=jr(),r=eu(),n=hn(),o=Oi(),i=tu(),a=function(){};e.NODE_ENV!=="production"&&(a=function(l){var u="Warning: "+l;typeof console<"u"&&console.error(u);try{throw new Error(u)}catch{}});function s(){return null}return gn=function(l,u){var d=typeof Symbol=="function"&&Symbol.iterator,c="@@iterator";function p(x){var $=x&&(d&&x[d]||x[c]);if(typeof $=="function")return $}var h="<<anonymous>>",m={array:b("array"),bigint:b("bigint"),bool:b("boolean"),func:b("function"),number:b("number"),object:b("object"),string:b("string"),symbol:b("symbol"),any:E(),arrayOf:C,element:y(),elementType:w(),instanceOf:P,node:A(),objectOf:O,oneOf:T,oneOfType:M,shape:q,exact:X};function _(x,$){return x===$?x!==0||1/x===1/$:x!==x&&$!==$}function g(x,$){this.message=x,this.data=$&&typeof $=="object"?$:{},this.stack=""}g.prototype=Error.prototype;function v(x){if(e.NODE_ENV!=="production")var $={},V=0;function z(j,D,L,N,K,B,ge){if(N=N||h,B=B||L,ge!==n){if(u){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}else if(e.NODE_ENV!=="production"&&typeof console<"u"){var Ee=N+":"+L;!$[Ee]&&V<3&&(a("You are manually calling a React.PropTypes validation function for the `"+B+"` prop on `"+N+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),$[Ee]=!0,V++)}}return D[L]==null?j?D[L]===null?new g("The "+K+" `"+B+"` is marked as required "+("in `"+N+"`, but its value is `null`.")):new g("The "+K+" `"+B+"` is marked as required in "+("`"+N+"`, but its value is `undefined`.")):null:x(D,L,N,K,B)}var F=z.bind(null,!1);return F.isRequired=z.bind(null,!0),F}function b(x){function $(V,z,F,j,D,L){var N=V[z],K=pe(N);if(K!==x){var B=xe(N);return new g("Invalid "+j+" `"+D+"` of type "+("`"+B+"` supplied to `"+F+"`, expected ")+("`"+x+"`."),{expectedType:x})}return null}return v($)}function E(){return v(s)}function C(x){function $(V,z,F,j,D){if(typeof x!="function")return new g("Property `"+D+"` of component `"+F+"` has invalid PropType notation inside arrayOf.");var L=V[z];if(!Array.isArray(L)){var N=pe(L);return new g("Invalid "+j+" `"+D+"` of type "+("`"+N+"` supplied to `"+F+"`, expected an array."))}for(var K=0;K<L.length;K++){var B=x(L,K,F,j,D+"["+K+"]",n);if(B instanceof Error)return B}return null}return v($)}function y(){function x($,V,z,F,j){var D=$[V];if(!l(D)){var L=pe(D);return new g("Invalid "+F+" `"+j+"` of type "+("`"+L+"` supplied to `"+z+"`, expected a single ReactElement."))}return null}return v(x)}function w(){function x($,V,z,F,j){var D=$[V];if(!t.isValidElementType(D)){var L=pe(D);return new g("Invalid "+F+" `"+j+"` of type "+("`"+L+"` supplied to `"+z+"`, expected a single ReactElement type."))}return null}return v(x)}function P(x){function $(V,z,F,j,D){if(!(V[z]instanceof x)){var L=x.name||h,N=Me(V[z]);return new g("Invalid "+j+" `"+D+"` of type "+("`"+N+"` supplied to `"+F+"`, expected ")+("instance of `"+L+"`."))}return null}return v($)}function T(x){if(!Array.isArray(x))return e.NODE_ENV!=="production"&&(arguments.length>1?a("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):a("Invalid argument supplied to oneOf, expected an array.")),s;function $(V,z,F,j,D){for(var L=V[z],N=0;N<x.length;N++)if(_(L,x[N]))return null;var K=JSON.stringify(x,function(ge,R){var Ee=xe(R);return Ee==="symbol"?String(R):R});return new g("Invalid "+j+" `"+D+"` of value `"+String(L)+"` "+("supplied to `"+F+"`, expected one of "+K+"."))}return v($)}function O(x){function $(V,z,F,j,D){if(typeof x!="function")return new g("Property `"+D+"` of component `"+F+"` has invalid PropType notation inside objectOf.");var L=V[z],N=pe(L);if(N!=="object")return new g("Invalid "+j+" `"+D+"` of type "+("`"+N+"` supplied to `"+F+"`, expected an object."));for(var K in L)if(o(L,K)){var B=x(L,K,F,j,D+"."+K,n);if(B instanceof Error)return B}return null}return v($)}function M(x){if(!Array.isArray(x))return e.NODE_ENV!=="production"&&a("Invalid argument supplied to oneOfType, expected an instance of array."),s;for(var $=0;$<x.length;$++){var V=x[$];if(typeof V!="function")return a("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+J(V)+" at index "+$+"."),s}function z(F,j,D,L,N){for(var K=[],B=0;B<x.length;B++){var ge=x[B],R=ge(F,j,D,L,N,n);if(R==null)return null;R.data&&o(R.data,"expectedType")&&K.push(R.data.expectedType)}var Ee=K.length>0?", expected one of type ["+K.join(", ")+"]":"";return new g("Invalid "+L+" `"+N+"` supplied to "+("`"+D+"`"+Ee+"."))}return v(z)}function A(){function x($,V,z,F,j){return fe($[V])?null:new g("Invalid "+F+" `"+j+"` supplied to "+("`"+z+"`, expected a ReactNode."))}return v(x)}function U(x,$,V,z,F){return new g((x||"React class")+": "+$+" type `"+V+"."+z+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+F+"`.")}function q(x){function $(V,z,F,j,D){var L=V[z],N=pe(L);if(N!=="object")return new g("Invalid "+j+" `"+D+"` of type `"+N+"` "+("supplied to `"+F+"`, expected `object`."));for(var K in x){var B=x[K];if(typeof B!="function")return U(F,j,D,K,xe(B));var ge=B(L,K,F,j,D+"."+K,n);if(ge)return ge}return null}return v($)}function X(x){function $(V,z,F,j,D){var L=V[z],N=pe(L);if(N!=="object")return new g("Invalid "+j+" `"+D+"` of type `"+N+"` "+("supplied to `"+F+"`, expected `object`."));var K=r({},V[z],x);for(var B in K){var ge=x[B];if(o(x,B)&&typeof ge!="function")return U(F,j,D,B,xe(ge));if(!ge)return new g("Invalid "+j+" `"+D+"` key `"+B+"` supplied to `"+F+"`.\nBad object: "+JSON.stringify(V[z],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(x),null,"  "));var R=ge(L,B,F,j,D+"."+B,n);if(R)return R}return null}return v($)}function fe(x){switch(typeof x){case"number":case"string":case"undefined":return!0;case"boolean":return!x;case"object":if(Array.isArray(x))return x.every(fe);if(x===null||l(x))return!0;var $=p(x);if($){var V=$.call(x),z;if($!==x.entries){for(;!(z=V.next()).done;)if(!fe(z.value))return!1}else for(;!(z=V.next()).done;){var F=z.value;if(F&&!fe(F[1]))return!1}}else return!1;return!0;default:return!1}}function Pe(x,$){return x==="symbol"?!0:$?$["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&$ instanceof Symbol:!1}function pe(x){var $=typeof x;return Array.isArray(x)?"array":x instanceof RegExp?"object":Pe($,x)?"symbol":$}function xe(x){if(typeof x>"u"||x===null)return""+x;var $=pe(x);if($==="object"){if(x instanceof Date)return"date";if(x instanceof RegExp)return"regexp"}return $}function J(x){var $=xe(x);switch($){case"array":case"object":return"an "+$;case"boolean":case"date":case"regexp":return"a "+$;default:return $}}function Me(x){return!x.constructor||!x.constructor.name?h:x.constructor.name}return m.checkPropTypes=i,m.resetWarningCache=i.resetWarningCache,m.PropTypes=m,m},gn}var vn,Vi;function nu(){if(Vi)return vn;Vi=1;var e=hn();function t(){}function r(){}return r.resetWarningCache=t,vn=function(){function n(a,s,l,u,d,c){if(c!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function o(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},vn}var Ni;function ou(){if(Ni)return nr.exports;Ni=1;var e={};if(e.NODE_ENV!=="production"){var t=jr(),r=!0;nr.exports=ru()(t.isElement,r)}else nr.exports=nu()();return nr.exports}var iu=ou();const k=ps(iu),Di=()=>{};let Li=0;function au(e,t="mui"){const[r,n]=Z(e),o=e||r;return me(()=>{r==null&&(Li+=1,n(`${t}-${Li}`))},[r,t]),o}const zi={...Vr}.useId;function su(e,t){if(zi!==void 0){const r=zi();return e??`${t}-${r}`}return au(e,t)}function yn(e){return su(e,"base-ui")}function Fi(e,t){let r={};return Object.entries(e).forEach(([n,o])=>{if(t!=null&&t.hasOwnProperty(n)){const i=t[n](o);i!=null&&(r={...r,...i});return}o===!0?r[`data-${n.toLowerCase()}`]="":o&&(r[`data-${n.toLowerCase()}`]=o.toString())}),r}function ji(e,t){return typeof e=="function"?e(t):e}function De(...e){if(e.length===0)return{};if(e.length===1)return Ui(e[0],{});let t=Ui(e[0],{});for(let r=1;r<e.length;r+=1){const n=e[r];n&&(Bi(n)?t=n(t):t=cu(t,n))}return t??{}}function Ui(e,t){return Bi(e)?e(t):e??{}}function cu(e,t){return t?e?Object.entries(t).reduce((r,[n,o])=>(lu(n,o)?r[n]=uu(e[n],o):n==="style"?r[n]=fu(e.style,o):n==="className"?r[n]=pu(e.className,o):r[n]=o,r),{...e}):t:e||{}}function lu(e,t){const r=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&r>=65&&r<=90&&typeof t=="function"}function Bi(e){return typeof e=="function"}function uu(e,t){return r=>{if(hu(r)){const o=r;du(o);const i=t(o);return o.baseUIHandlerPrevented||e==null||e(o),i}const n=t(r);return e==null||e(r),n}}function du(e){return e.preventBaseUIHandler=()=>{e.baseUIHandlerPrevented=!0},e}function fu(e,t){if(t||e)return{...e,...t}}function pu(e,t){return t?e?t+" "+e:t:e}function hu(e){return e!=null&&typeof e=="object"&&"nativeEvent"in e}function mu(e,t,r){return typeof e=="function"?e(t,r):Ft(e,{...De(t,e.props),ref:t.ref})}function ht(...e){const t=ne(void 0),r=I(n=>{const o=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const a=i,s=a(n);return typeof s=="function"?s:()=>{a(null)}}return i.current=n,()=>{i.current=null}});return()=>{o.forEach(i=>i==null?void 0:i())}},e);return G(()=>e.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=r(n))},e)}const _u=parseInt(So,10);function Hi(e){return _u>=e}function gu(e,...t){let r;return typeof e!="function"?r=Hi(19)?e.props.ref:e.ref:r=null,ht(r,...t)}function vu(e){return function(r){return e==="button"?f("button",{type:"button",...r}):e==="img"?f("img",{alt:"",...r}):f(e,{...r})}}const Wi={};function yu(e,t,r={}){const{className:n,render:o}=t,{propGetter:i=v=>v,state:a=Wi,ref:s,props:l,customStyleHookMapping:u,styleHooks:d=!0}=r,c=o||(typeof e=="string"?vu(e):e),p=ji(n,a),h=G(()=>d?Fi(a,u):Wi,[a,u,d]),m=i({...h,...Array.isArray(l)?De(...l):l});let _=[];s!==void 0&&(_=Array.isArray(s)?s:[s]);const g={...m,ref:gu(c,m.ref,..._)};return p!==void 0&&(g.className=p),()=>mu(c,g,a)}function or(e){const t=typeof e.render=="string"?e.render:void 0,r=typeof e.render=="string"?void 0:e.render;return{renderElement:yu(t,{className:e.className,render:r},{...e,props:e.extraProps})}}var bu={};const bn=Te({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});bu.NODE_ENV!=="production"&&(bn.displayName="CompositeListContext");function xu(){return oe(bn)}const Le=typeof window<"u"?Qe:me;var wu={};function Cu(e,t){const r=e.compareDocumentPosition(t);return r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS?1:0}function qi(e){const{children:t,elementsRef:r,labelsRef:n,onMapChange:o}=e,[i,a]=Z(()=>new Map),s=I((c,p)=>{a(h=>new Map(h).set(c,p??null))},[]),l=I(c=>{a(p=>{const h=new Map(p);return h.delete(c),h})},[]),u=G(()=>{const c=new Map;return Array.from(i.keys()).sort(Cu).forEach((h,m)=>{const _=i.get(h)??{};c.set(h,{..._,index:m})}),c},[i]);Le(()=>{o==null||o(u)},[u,o]);const d=G(()=>({register:s,unregister:l,map:u,elementsRef:r,labelsRef:n}),[s,l,u,r,n]);return f(bn.Provider,{value:d,children:t})}wu.NODE_ENV!=="production"&&(qi.propTypes={children:k.node,elementsRef:k.any,labelsRef:k.shape({current:k.arrayOf(k.string).isRequired}),onMapChange:k.func});const ir={activeThumbIndex:()=>null,max:()=>null,min:()=>null,minStepsBetweenValues:()=>null,step:()=>null,values:()=>null};function Gi(e){let t=e.activeElement;for(;((r=t)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function xn(e,t,r=(n,o)=>n===o){return e.length===t.length&&e.every((n,o)=>r(n,t[o]))}function Ue(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}function Mt(e){return e&&e.ownerDocument||document}var Su={};function ku({controlled:e,default:t,name:r,state:n="value"}){const{current:o}=ne(e!==void 0),[i,a]=Z(t),s=o?e:i;if(Su.NODE_ENV!=="production"){me(()=>{o!==(e!==void 0)&&console.error([`Base UI: A component is changing the ${o?"":"un"}controlled ${n} state of ${r} to be ${o?"un":""}controlled.`,"Elements should not switch from uncontrolled to controlled (or vice versa).",`Decide between using a controlled or uncontrolled ${r} element for the lifetime of the component.`,"The nature of the state is determined during the first render. It's considered controlled if the value is not `undefined`.","More info: https://fb.me/react-controlled-components"].join(`
`))},[n,r,e]);const{current:u}=ne(t);me(()=>{!o&&!Object.is(u,t)&&console.error([`Base UI: A component is changing the default ${n} state of an uncontrolled ${r} after being initialized. To suppress this warning opt to use a controlled ${r}.`].join(`
`))},[JSON.stringify(t)])}const l=I(u=>{o||a(u)},[]);return[s,l]}function Ot(e,t,r){return(e-t)*100/(r-t)}var Yi={};let wn;Yi.NODE_ENV!=="production"&&(wn=new Set);function Pu(...e){if(Yi.NODE_ENV!=="production"){const t=e.join(" ");wn.has(t)||(wn.add(t),console.warn(`Base UI: ${t}`))}}var Eu={};const Xi=Te(void 0);Eu.NODE_ENV!=="production"&&(Xi.displayName="DirectionContext");function Ki(e=!0){const t=oe(Xi);if(t===void 0&&!e)throw new Error("Base UI: DirectionContext is missing.");return(t==null?void 0:t.direction)??"ltr"}function Ji(e,t){return{...e,state:{...e.state,valid:!t&&e.state.valid}}}var Tu={};const Zi=Te({formRef:{current:{fields:new Map}},errors:{},onClearErrors:()=>{}});Tu.NODE_ENV!=="production"&&(Zi.displayName="FormContext");function Qi(){return oe(Zi)}const ea={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:null,valueMissing:!1};var $u={};const Be=()=>{},ta=Te({invalid:void 0,controlId:void 0,setControlId:Be,labelId:void 0,setLabelId:Be,messageIds:[],setMessageIds:Be,name:void 0,validityData:{state:ea,errors:[],error:"",value:"",initialValue:null},setValidityData:Be,disabled:void 0,touched:!1,setTouched:Be,dirty:!1,setDirty:Be,filled:!1,setFilled:Be,focused:!1,setFocused:Be,validate:()=>null,validationMode:"onBlur",validationDebounceTime:0,state:{disabled:!1,valid:null,touched:!1,dirty:!1,filled:!1,focused:!1},markedDirtyRef:{current:!1}});$u.NODE_ENV!=="production"&&(ta.displayName="FieldRootContext");function It(e=!0){const t=oe(ta);if(t.setControlId===Be&&!e)throw new Error("Base UI: FieldRootContext is missing. Field parts must be placed within <Field.Root>.");return t}function Ru(e){const t=ne(e);return Le(()=>{t.current=e}),t}function Mu(e){const{formRef:t}=Qi(),{invalid:r,markedDirtyRef:n,validityData:o,setValidityData:i}=It(),{value:a,id:s,controlRef:l,commitValidation:u}=e,d=Ru(e.getValue);Le(()=>{var p;let c=a;c===void 0&&(c=(p=d.current)==null?void 0:p.call(d)),o.initialValue===null&&c!==o.initialValue&&i(h=>({...h,initialValue:c}))},[i,a,o.initialValue,d]),Le(()=>{s&&t.current.fields.set(s,{controlRef:l,validityData:Ji(o,r),validate(){var p;let c=a;c===void 0&&(c=(p=d.current)==null?void 0:p.call(d)),n.current=!0,Ar(()=>u(c))}})},[u,l,t,d,s,r,n,o,a])}function He(e){const t=ne(e);return Le(()=>{t.current=e}),I((...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}const Ou=Object.keys(ea);function Cn(){const{setValidityData:e,validate:t,messageIds:r,validityData:n,validationMode:o,validationDebounceTime:i,invalid:a,markedDirtyRef:s,controlId:l,state:u}=It(),{formRef:d}=Qi(),c=ne(-1),p=ne(null);me(()=>()=>{window.clearTimeout(c.current)},[]);const h=He(async g=>{const v=p.current;if(!v)return;function b(O){return Ou.reduce((M,A)=>(M[A]=O.validity[A],!O.validity.customError&&!s.current&&(M[A]=A==="valid"),M),{})}window.clearTimeout(c.current);const E=t(g);let C=null;typeof E=="object"&&E!==null&&"then"in E?C=await E:C=E;let y="";C!==null&&(y=Array.isArray(C)?C.join(`
`):C),v.setCustomValidity(y);const w=b(v);let P=[];Array.isArray(C)?P=C:C?P=[C]:v.validationMessage&&(P=[v.validationMessage]);const T={value:g,state:w,error:Array.isArray(C)?C[0]:C??v.validationMessage,errors:P,initialValue:n.initialValue};if(l){const O=d.current.fields.get(l);O&&d.current.fields.set(l,{...O,...Ji(T,a)})}e(T)}),m=I((g={})=>De({...r.length&&{"aria-describedby":r.join(" ")},...u.valid===!1&&{"aria-invalid":!0}},g),[r,u.valid]),_=I((g={})=>De({onChange(v){if(v.nativeEvent.defaultPrevented||a||o!=="onChange")return;const b=v.currentTarget;if(b.value===""){h(b.value);return}window.clearTimeout(c.current),i?c.current=window.setTimeout(()=>{h(b.value)},i):h(b.value)}},m(g)),[m,a,o,i,h]);return G(()=>({getValidationProps:m,getInputValidationProps:_,inputRef:p,commitValidation:h}),[m,_,h])}function ra(e,t){return e-t}function ar(e,t,r){const n=e.slice();return n[t]=r,n.sort(ra)}function na(e,t,r,n,o,i){let a=e;return a=Ue(a,r,n),o&&(a=ar(i,t,Ue(a,i[t-1]||-1/0,i[t+1]||1/0))),a}function Iu(e){if(Math.abs(e)<1){const r=e.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function oa(e,t,r){const n=Math.round((e-r)/t)*t+r;return Number(n.toFixed(Iu(t)))}let sr=function(e){return e.index="data-index",e.dragging="data-dragging",e.orientation="data-orientation",e.disabled="data-disabled",e.readonly="data-readonly",e.required="data-required",e.valid="data-valid",e.invalid="data-invalid",e.touched="data-touched",e.dirty="data-dirty",e.focused="data-focused",e}({});function Au(e,t){return typeof e=="number"&&typeof t=="number"?e===t:Array.isArray(e)&&Array.isArray(t)?xn(e,t):!1}function Vu(e,t,r){let n,o;for(let i=0;i<e.length;i+=1){const a=Math.abs(t-e[i]);(o===void 0||(e[i]===r?a<o:a<=o))&&(n=i,o=a)}return n}function Sn(e,t,r){const n=[];for(let o=0;o<e.length;o+=1)n.push(Ue(Ot(e[o],t,r),0,100));return n}function cr(e,t,r){if(!t.current)return;const n=Gi(Mt(t.current));(n==null||!t.current.contains(n)||Number(n.getAttribute(sr.index))!==e)&&t.current.querySelector(`[type="range"][${sr.index}="${e}"]`).focus(),r&&r(e)}function ia(e,t,r){if(!Array.isArray(e))return!0;const n=e.reduce((o,i,a,s)=>(a===s.length-1||o.push(Math.abs(i-s[a+1])),o),[]);return Math.min(...n)>=t*r}function Nu(e,t){if(!e)return{start:0,end:0};const r=t==="horizontal"?"InlineStart":"Top",n=t==="horizontal"?"InlineEnd":"Bottom";return{start:parseFloat(e[`border${r}Width`])+parseFloat(e[`padding${r}`]),end:parseFloat(e[`border${n}Width`])+parseFloat(e[`padding${n}`])}}function Du(e){const{"aria-labelledby":t,defaultValue:r,disabled:n=!1,id:o,largeStep:i=10,max:a=100,min:s=0,minStepsBetweenValues:l=0,name:u,onValueChange:d,onValueCommitted:c,orientation:p="horizontal",rootRef:h,step:m=1,value:_}=e,g=Ki(),{setControlId:v,setTouched:b,setDirty:E,validityData:C,validationMode:y}=It(),{getValidationProps:w,inputRef:P,commitValidation:T}=Cn(),[O,M]=ku({controlled:_,default:r??s,name:"Slider"}),A=ne(null),U=ne(null),q=ne([]),X=ne(null),[fe,Pe]=Z(()=>new Map);Le(()=>(v(o),()=>{v(void 0)}),[o,v]),Mu({id:o,commitValidation:T,value:O,controlRef:U});const[pe,xe]=Z(-1),[J,Me]=Z(!1),x=ne(null),$=I(W=>{W&&(U.current=W,x.current==null&&(x.current=getComputedStyle(W)),P.current=W.querySelector('input[type="range"]'))},[P]),V=Array.isArray(O),z=G(()=>V?O.slice().sort(ra):[Ue(O,s,a)],[a,s,V,O]);function F(){return Sn(z,s,a)}const[j,D]=Z(F),L=He((W,he,Oe,we)=>{if(Number.isNaN(W)||Au(W,O))return;M(W),D(he);const At=new we.constructor(we.type,we);Object.defineProperty(At,"target",{writable:!0,value:{value:W,name:u}}),X.current=W,d(W,At,Oe)}),N=He((W,he)=>{if(Array.isArray(W)){const Oe=Sn(W,s,a);xn(Oe,j)||D(Oe)}else typeof W=="number"&&D([Ot(W,s,a)]);c(W,he)}),K=ht(h,A),B=He((W,he,Oe)=>{const we=na(W,he,s,a,V,z);V&&cr(he,A),ia(we,m,l)&&(Array.isArray(we)?L(we,ar(j,he,Ot(we[he],s,a)),he,Oe.nativeEvent):L(we,[Ot(we,s,a)],he,Oe.nativeEvent),E(we!==C.initialValue),b(!0),c(X.current??we,Oe.nativeEvent),y==="onChange"&&T(X.current??we))}),ge=ne(null),R=He((W,he=!1,Oe=0)=>{if(W==null)return null;const we=U.current;if(!we)return null;const At=g==="rtl",bd=p==="vertical",{width:xd,height:wd,bottom:Cd,left:Sd,right:kd}=we.getBoundingClientRect(),rt=Nu(x.current,p);let nt=bd?(Cd-rt.end-W.y)/(wd-rt.start-rt.end)+Oe:(At?kd-rt.start-W.x:W.x-Sd-rt.start)/(xd-rt.start-rt.end)+Oe*(At?-1:1);nt=Ue(nt,0,1);let We=(a-s)*nt+s;if(We=oa(We,m,s),We=Ue(We,s,a),!V)return{value:We,valueRescaled:nt,percentageValues:[nt*100],thumbIndex:0};he&&(ge.current=Vu(z,We,a)??0);const ot=ge.current??0,Tn=l*m,ha=Tn*100/(a-s);We=Ue(We,z[ot-1]+Tn||-1/0,z[ot+1]-Tn||1/0);const Pd=Ue(nt*100,j[ot-1]+ha||-1/0,j[ot+1]-ha||1/0);return{value:ar(z,ot,We),valueRescaled:nt,percentageValues:ar(j,ot,Pd),thumbIndex:ot}});Le(()=>{if(!(_===void 0||J)){if(s>=a&&Pu("Slider `max` must be greater than `min`"),typeof O=="number"){const W=Ue(Ot(O,s,a),0,100);W!==j[0]&&!Number.isNaN(W)&&D([W])}else if(Array.isArray(O)){const W=Sn(O,s,a);xn(W,j)||D(W)}}},[J,s,a,j,D,_,O]),Le(()=>{var he;const W=Gi(Mt(A.current));n&&((he=A.current)!=null&&he.contains(W))&&W.blur()},[n]),n&&pe!==-1&&xe(-1);const Ee=I((W={})=>De({"aria-labelledby":t,id:o,ref:K,role:"group"},w(W)),[t,w,K,o]);return G(()=>({"aria-labelledby":t,active:pe,commitValue:N,disabled:n,dragging:J,getFingerState:R,getRootProps:Ee,handleInputChange:B,largeStep:i,lastChangedValueRef:X,max:a,min:s,minStepsBetweenValues:l,name:u,onValueCommitted:c,orientation:p,percentageValues:j,range:V,registerSliderControl:$,setActive:xe,setDragging:Me,setThumbMap:Pe,setValue:L,step:m,thumbMap:fe,thumbRefs:q,values:z}),[pe,t,N,n,J,R,Ee,B,i,X,a,s,l,u,c,p,j,V,$,xe,Me,Pe,L,m,fe,q,z])}var Lu={};const kn=Te(void 0);Lu.NODE_ENV!=="production"&&(kn.displayName="SliderRootContext");function lr(){const e=oe(kn);if(e===void 0)throw new Error("Base UI: SliderRootContext is missing. Slider parts must be placed within <Slider.Root>.");return e}var zu={};const aa=Ge(function(t,r){const{className:n,defaultValue:o,disabled:i=!1,id:a,format:s,largeStep:l=10,render:u,max:d=100,min:c=0,minStepsBetweenValues:p=0,name:h,onValueChange:m,onValueCommitted:_,orientation:g="horizontal",step:v=1,tabIndex:b,value:E,...C}=t,y=yn(a),{labelId:w,state:P,disabled:T,name:O}=It(),M=T||i,A=O??h??"",{getRootProps:U,...q}=Du({"aria-labelledby":t["aria-labelledby"]??w,defaultValue:o,disabled:M,id:y??"",largeStep:l,max:d,min:c,minStepsBetweenValues:p,name:A,onValueChange:m??Di,onValueCommitted:_??Di,orientation:g,rootRef:r,step:v,value:E}),X=G(()=>({...P,activeThumbIndex:q.active,disabled:M,dragging:q.dragging,orientation:g,max:q.max,min:q.min,minStepsBetweenValues:q.minStepsBetweenValues,step:q.step,values:q.values}),[P,M,g,q.active,q.dragging,q.max,q.min,q.minStepsBetweenValues,q.step,q.values]),fe=G(()=>({...q,format:s,state:X,tabIndex:b??null}),[q,s,X,b]),{renderElement:Pe}=or({propGetter:U,render:u??"div",state:X,className:n,extraProps:C,customStyleHookMapping:ir});return f(kn.Provider,{value:fe,children:f(qi,{elementsRef:q.thumbRefs,onMapChange:q.setThumbMap,children:Pe()})})});zu.NODE_ENV!=="production"&&(aa.propTypes={children:k.node,className:k.oneOfType([k.func,k.string]),defaultValue:k.oneOfType([k.arrayOf(k.number),k.number]),disabled:k.bool,format:k.shape({compactDisplay:k.oneOf(["long","short"]),currency:k.string,currencyDisplay:k.oneOf(["code","name","narrowSymbol","symbol"]),currencySign:k.oneOf(["accounting","standard"]),localeMatcher:k.oneOf(["best fit","lookup"]),maximumFractionDigits:k.number,maximumSignificantDigits:k.number,minimumFractionDigits:k.number,minimumIntegerDigits:k.number,minimumSignificantDigits:k.number,notation:k.oneOf(["compact","engineering","scientific","standard"]),numberingSystem:k.string,signDisplay:k.oneOf(["always","auto","exceptZero","never"]),style:k.oneOf(["currency","decimal","percent","unit"]),unit:k.string,unitDisplay:k.oneOf(["long","narrow","short"]),useGrouping:k.bool}),id:k.string,largeStep:k.number,max:k.number,min:k.number,minStepsBetweenValues:k.number,name:k.string,onValueChange:k.func,onValueCommitted:k.func,orientation:k.oneOf(["horizontal","vertical"]),render:k.oneOfType([k.element,k.func]),step:k.number,tabIndex:k.number,value:k.oneOfType([k.arrayOf(k.number),k.number])});const sa=new Map;function Fu(e,t){const r=JSON.stringify({locale:e,options:t}),n=sa.get(r);if(n)return n;const o=new Intl.NumberFormat(e,t);return sa.set(r,o),o}function ur(e,t,r){return e==null?"":Fu(t,r).format(e)}const ju=2;function dr(e,t){if(t.current!==void 0&&e.changedTouches){const r=e;for(let n=0;n<r.changedTouches.length;n+=1){const o=r.changedTouches[n];if(o.identifier===t.current)return{x:o.clientX,y:o.clientY}}return null}return{x:e.clientX,y:e.clientY}}function Uu(e){const{disabled:t,dragging:r,getFingerState:n,lastChangedValueRef:o,minStepsBetweenValues:i,commitValue:a,percentageValues:s,registerSliderControl:l,rootRef:u,setActive:d,setDragging:c,setValue:p,step:h,thumbRefs:m}=e,{commitValidation:_}=Cn(),g=ne(null),v=ht(u,l,g),b=ne(null),E=ne(0),C=ne(0),y=He(M=>{const A=dr(M,b);if(A==null)return;if(E.current+=1,M.type==="pointermove"&&M.buttons===0){w(M);return}const U=n(A,!1,C.current);U!=null&&(cr(U.thumbIndex,g,d),ia(U.value,h,i)&&(!r&&E.current>ju&&c(!0),p(U.value,U.percentageValues,U.thumbIndex,M)))}),w=He(M=>{const A=dr(M,b);if(c(!1),A==null)return;const U=n(A,!1);U!=null&&(d(-1),_(o.current??U.value),a(o.current??U.value,M),b.current=null,T())}),P=He(M=>{if(t)return;const A=M.changedTouches[0];A!=null&&(b.current=A.identifier);const U=dr(M,b);if(U!=null){const X=n(U,!0);if(X==null)return;cr(X.thumbIndex,g,d),p(X.value,X.percentageValues,X.thumbIndex,M)}E.current=0;const q=Mt(g.current);q.addEventListener("touchmove",y,{passive:!0}),q.addEventListener("touchend",w,{passive:!0})}),T=He(()=>{C.current=0;const M=Mt(g.current);M.removeEventListener("pointermove",y),M.removeEventListener("pointerup",w),M.removeEventListener("touchmove",y),M.removeEventListener("touchend",w)});me(()=>{const{current:M}=g;return M?(M.addEventListener("touchstart",P,{passive:!0}),()=>{M.removeEventListener("touchstart",P),T()}):()=>T()},[T,P,g]),me(()=>{t&&T()},[t,T]);const O=I((M={})=>De({onPointerDown(A){if(t||A.defaultPrevented||A.button!==0)return;A.preventDefault();const U=dr(A,b);if(U!=null){const X=n(U,!0);if(X==null)return;cr(X.thumbIndex,g,d),m.current.includes(A.target)?C.current=s[X.thumbIndex]/100-X.valueRescaled:p(X.value,X.percentageValues,X.thumbIndex,A.nativeEvent)}E.current=0;const q=Mt(g.current);q.addEventListener("pointermove",y,{passive:!0}),q.addEventListener("pointerup",w)},ref:v},M),[t,n,v,y,w,p,s,d,m]);return G(()=>({getRootProps:O}),[O])}var Bu={};const ca=Ge(function(t,r){const{render:n,className:o,...i}=t,{commitValue:a,disabled:s,dragging:l,getFingerState:u,lastChangedValueRef:d,minStepsBetweenValues:c,percentageValues:p,registerSliderControl:h,setActive:m,setDragging:_,setValue:g,state:v,step:b,thumbRefs:E}=lr(),{getRootProps:C}=Uu({commitValue:a,disabled:s,dragging:l,getFingerState:u,lastChangedValueRef:d,minStepsBetweenValues:c,percentageValues:p,registerSliderControl:h,rootRef:r,setActive:m,setDragging:_,setValue:g,step:b,thumbRefs:E}),{renderElement:y}=or({propGetter:C,render:n??"div",state:v,className:o,extraProps:i,customStyleHookMapping:ir});return y()});Bu.NODE_ENV!=="production"&&(ca.propTypes={children:k.node,className:k.oneOfType([k.func,k.string]),render:k.oneOfType([k.element,k.func])});var Hu={};const la=Ge(function(t,r){const{render:n,className:o,...i}=t,{state:a}=lr(),{renderElement:s}=or({render:n??"div",state:a,className:o,ref:r,extraProps:{...i,style:{position:"relative",...i.style}},customStyleHookMapping:ir});return s()});Hu.NODE_ENV!=="production"&&(la.propTypes={children:k.node,className:k.oneOfType([k.func,k.string]),render:k.oneOfType([k.element,k.func]),style:k.object});const ua={clip:"rect(0 0 0 0)",overflow:"hidden",whiteSpace:"nowrap",position:"fixed",top:0,left:0,border:0,padding:0,width:1,height:1,margin:-1},Wu="ArrowUp",qu="ArrowDown",Gu="ArrowLeft",Yu="ArrowRight",Xu="Home",Ku="End";function Ju(e={}){const{label:t,metadata:r}=e,{register:n,unregister:o,map:i,elementsRef:a,labelsRef:s}=xu(),[l,u]=Z(null),d=ne(null),c=I(p=>{if(d.current=p,l!==null&&(a.current[l]=p,s)){const h=t!==void 0;s.current[l]=h?t:(p==null?void 0:p.textContent)??null}},[l,a,s,t]);return Le(()=>{const p=d.current;if(p)return n(p,r),()=>{o(p)}},[n,o,r]),Le(()=>{var h;const p=d.current?(h=i.get(d.current))==null?void 0:h.index:null;p!=null&&u(p)},[i]),G(()=>({ref:c,index:l??-1}),[l,c])}function mt(e,t,r,n,o){return r===1?Math.min(e+t,o):Math.max(e-t,n)}function Zu(e,t,r){if(!(t<0))return e.length===2?t===0?`${ur(e[t],[],r)} start range`:`${ur(e[t],[],r)} end range`:r?ur(e[t],[],r):void 0}function Qu(e){const{active:t,"aria-label":r,"aria-labelledby":n,"aria-valuetext":o,handleInputChange:i,disabled:a,format:s,getAriaLabel:l=null,getAriaValueText:u=null,id:d,inputId:c,largeStep:p,max:h,min:m,minStepsBetweenValues:_,name:g,orientation:v,percentageValues:b,rootRef:E,step:C,tabIndex:y,values:w}=e,P=Ki(),{setTouched:T,setFocused:O,validationMode:M}=It(),{getInputValidationProps:A,inputRef:U,commitValidation:q}=Cn(),X=ne(null),fe=ne(null),Pe=ht(fe,U),pe=G(()=>({inputId:c}),[c]),{ref:xe,index:J}=Ju({metadata:pe}),Me=ht(E,xe,X),x=w[J],$=b.length===1?b[0]:b[J],V=P==="rtl",z=I(()=>{const D=v==="vertical";return Number.isFinite($)?{position:"absolute",[{horizontal:"insetInlineStart",vertical:"bottom"}[v]]:`${$}%`,[D?"left":"top"]:"50%",transform:`translate(${(D||!V?-1:1)*50}%, ${(D?1:-1)*50}%)`,zIndex:t===J?1:void 0}:ua},[t,V,v,$,J]),F=I((D={})=>De({[sr.index]:J,id:d,onFocus(){O(!0)},onBlur(){X.current&&(T(!0),O(!1),M==="onBlur"&&q(na(x,J,m,h,w.length>1,w)))},onKeyDown(L){let N=null;const K=w.length>1,B=oa(x,C,m);switch(L.key){case Wu:N=mt(B,L.shiftKey?p:C,1,m,h);break;case Yu:N=mt(B,L.shiftKey?p:C,V?-1:1,m,h);break;case qu:N=mt(B,L.shiftKey?p:C,-1,m,h);break;case Gu:N=mt(B,L.shiftKey?p:C,V?1:-1,m,h);break;case"PageUp":N=mt(B,p,1,m,h);break;case"PageDown":N=mt(B,p,-1,m,h);break;case Ku:N=h,K&&(N=Number.isFinite(w[J+1])?w[J+1]-C*_:h);break;case Xu:N=m,K&&(N=Number.isFinite(w[J-1])?w[J-1]+C*_:m);break}N!==null&&(i(N,J,L),L.preventDefault())},ref:Me,style:z(),tabIndex:y??(a?void 0:0)},D),[q,a,y,z,i,J,V,p,h,Me,m,_,O,T,w,C,d,x,M]),j=I((D={})=>{let L;return v==="vertical"&&(L=V?"vertical-rl":"vertical-lr"),De({"aria-label":l!=null?l(J):r,"aria-labelledby":n,"aria-orientation":v,"aria-valuemax":h,"aria-valuemin":m,"aria-valuenow":x,"aria-valuetext":u!=null?u(ur(x,[],s??void 0),x,J):o||Zu(w,J,s??void 0),[sr.index]:J,disabled:a,id:c,max:h,min:m,name:g,onChange(N){i(N.target.valueAsNumber,J,N)},ref:Pe,step:C,style:{...ua,width:"100%",height:"100%",writingMode:L},tabIndex:-1,type:"range",value:x??""},A(D))},[r,n,o,i,a,s,l,u,A,J,V,h,Pe,m,g,v,w,C,c,x]);return G(()=>({getRootProps:F,getThumbInputProps:j,disabled:a,index:J}),[F,j,a,J])}var ed={};function td(e,t){const{children:r,...n}=e;return f("div",{...n,children:[r,f("input",{...t})]})}const da=Ge(function(t,r){const{render:n,className:o,disabled:i=!1,getAriaLabel:a,getAriaValueText:s,id:l,inputId:u,onBlur:d,onFocus:c,onKeyDown:p,tabIndex:h,...m}=t,_=yn(l),g=yn(u),v=n??td,{active:b,"aria-labelledby":E,handleInputChange:C,disabled:y,format:w=null,largeStep:P,max:T,min:O,minStepsBetweenValues:M,name:A,orientation:U,state:q,percentageValues:X,step:fe,tabIndex:Pe,values:pe}=lr();let xe=null;typeof v!="function"&&(xe=Hi(19)?v.props.ref:v.ref);const J=ht(xe,r),{getRootProps:Me,getThumbInputProps:x,disabled:$,index:V}=Qu({active:b,"aria-label":t["aria-label"],"aria-labelledby":E,"aria-valuetext":t["aria-valuetext"],handleInputChange:C,disabled:i||y,format:w,getAriaLabel:a??null,getAriaValueText:s??null,id:_,inputId:g,largeStep:P,max:T,min:O,minStepsBetweenValues:M,name:A,orientation:U,percentageValues:X,rootRef:J,step:fe,tabIndex:h??Pe,values:pe}),z=G(()=>Fi({disabled:$,dragging:V!==-1&&b===V}),[b,$,V]),F=Me({...z,...m,className:ji(o,q)}),j=x({disabled:$});if(typeof v=="function")return v(F,j,q);const{children:D,...L}=v.props,N=F.children??D;return Ft(v,{...De({...F,children:f(de,{children:[typeof N=="function"?N():N,f("input",{...j})]})},L),ref:F.ref})});ed.NODE_ENV!=="production"&&(da.propTypes={children:k.node,className:k.oneOfType([k.func,k.string]),disabled:k.bool,getAriaLabel:k.func,getAriaValueText:k.func,id:k.string,inputId:k.string,onBlur:k.func,onFocus:k.func,onKeyDown:k.func,onPointerLeave:k.func,onPointerOver:k.func,render:k.oneOfType([k.func,k.node]),tabIndex:k.number});function rd(e,t,r){return e==="vertical"?{position:"absolute",bottom:`${t}%`,height:`${r}%`,width:"inherit"}:{position:"relative",insetInlineStart:`${t}%`,width:`${r}%`,height:"inherit"}}function nd(e){const{orientation:t,percentageValues:r}=e;let n;if(r.length>1){const i=r[0],a=r[r.length-1]-i;n=rd(t,i,a)}else t==="vertical"?n={position:"absolute",bottom:0,height:`${r[0]}%`,width:"inherit"}:n={position:"relative",insetInlineStart:0,width:`${r[0]}%`,height:"inherit"};const o=I((i={})=>De({style:n},i),[n]);return G(()=>({getRootProps:o}),[o])}var od={};const fa=Ge(function(t,r){const{render:n,className:o,...i}=t,{disabled:a,orientation:s,state:l,percentageValues:u}=lr(),{getRootProps:d}=nd({orientation:s,percentageValues:u}),{renderElement:c}=or({propGetter:d,render:n??"div",state:l,className:o,ref:r,extraProps:i,customStyleHookMapping:ir});return c()});od.NODE_ENV!=="production"&&(fa.propTypes={children:k.node,className:k.oneOfType([k.func,k.string]),render:k.oneOfType([k.element,k.func])});const id=S(aa)`
  width: 100%;
  --unselected-color: var(--divider-color);
  margin: 0;
`,ad=S(ca)`
  position: relative;
  cursor: pointer;
`,sd=S(la)`
  background: var(--unselected-color);
  height: ${e=>ud(e.sliderSize||"medium")};
  border-radius: 6px;
  overflow: hidden;
`,cd=S(fa)`
  background: var(--primary-color);
  height: 100%;
  border-radius: 4px;
`,ld=S(da)`
  width: 6px;
  height: 64%;
  background-color: var(--text-primary-color);
  @media (prefers-color-scheme: light) {
    background-color: var(--art-surface-color, rgba(255, 255, 255, 0.8));
  }
  cursor: pointer;
  border-radius: 2px;
  margin-left: -8px;
`,Pn=({min:e,max:t,step:r,value:n,sliderSize:o="medium",onChange:i})=>f(id,{value:n,onValueChange:a=>i(a),min:e,max:t,step:r,children:f(ad,{children:f(sd,{sliderSize:o,children:[f(cd,{}),f(ld,{sliderSize:o})]})})}),ud=e=>{switch(e){case"xsmall":return"16px";case"small":return"22px";case"medium":return"28px";case"large":return"32px"}},dd=S.div`
  border: 1px solid var(--divider-color, #e0e0e0);
  border-radius: 8px;
  position: relative;
  margin-bottom: 16px;
  background-color: var(--card-background-color, #fff);
`,fd=S.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  border-bottom: ${e=>e.$expanded?"1px solid var(--divider-color, #e0e0e0)":"none"};
`,pd=S.h3`
  margin: 0;
  font-size: 16px;
  font-weight: 500;
`,hd=S.div`
  padding: 16px;
  display: ${e=>e.$expanded?"block":"none"};
`,tt=({title:e,children:t,initiallyExpanded:r=!1})=>{const[n,o]=Z(r);return f(dd,{children:[f(fd,{$expanded:n,children:[f(pd,{children:e}),f(ae,{onClick:()=>o(!n),icon:n?"mdi:chevron-up":"mdi:chevron-down",type:"button",size:"small"})]}),f(hd,{$expanded:n,children:t})]})};class pa extends HTMLElement{constructor(){super(...arguments),this._config=null,this.Card=null,this.extraProps={},this._hass=null}set hass(t){this._hass=t}setConfig(t){this._config=t,Je(f(ui,{rootElement:this,children:f(Js,{children:f(this.Card,{config:this._config,hass:this._hass,rootElement:this,...this.extraProps})})}),this)}}class En extends HTMLElement{constructor(){super(...arguments),this.Card=null,this.config=null,this.shouldUpdate=null,this._previousHass=null}set hass(t){if(!this.Card)throw new Error("Preact Card is not defined");const r=this.config.entity_id;this.shouldUpdate(this._previousHass,t)?(this._previousHass=t,Je(f(ui,{rootElement:this,children:f(li,{rootElement:this,config:this.config,children:f(ac,{hass:t,children:f(El,{hass:t,entityId:r,children:f(this.Card,{})})})})}),this)):this._previousHass=t}getCardSize(){return 1}}class md extends En{constructor(){super(...arguments),this.Card=dc,this.shouldUpdate=(t,r)=>!t&&r?!0:et(t.states[this.config.entity_id],r.states[this.config.entity_id])}setConfig(t){if(!t.entity_id)throw new Error("You need to define an entity_id");if(!t.entities)throw new Error("You need to define entities");this.config=t}getCardSize(){return 1}getLayoutOptions(){return{grid_rows:1,grid_columns:6,grid_min_rows:1,grid_max_rows:1}}}customElements.define("mediocre-chip-media-player-group-card",md);class _d extends pa{constructor(){super(...arguments),this.Card=hl,this.extraProps={isMassive:!0,className:void 0}}}customElements.define("mediocre-massive-media-player-card-editor",_d);class gd extends En{constructor(){super(...arguments),this.Card=wi,this.shouldUpdate=(t,r)=>{var n,o;if(!t&&r||et(t.states[this.config.entity_id],r.states[this.config.entity_id])||(n=this.config.speaker_group)!=null&&n.entity_id&&et(t.states[this.config.speaker_group.entity_id],r.states[this.config.speaker_group.entity_id]))return!0;if((o=this.config.speaker_group)!=null&&o.entities){for(const i of this.config.speaker_group.entities)if(et(t.states[i],r.states[i],!0))return!0}return!1}}setConfig(t){if(!t.entity_id)throw new Error("You need to define an entity_id");this.config=t}static getConfigElement(){return document.createElement("mediocre-massive-media-player-card-editor")}static getStubConfig(t){return{entity_id:Object.keys(t.states).filter(o=>o.substr(0,o.indexOf("."))==="media_player")[0]??"",mode:"card"}}}customElements.define("mediocre-massive-media-player-card",gd),window.customCards=window.customCards||[],window.customCards.push({type:"mediocre-massive-media-player-card",name:"Mediocre Massive Media Player Card",preview:!0,description:"A media player card with player grouping support.",documentationURL:"https://github.com/antontanderup/mediocre-hass-media-player-cards"});class vd extends pa{constructor(){super(...arguments),this.Card=Kl}}customElements.define("mediocre-media-player-card-editor",vd);class yd extends En{constructor(){super(...arguments),this.Card=Xl,this.shouldUpdate=(t,r)=>{var n,o;if(!t&&r||et(t.states[this.config.entity_id],r.states[this.config.entity_id])||(n=this.config.speaker_group)!=null&&n.entity_id&&et(t.states[this.config.speaker_group.entity_id],r.states[this.config.speaker_group.entity_id]))return!0;if((o=this.config.speaker_group)!=null&&o.entities){for(const i of this.config.speaker_group.entities)if(et(t.states[i],r.states[i],!0))return!0}return!1}}setConfig(t){if(!t.entity_id)throw new Error("You need to define an entity_id");this.config=t}static getConfigElement(){return document.createElement("mediocre-media-player-card-editor")}static getStubConfig(t){return{entity_id:Object.keys(t.states).filter(o=>o.substr(0,o.indexOf("."))==="media_player")[0]??""}}getCardSize(){return 2}getGridOptions(){return{columns:12,min_columns:8}}}customElements.define("mediocre-media-player-card",yd),window.customCards=window.customCards||[],window.customCards.push({type:"mediocre-media-player-card",name:"Mediocre Media Player Card",preview:!0,description:"A media player card with player grouping support.",documentationURL:"https://github.com/antontanderup/mediocre-hass-media-player-cards"})});
