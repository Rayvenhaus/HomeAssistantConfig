!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).ExpanderCard=e()}(this,(function(){"use strict";function t(){}function e(t,e,n,o,r){t.__svelte_meta={loc:{file:e,line:n,column:o,char:r}}}function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function a(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e){return e&&a(e.destroy)?e.destroy:t}const s="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;let l,d=!1;function u(t,e,n,o){for(;t<e;){const r=t+(e-t>>1);n(r)<=o?t=r+1:e=r}return t}function f(t,e){if(d){for(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if("HEAD"===t.nodeName){const t=[];for(let n=0;n<e.length;n++){const o=e[n];void 0!==o.claim_order&&t.push(o)}e=t}const n=new Int32Array(e.length+1),o=new Int32Array(e.length);n[0]=-1;let r=0;for(let t=0;t<e.length;t++){const a=e[t].claim_order,i=(r>0&&e[n[r]].claim_order<=a?r+1:u(1,r,(t=>e[n[t]].claim_order),a))-1;o[t]=n[i]+1;const c=i+1;n[c]=t,r=Math.max(c,r)}const a=[],i=[];let c=e.length-1;for(let t=n[r]+1;0!=t;t=o[t-1]){for(a.push(e[t-1]);c>=t;c--)i.push(e[c]);c--}for(;c>=0;c--)i.push(e[c]);a.reverse(),i.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,n=0;e<i.length;e++){for(;n<a.length&&i[e].claim_order>=a[n].claim_order;)n++;const o=n<a.length?a[n]:null;t.insertBefore(i[e],o)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentNode!==t)&&(t.actual_end_child=t.firstChild);null!==t.actual_end_child&&void 0===t.actual_end_child.claim_order;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?void 0===e.claim_order&&e.parentNode===t||t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else e.parentNode===t&&null===e.nextSibling||t.appendChild(e)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function m(){return g(" ")}function y(){return g("")}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:$(t,e,n)}function v(t){return Array.from(t.childNodes)}function x(t,e,n,o,r=!1){!function(t){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0})}(t);const a=(()=>{for(let o=t.claim_info.last_index;o<t.length;o++){const a=t[o];if(e(a)){const e=n(a);return void 0===e?t.splice(o,1):t[o]=e,r||(t.claim_info.last_index=o),a}}for(let o=t.claim_info.last_index-1;o>=0;o--){const a=t[o];if(e(a)){const e=n(a);return void 0===e?t.splice(o,1):t[o]=e,r?void 0===e&&t.claim_info.last_index--:t.claim_info.last_index=o,a}}return o()})();return a.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,a}function k(t,e,n){return function(t,e,n,o){return x(t,(t=>t.nodeName===e),(t=>{const e=[];for(let o=0;o<t.attributes.length;o++){const r=t.attributes[o];n[r.name]||e.push(r.name)}e.forEach((e=>t.removeAttribute(e)))}),(()=>o(e)))}(t,e,n,h)}function w(t,e){return x(t,(t=>3===t.nodeType),(t=>{const n=""+e;if(t.data.startsWith(n)){if(t.data.length!==n.length)return t.splitText(n.length)}else t.data=n}),(()=>g(e)),!0)}function _(t){return w(t," ")}function E(t,e,n,o){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function C(t){const e={};for(const n of t)e[n.name]=n.value;return e}function T(t){l=t}function S(t){(function(){if(!l)throw new Error("Function called outside component initialization");return l})().$$.on_mount.push(t)}const O=[],j=[];let A=[];const M=[],N=Promise.resolve();let D=!1;function L(t){A.push(t)}const P=new Set;let R=0;function B(){if(0!==R)return;const t=l;do{try{for(;R<O.length;){const t=O[R];R++,T(t),I(t.$$)}}catch(t){throw O.length=0,R=0,t}for(T(null),O.length=0,R=0;j.length;)j.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];P.has(e)||(P.add(e),e())}A.length=0}while(O.length);for(;M.length;)M.pop()();D=!1,P.clear(),T(t)}function I(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const H=new Set;let V,Y;function X(){V={r:0,c:[],p:V}}function U(){V.r||r(V.c),V=V.p}function q(t,e){t&&t.i&&(H.delete(t),t.i(e))}function z(t,e,n,o){if(t&&t.o){if(H.has(t))return;H.add(t),V.c.push((()=>{H.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function F(t,e){z(t,1,1,(()=>{e.delete(t.key)}))}function W(t,e,n,o){const r=new Set;for(let a=0;a<e.length;a++){const i=o(n(t,e,a));if(r.has(i))throw new Error("Cannot have duplicate keys in a keyed each");r.add(i)}}function G(t){t&&t.c()}function J(t,e){t&&t.l(e)}function K(t,e,o,i){const{fragment:c,after_update:s}=t.$$;c&&c.m(e,o),i||L((()=>{const e=t.$$.on_mount.map(n).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...e):r(e),t.$$.on_mount=[]})),s.forEach(L)}function Q(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];A.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),A=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Z(t,e){-1===t.$$.dirty[0]&&(O.push(t),D||(D=!0,N.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function tt(e,n,a,i,c,s,u,f=[-1]){const h=l;T(e);const g=e.$$={fragment:null,ctx:[],props:s,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:o(),dirty:f,skip_bound:!1,root:n.target||h.$$.root};let m=!1;if(g.ctx=a?a(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return g.ctx&&c(g.ctx[t],g.ctx[t]=r)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](r),m&&Z(e,t)),n})):[],g.update(),m=!0,r(g.before_update),g.fragment=!!i&&i(g.ctx),n.target){if(n.hydrate){d=!0;const t=v(n.target);g.fragment&&g.fragment.l(t),t.forEach(p)}else g.fragment&&g.fragment.c();n.intro&&q(e.$$.fragment),K(e,n.target,n.anchor,n.customElement),d=!1,B()}T(h)}function et(t,e){document.dispatchEvent(function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,o,e),r}(t,Object.assign({version:"3.59.2"},e),{bubbles:!0}))}function nt(t,e){et("SvelteDOMInsert",{target:t,node:e}),f(t,e)}function ot(t,e,n){et("SvelteDOMInsert",{target:t,node:e,anchor:n}),function(t,e,n){d&&!n?f(t,e):e.parentNode===t&&e.nextSibling==n||t.insertBefore(e,n||null)}(t,e,n)}function rt(t){et("SvelteDOMRemove",{node:t}),p(t)}function at(t,e,n,o,r,a,i){const c=!0===o?["capture"]:o?Array.from(Object.keys(o)):[];et("SvelteDOMAddEventListener",{node:t,event:e,handler:n,modifiers:c});const s=function(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}(t,e,n,o);return()=>{et("SvelteDOMRemoveEventListener",{node:t,event:e,handler:n,modifiers:c}),s()}}function it(t,e,n){$(t,e,n),null==n?et("SvelteDOMRemoveAttribute",{node:t,attribute:e}):et("SvelteDOMSetAttribute",{node:t,attribute:e,value:n})}function ct(t){if(!("string"==typeof t||t&&"object"==typeof t&&"length"in t)){let e="{#each} only iterates over array-like objects.";throw"function"==typeof Symbol&&t&&Symbol.iterator in t&&(e+=" You can use a spread to convert this iterable into an array."),new Error(e)}}function st(t,e,n){for(const o of Object.keys(e))~n.indexOf(o)||console.warn(`<${t}> received an unexpected slot "${o}".`)}"function"==typeof HTMLElement&&(Y=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(n).filter(a);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){r(this.$$.on_disconnect)}$destroy(){Q(this,1),this.$destroy=t}$on(e,n){if(!a(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});const lt=window.loadCardHelpers().then((t=>t)),dt="src/Card.svelte";function ut(t){let n,o;const r={c:function(){n=h("span"),o=g("Loading..."),this.h()},l:function(t){n=k(t,"SPAN",{style:!0});var e=v(n);o=w(e,"Loading..."),e.forEach(rt),this.h()},h:function(){it(n,"style","padding: 1em; display: block; "),e(n,dt,52,4,1870)},m:function(t,e){ot(t,n,e),nt(n,o)},d:function(t){t&&rt(n)}};return et("SvelteRegisterBlock",{block:r,id:ut.name,type:"if",source:"(52:0) {#if loading}",ctx:t}),r}function ft(n){let o,r,i,s,l,d,u=n[3]&&ut(n);const f={c:function(){o=h("div"),i=m(),u&&u.c(),s=y(),this.c=t,this.h()},l:function(t){o=k(t,"DIV",{}),v(o).forEach(rt),i=_(t),u&&u.l(t),s=y(),this.h()},h:function(){e(o,dt,50,0,1776)},m:function(t,e){ot(t,o,e),ot(t,i,e),u&&u.m(t,e),ot(t,s,e),l||(d=c(r=n[4].call(null,o,{marginTop:n[1],type:n[0],hassParent:n[2]})),l=!0)},p:function(t,[e]){r&&a(r.update)&&7&e&&r.update.call(null,{marginTop:t[1],type:t[0],hassParent:t[2]}),t[3]?u||(u=ut(t),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null)},i:t,o:t,d:function(t){t&&rt(o),t&&rt(i),u&&u.d(t),t&&rt(s),l=!1,d()}};return et("SvelteRegisterBlock",{block:f,id:ft.name,type:"component",source:"",ctx:n}),f}function pt(t,e,n){let{$$slots:o={},$$scope:r}=e;st("expander-sub-card",o,[]);let{type:a="div"}=e,{marginTop:i="0px"}=e,{config:c}=e,{hass:s}=e,l=!0;const d=(t,e)=>({update:e=>{var o;if(t){if(null===(o=t.firstChild)||void 0===o?void 0:o.tagName)return void(t.firstChild.hass=e.hassParent);(async()=>{const o=(await lt).createCardElement(c);o.hass=e.hassParent,t.setAttribute("style","margin-top: "+e.marginTop+";"),t.innerHTML="",t.appendChild(o),n(3,l=!1)})()}}});t.$$.on_mount.push((function(){void 0!==c||"config"in e||t.$$.bound[t.$$.props.config]||console.warn("<expander-sub-card> was created without expected prop 'config'")}));const u=["type","marginTop","config","hass"];return Object.keys(e).forEach((t=>{~u.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<expander-sub-card> was created with unknown prop '${t}'`)})),t.$$set=t=>{"type"in t&&n(0,a=t.type),"marginTop"in t&&n(1,i=t.marginTop),"config"in t&&n(5,c=t.config),"hass"in t&&n(2,s=t.hass)},t.$capture_state=()=>({cardUtil:lt,type:a,marginTop:i,config:c,hass:s,loading:l,uplift:d}),t.$inject_state=t=>{"type"in t&&n(0,a=t.type),"marginTop"in t&&n(1,i=t.marginTop),"config"in t&&n(5,c=t.config),"hass"in t&&n(2,s=t.hass),"loading"in t&&n(3,l=t.loading)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[a,i,s,l,d,c]}class ht extends Y{constructor(t){super(),tt(this,{target:this.shadowRoot,props:C(this.attributes),customElement:!0},pt,ft,i,{type:0,marginTop:1,config:5,hass:2}),t&&(t.target&&ot(t.target,this,t.anchor),t.props&&(this.$set(t.props),B()))}static get observedAttributes(){return["type","marginTop","config","hass"]}get type(){return this.$$.ctx[0]}set type(t){this.$$set({type:t}),B()}get marginTop(){return this.$$.ctx[1]}set marginTop(t){this.$$set({marginTop:t}),B()}get config(){return this.$$.ctx[5]}set config(t){this.$$set({config:t}),B()}get hass(){return this.$$.ctx[2]}set hass(t){this.$$set({hass:t}),B()}}function gt(t,e){e=Object.assign({open:!0,duration:.2,easing:"ease"},e);const n=()=>{};let o=n,r=n;const a=()=>{o(),o=n,r=n};async function i(){return new Promise(requestAnimationFrame)}function c(){return`height ${e.duration}s ${e.easing}`}async function s(){t.style.height=t.scrollHeight+"px";try{await async function(){return new Promise(((t,e)=>{o=t,r=e}))}(),t.style.height="auto",t.style.overflow="visible"}catch(t){}}return t.addEventListener("transitionend",a),t.style.transition=c(),t.style.height=e.open?"auto":"0px",e.open?t.style.overflow="visible":t.style.overflow="hidden",{update:function(n){(e=Object.assign(e,n)).open?s():async function(){"auto"===t.style.height?(t.style.transition="none",await i(),t.style.height=t.scrollHeight+"px",t.style.transition=c(),await i(),t.style.overflow="hidden",t.style.height="0px"):(r(),t.style.overflow="hidden",t.style.height="0px")}()},destroy:function(){t.removeEventListener("transitionend",a)}}}customElements.define("expander-sub-card",ht);const{Object:mt}=s,yt="src/ExpanderCard.svelte";function $t(t,e,n){const o=t.slice();return o[17]=e[n],o}function bt(n){let o,r,a,i,c,s,l,d,u=n[2].title+"";const f={c:function(){o=h("button"),r=h("div"),a=g(u),c=m(),s=h("ha-icon"),this.h()},l:function(t){o=k(t,"BUTTON",{class:!0,style:!0});var e=v(o);r=k(e,"DIV",{class:!0});var n=v(r);a=w(n,u),n.forEach(rt),c=_(e),s=k(e,"HA-ICON",{style:!0,icon:!0,class:!0}),v(s).forEach(rt),e.forEach(rt),this.h()},h:function(){it(r,"class",i="primary title"+(n[1]?" open":" close")),e(r,yt,141,12,5508),E(s,"--arrow-color",n[2]["arrow-color"]),b(s,"icon","mdi:chevron-down"),b(s,"class",l="ico"+(n[1]?" flipped open":" close")),e(s,yt,142,12,5598),it(o,"class",d=`header${n[2]["expander-card-background-expanded"]?"":" ripple"}${n[1]?" open":" close"}`),E(o,"--header-width","100%"),E(o,"--button-background",n[2]["button-background"]),E(o,"--header-color",n[2]["header-color"]),e(o,yt,136,8,5194)},m:function(t,e){ot(t,o,e),nt(o,r),nt(r,a),nt(o,c),nt(o,s),n[9](o)},p:function(t,e){4&e&&u!==(u=t[2].title+"")&&function(t,e){e=""+e,t.data!==e&&(et("SvelteDOMSetData",{node:t,data:e}),t.data=e)}(a,u),2&e&&i!==(i="primary title"+(t[1]?" open":" close"))&&it(r,"class",i),4&e&&E(s,"--arrow-color",t[2]["arrow-color"]),2&e&&l!==(l="ico"+(t[1]?" flipped open":" close"))&&b(s,"class",l),6&e&&d!==(d=`header${t[2]["expander-card-background-expanded"]?"":" ripple"}${t[1]?" open":" close"}`)&&it(o,"class",d),4&e&&E(o,"--button-background",t[2]["button-background"]),4&e&&E(o,"--header-color",t[2]["header-color"])},i:t,o:t,d:function(t){t&&rt(o),n[9](null)}};return et("SvelteRegisterBlock",{block:f,id:bt.name,type:"else",source:"(136:4) {:else}",ctx:n}),f}function vt(t){let n,o,a,i,c,s,l,d,u,f,p,g;a=new ht({props:{hass:t[0],config:t[2]["title-card"],type:t[2]["title-card"].type},$$inline:!0});const y={c:function(){n=h("div"),o=h("div"),G(a.$$.fragment),i=m(),c=h("button"),s=h("ha-icon"),this.h()},l:function(t){n=k(t,"DIV",{id:!0,class:!0});var e=v(n);o=k(e,"DIV",{id:!0,class:!0,style:!0});var r=v(o);J(a.$$.fragment,r),r.forEach(rt),i=_(e),c=k(e,"BUTTON",{style:!0,class:!0});var l=v(c);s=k(l,"HA-ICON",{style:!0,icon:!0,class:!0}),v(s).forEach(rt),l.forEach(rt),e.forEach(rt),this.h()},h:function(){it(o,"id","id2"),it(o,"class","title-card-container"),E(o,"--title-padding",t[2]["title-card-padding"]),e(o,yt,123,12,4302),E(s,"--arrow-color",t[2]["arrow-color"]),b(s,"icon","mdi:chevron-down"),b(s,"class",l="ico"+(t[1]?" flipped open":"close")),e(s,yt,132,16,5006),E(c,"--overlay-margin",t[2]["overlay-margin"]),E(c,"--button-background",t[2]["button-background"]),E(c,"--header-color",t[2]["header-color"]),it(c,"class",d=`header ripple${t[2]["title-card-button-overlay"]?" header-overlay":""}${t[1]?" open":" close"}`),e(c,yt,126,12,4618),it(n,"id","id1"),it(n,"class",u="title-card-header"+(t[2]["title-card-button-overlay"]?"-overlay":"")),e(n,yt,122,8,4191)},m:function(e,r){ot(e,n,r),nt(n,o),K(a,o,null),nt(n,i),nt(n,c),nt(c,s),t[8](c),f=!0,p||(g=[at(o,"touchstart",t[4],{passive:!0}),at(o,"touchmove",t[5],{passive:!0}),at(o,"touchend",t[6],!1)],p=!0)},p:function(t,e){const r={};1&e&&(r.hass=t[0]),4&e&&(r.config=t[2]["title-card"]),4&e&&(r.type=t[2]["title-card"].type),a.$set(r),(!f||4&e)&&E(o,"--title-padding",t[2]["title-card-padding"]),(!f||4&e)&&E(s,"--arrow-color",t[2]["arrow-color"]),(!f||2&e&&l!==(l="ico"+(t[1]?" flipped open":"close")))&&b(s,"class",l),(!f||4&e)&&E(c,"--overlay-margin",t[2]["overlay-margin"]),(!f||4&e)&&E(c,"--button-background",t[2]["button-background"]),(!f||4&e)&&E(c,"--header-color",t[2]["header-color"]),(!f||6&e&&d!==(d=`header ripple${t[2]["title-card-button-overlay"]?" header-overlay":""}${t[1]?" open":" close"}`))&&it(c,"class",d),(!f||4&e&&u!==(u="title-card-header"+(t[2]["title-card-button-overlay"]?"-overlay":"")))&&it(n,"class",u)},i:function(t){f||(q(a.$$.fragment,t),f=!0)},o:function(t){z(a.$$.fragment,t),f=!1},d:function(e){e&&rt(n),Q(a),t[8](null),p=!1,r(g)}};return et("SvelteRegisterBlock",{block:y,id:vt.name,type:"if",source:"(122:4) {#if config['title-card']}",ctx:t}),y}function xt(t){let n,o,i,s,l,d=[],u=new Map,f=t[2].cards;ct(f);const p=t=>t[17];W(t,f,$t,p);for(let e=0;e<f.length;e+=1){let n=$t(t,f,e),o=p(n);u.set(o,d[e]=kt(o,n))}const g={c:function(){n=h("div");for(let t=0;t<d.length;t+=1)d[t].c();this.h()},l:function(t){n=k(t,"DIV",{style:!0,class:!0});var e=v(n);for(let t=0;t<d.length;t+=1)d[t].l(e);e.forEach(rt),this.h()},h:function(){E(n,"--expander-card-display",t[2]["expander-card-display"]),E(n,"--gap",t[1]?t[2]["expanded-gap"]:t[2].gap),E(n,"--child-padding",t[2]["child-padding"]),it(n,"class","children-container"),e(n,yt,146,8,5789)},m:function(e,r){ot(e,n,r);for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(n,null);i=!0,s||(l=c(o=gt.call(null,n,{open:t[1],duration:.2,easing:"ease"})),s=!0)},p:function(t,e){5&e&&(f=t[2].cards,ct(f),X(),W(t,f,$t,p),d=function(t,e,n,o,a,i,c,s,l,d,u,f){let p=t.length,h=i.length,g=p;const m={};for(;g--;)m[t[g].key]=g;const y=[],$=new Map,b=new Map,v=[];for(g=h;g--;){const t=f(a,i,g),o=n(t);let r=c.get(o);r?v.push((()=>r.p(t,e))):(r=d(o,t),r.c()),$.set(o,y[g]=r),o in m&&b.set(o,Math.abs(g-m[o]))}const x=new Set,k=new Set;function w(t){q(t,1),t.m(s,u),c.set(t.key,t),u=t.first,h--}for(;p&&h;){const e=y[h-1],n=t[p-1],o=e.key,r=n.key;e===n?(u=e.first,p--,h--):$.has(r)?!c.has(o)||x.has(o)?w(e):k.has(r)?p--:b.get(o)>b.get(r)?(k.add(o),w(e)):(x.add(r),p--):(l(n,c),p--)}for(;p--;){const e=t[p];$.has(e.key)||l(e,c)}for(;h;)w(y[h-1]);return r(v),y}(d,e,p,0,t,f,u,n,F,kt,null,$t),U()),(!i||4&e)&&E(n,"--expander-card-display",t[2]["expander-card-display"]),(!i||6&e)&&E(n,"--gap",t[1]?t[2]["expanded-gap"]:t[2].gap),(!i||4&e)&&E(n,"--child-padding",t[2]["child-padding"]),o&&a(o.update)&&2&e&&o.update.call(null,{open:t[1],duration:.2,easing:"ease"})},i:function(t){if(!i){for(let t=0;t<f.length;t+=1)q(d[t]);i=!0}},o:function(t){for(let t=0;t<d.length;t+=1)z(d[t]);i=!1},d:function(t){t&&rt(n);for(let t=0;t<d.length;t+=1)d[t].d();s=!1,l()}};return et("SvelteRegisterBlock",{block:g,id:xt.name,type:"if",source:"(146:4) {#if config.cards}",ctx:t}),g}function kt(t,e){let n,o,r;o=new ht({props:{hass:e[0],config:e[17],type:e[17].type,marginTop:e[2]["child-margin-top"]},$$inline:!0});const a={key:t,first:null,c:function(){n=y(),G(o.$$.fragment),this.h()},l:function(t){n=y(),J(o.$$.fragment,t),this.h()},h:function(){this.first=n},m:function(t,e){ot(t,n,e),K(o,t,e),r=!0},p:function(t,n){e=t;const r={};1&n&&(r.hass=e[0]),4&n&&(r.config=e[17]),4&n&&(r.type=e[17].type),4&n&&(r.marginTop=e[2]["child-margin-top"]),o.$set(r)},i:function(t){r||(q(o.$$.fragment,t),r=!0)},o:function(t){z(o.$$.fragment,t),r=!1},d:function(t){t&&rt(n),Q(o,t)}};return et("SvelteRegisterBlock",{block:a,id:kt.name,type:"each",source:"(153:12) {#each config.cards as card (card)}",ctx:e}),a}function wt(n){let o,r,a,i,c,s;const l=[vt,bt],d=[];function u(t,e){return t[2]["title-card"]?0:1}r=u(n),a=d[r]=l[r](n);let f=n[2].cards&&xt(n);const p={c:function(){o=h("ha-card"),a.c(),i=m(),f&&f.c(),this.c=t,this.h()},l:function(t){o=k(t,"HA-CARD",{class:!0,style:!0});var e=v(o);a.l(e),i=_(e),f&&f.l(e),e.forEach(rt),this.h()},h:function(){b(o,"class",c=`expander-card${n[2].clear?" clear":""}${n[1]?" open":" close"}`),E(o,"--expander-card-display",n[2]["expander-card-display"]),E(o,"--gap",n[1]?n[2]["expanded-gap"]:n[2].gap),E(o,"--padding",n[2].padding),E(o,"--expander-state",n[1]),E(o,"--card-background",n[1]&&n[2]["expander-card-background-expanded"]?n[2]["expander-card-background-expanded"]:n[2]["expander-card-background"]),e(o,yt,115,0,3710)},m:function(t,e){ot(t,o,e),d[r].m(o,null),nt(o,i),f&&f.m(o,null),s=!0},p:function(t,[e]){let n=r;r=u(t),r===n?d[r].p(t,e):(X(),z(d[n],1,1,(()=>{d[n]=null})),U(),a=d[r],a?a.p(t,e):(a=d[r]=l[r](t),a.c()),q(a,1),a.m(o,i)),t[2].cards?f?(f.p(t,e),4&e&&q(f,1)):(f=xt(t),f.c(),q(f,1),f.m(o,null)):f&&(X(),z(f,1,1,(()=>{f=null})),U()),(!s||6&e&&c!==(c=`expander-card${t[2].clear?" clear":""}${t[1]?" open":" close"}`))&&b(o,"class",c),(!s||4&e)&&E(o,"--expander-card-display",t[2]["expander-card-display"]),(!s||6&e)&&E(o,"--gap",t[1]?t[2]["expanded-gap"]:t[2].gap),(!s||4&e)&&E(o,"--padding",t[2].padding),(!s||2&e)&&E(o,"--expander-state",t[1]),(!s||6&e)&&E(o,"--card-background",t[1]&&t[2]["expander-card-background-expanded"]?t[2]["expander-card-background-expanded"]:t[2]["expander-card-background"])},i:function(t){s||(q(a),q(f),s=!0)},o:function(t){z(a),z(f),s=!1},d:function(t){t&&rt(o),d[r].d(),f&&f.d()}};return et("SvelteRegisterBlock",{block:p,id:wt.name,type:"component",source:"",ctx:n}),p}function _t(t,e,n){let{$$slots:o={},$$scope:r}=e;st("expander-card",o,[]);let a=!1,i=!1,{hass:c}=e;const s={gap:"0.0em","expanded-gap":"0.6em",padding:"1em",clear:!1,title:" ","overlay-margin":"0.0em","child-padding":"0.0em","child-margin-top":"0.0em","button-background":"transparent","expander-card-background":"var(--ha-card-background,var(--card-background-color,#fff))","header-color":"var(--primary-text-color,#fff)","arrow-color":"var(--arrow-color,var(--primary-text-color,#fff))","expander-card-display":"block","title-card-clickable":!1,"min-width-expanded":0,"max-width-expanded":0};let l,d=s,{setConfig:u=((t={})=>{n(2,d=Object.assign(Object.assign({},s),t))})}=e;S((()=>{const t=d["min-width-expanded"],e=d["max-width-expanded"],o=document.body.offsetWidth;t&&e?n(2,d.expanded=o>=t&&o<=e,d):t?n(2,d.expanded=o>=t,d):e&&n(2,d.expanded=o<=e,d),void 0!==d.expanded&&setTimeout((()=>n(1,a=d.expanded)),100)}));let f,p=!1;S((()=>{i||(d["title-card-clickable"]?l.parentElement&&(i=!0,l.parentElement.addEventListener("click",(t=>{if(p)return t.preventDefault(),t.stopImmediatePropagation(),p=!1,!1;n(1,a=!a)}))):"BUTTON"===l.tagName&&(i=!0,l.addEventListener("click",(t=>{if(p)return t.preventDefault(),t.stopImmediatePropagation(),p=!1,!1;n(1,a=!a)}))))}));let h=!1,g=0,m=0;const y=t=>{f=t.target,g=t.touches[0].clientX,m=t.touches[0].clientY,h=!1},$=t=>{const e=t.touches[0].clientX,n=t.touches[0].clientY;(Math.abs(e-g)>10||Math.abs(n-m)>10)&&(h=!0)},b=t=>{!h&&f===t.target&&d["title-card-clickable"]&&n(1,a=!a),f=void 0,p=!0,setTimeout((()=>p=!1),300)},v=["hass","setConfig"];return mt.keys(e).forEach((t=>{~v.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<expander-card> was created with unknown prop '${t}'`)})),t.$$set=t=>{"hass"in t&&n(0,c=t.hass),"setConfig"in t&&n(7,u=t.setConfig)},t.$capture_state=()=>({Card:ht,collapse:gt,onMount:S,open:a,isListenerAdded:i,hass:c,defaults:s,config:d,setConfig:u,element:l,touchPreventClick:p,touchElement:f,isScrolling:h,startX:g,startY:m,touchStart:y,touchMove:$,touchEnd:b}),t.$inject_state=t=>{"open"in t&&n(1,a=t.open),"isListenerAdded"in t&&(i=t.isListenerAdded),"hass"in t&&n(0,c=t.hass),"config"in t&&n(2,d=t.config),"setConfig"in t&&n(7,u=t.setConfig),"element"in t&&n(3,l=t.element),"touchPreventClick"in t&&(p=t.touchPreventClick),"touchElement"in t&&(f=t.touchElement),"isScrolling"in t&&(h=t.isScrolling),"startX"in t&&(g=t.startX),"startY"in t&&(m=t.startY)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[c,a,d,l,y,$,b,u,function(t){j[t?"unshift":"push"]((()=>{l=t,n(3,l)}))},function(t){j[t?"unshift":"push"]((()=>{l=t,n(3,l)}))}]}class Et extends Y{constructor(t){super();const e=document.createElement("style");e.textContent=".expander-card{display:var(--expander-card-display,block);gap:var(--gap);padding:var(--padding);background:var(--card-background,#fff)}.children-container{padding:var(--child-padding);display:var(--expander-card-display,block);gap:var(--gap)}.clear{background:none !important;background-color:transparent !important;border-style:none !important}.title-card-header{display:flex;align-items:center;justify-content:space-between;flex-direction:row}.title-card-header-overlay{display:block}.title-card-container{width:100%;padding:var(--title-padding)}.header{display:flex;flex-direction:row;align-items:center;padding:0.8em 0.8em;margin:2px;background:var(--button-background);border-style:none;width:var(--header-width,auto);color:var(--header-color,#fff)}.header-overlay{position:absolute;top:0;right:0;margin:var(--overlay-margin)}.title{width:100%;text-align:left}.ico{color:var(--arrow-color,var(--primary-text-color,#fff));transition-property:transform;transition-duration:0.35s}.flipped{transform:rotate(180deg)}.ripple{background-position:center;transition:background 0.8s;border-radius:1em}.ripple:hover{background:#ffffff12 radial-gradient(circle, transparent 1%, #ffffff12 1%) center/15000%}.ripple:active{background-color:#ffffff25;background-size:100%;transition:background 0s}",this.shadowRoot.appendChild(e),tt(this,{target:this.shadowRoot,props:C(this.attributes),customElement:!0},_t,wt,i,{hass:0,setConfig:7}),t&&(t.target&&ot(t.target,this,t.anchor),t.props&&(this.$set(t.props),B()))}static get observedAttributes(){return["hass","setConfig"]}get hass(){return this.$$.ctx[0]}set hass(t){this.$$set({hass:t}),B()}get setConfig(){return this.$$.ctx[7]}set setConfig(t){this.$$set({setConfig:t}),B()}}customElements.define("expander-card",Et);return console.info("%c  Expander-Card \n%c Version 2.0.1","color: orange; font-weight: bold; background: black","color: white; font-weight: bold; background: dimgray"),window.customCards=window.customCards||[],window.customCards.push({type:"expander-card",name:"Expander Card",preview:!0,description:"Expander card"}),Et}));
//# sourceMappingURL=expander-card.js.map
