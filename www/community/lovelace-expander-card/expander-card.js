!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ExpanderCard=t()}(this,(function(){"use strict";function e(){}function t(e,t,n,o,c){e.__svelte_meta={loc:{file:t,line:n,column:o,char:c}}}function n(e){return e()}function o(){return Object.create(null)}function c(e){e.forEach(n)}function a(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function r(t){return t&&a(t.destroy)?t.destroy:e}const l="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;let s,d=!1;function u(e,t,n,o){for(;e<t;){const c=e+(t-e>>1);n(c)<=o?e=c+1:t=c}return e}function f(e,t){if(d){for(!function(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if("HEAD"===e.nodeName){const e=[];for(let n=0;n<t.length;n++){const o=t[n];void 0!==o.claim_order&&e.push(o)}t=e}const n=new Int32Array(t.length+1),o=new Int32Array(t.length);n[0]=-1;let c=0;for(let e=0;e<t.length;e++){const a=t[e].claim_order,i=(c>0&&t[n[c]].claim_order<=a?c+1:u(1,c,(e=>t[n[e]].claim_order),a))-1;o[e]=n[i]+1;const r=i+1;n[r]=e,c=Math.max(r,c)}const a=[],i=[];let r=t.length-1;for(let e=n[c]+1;0!=e;e=o[e-1]){for(a.push(t[e-1]);r>=e;r--)i.push(t[r]);r--}for(;r>=0;r--)i.push(t[r]);a.reverse(),i.sort(((e,t)=>e.claim_order-t.claim_order));for(let t=0,n=0;t<i.length;t++){for(;n<a.length&&i[t].claim_order>=a[n].claim_order;)n++;const o=n<a.length?a[n]:null;e.insertBefore(i[t],o)}}(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentNode!==e)&&(e.actual_end_child=e.firstChild);null!==e.actual_end_child&&void 0===e.actual_end_child.claim_order;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?void 0===t.claim_order&&t.parentNode===e||e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else t.parentNode===e&&null===t.nextSibling||e.appendChild(t)}function h(e){e.parentNode&&e.parentNode.removeChild(e)}function p(e){return document.createElement(e)}function g(e){return document.createTextNode(e)}function m(){return g(" ")}function b(){return g("")}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t,n){t in e?e[t]="boolean"==typeof e[t]&&""===n||n:v(e,t,n)}function x(e){return Array.from(e.childNodes)}function $(e,t,n,o,c=!1){!function(e){void 0===e.claim_info&&(e.claim_info={last_index:0,total_claimed:0})}(e);const a=(()=>{for(let o=e.claim_info.last_index;o<e.length;o++){const a=e[o];if(t(a)){const t=n(a);return void 0===t?e.splice(o,1):e[o]=t,c||(e.claim_info.last_index=o),a}}for(let o=e.claim_info.last_index-1;o>=0;o--){const a=e[o];if(t(a)){const t=n(a);return void 0===t?e.splice(o,1):e[o]=t,c?void 0===t&&e.claim_info.last_index--:e.claim_info.last_index=o,a}}return o()})();return a.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,a}function k(e,t,n){return function(e,t,n,o){return $(e,(e=>e.nodeName===t),(e=>{const t=[];for(let o=0;o<e.attributes.length;o++){const c=e.attributes[o];n[c.name]||t.push(c.name)}t.forEach((t=>e.removeAttribute(t)))}),(()=>o(t)))}(e,t,n,p)}function w(e,t){return $(e,(e=>3===e.nodeType),(e=>{const n=""+t;if(e.data.startsWith(n)){if(e.data.length!==n.length)return e.splitText(n.length)}else e.data=n}),(()=>g(t)),!0)}function E(e){return w(e," ")}function C(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,"")}function _(e){const t={};for(const n of e)t[n.name]=n.value;return t}function T(e){s=e}function S(){if(!s)throw new Error("Function called outside component initialization");return s}function A(e){S().$$.on_mount.push(e)}const R=[],O=[];let B=[];const P=[],N=Promise.resolve();let I=!1;function M(e){B.push(e)}const j=new Set;let D=0;function H(){if(0!==D)return;const e=s;do{try{for(;D<R.length;){const e=R[D];D++,T(e),L(e.$$)}}catch(e){throw R.length=0,D=0,e}for(T(null),R.length=0,D=0;O.length;)O.pop()();for(let e=0;e<B.length;e+=1){const t=B[e];j.has(t)||(j.add(t),t())}B.length=0}while(R.length);for(;P.length;)P.pop()();I=!1,j.clear(),T(e)}function L(e){if(null!==e.fragment){e.update(),c(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(M)}}const U=new Set;let V,F;function X(){V={r:0,c:[],p:V}}function W(){V.r||c(V.c),V=V.p}function Y(e,t){e&&e.i&&(U.delete(e),e.i(t))}function q(e,t,n,o){if(e&&e.o){if(U.has(e))return;U.add(e),V.c.push((()=>{U.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}function z(e,t){e.d(1),t.delete(e.key)}function G(e,t){q(e,1,1,(()=>{t.delete(e.key)}))}function K(e,t,n,o,a,i,r,l,s,d,u,f){let h=e.length,p=i.length,g=h;const m={};for(;g--;)m[e[g].key]=g;const b=[],v=new Map,y=new Map,x=[];for(g=p;g--;){const e=f(a,i,g),o=n(e);let c=r.get(o);c?x.push((()=>c.p(e,t))):(c=d(o,e),c.c()),v.set(o,b[g]=c),o in m&&y.set(o,Math.abs(g-m[o]))}const $=new Set,k=new Set;function w(e){Y(e,1),e.m(l,u),r.set(e.key,e),u=e.first,p--}for(;h&&p;){const t=b[p-1],n=e[h-1],o=t.key,c=n.key;t===n?(u=t.first,h--,p--):v.has(c)?!r.has(o)||$.has(o)?w(t):k.has(c)?h--:y.get(o)>y.get(c)?(k.add(o),w(t)):($.add(c),h--):(s(n,r),h--)}for(;h--;){const t=e[h];v.has(t.key)||s(t,r)}for(;p;)w(b[p-1]);return c(x),b}function J(e,t,n,o){const c=new Set;for(let a=0;a<t.length;a++){const i=o(n(e,t,a));if(c.has(i))throw new Error("Cannot have duplicate keys in a keyed each");c.add(i)}}function Q(e){e&&e.c()}function Z(e,t){e&&e.l(t)}function ee(e,t,o,i){const{fragment:r,after_update:l}=e.$$;r&&r.m(t,o),i||M((()=>{const t=e.$$.on_mount.map(n).filter(a);e.$$.on_destroy?e.$$.on_destroy.push(...t):c(t),e.$$.on_mount=[]})),l.forEach(M)}function te(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];B.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),B=t}(n.after_update),c(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ne(e,t){-1===e.$$.dirty[0]&&(R.push(e),I||(I=!0,N.then(H)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function oe(t,n,a,i,r,l,u,f=[-1]){const p=s;T(t);const g=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:r,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(p?p.$$.context:[])),callbacks:o(),dirty:f,skip_bound:!1,root:n.target||p.$$.root};let m=!1;if(g.ctx=a?a(t,n.props||{},((e,n,...o)=>{const c=o.length?o[0]:n;return g.ctx&&r(g.ctx[e],g.ctx[e]=c)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](c),m&&ne(t,e)),n})):[],g.update(),m=!0,c(g.before_update),g.fragment=!!i&&i(g.ctx),n.target){if(n.hydrate){d=!0;const e=x(n.target);g.fragment&&g.fragment.l(e),e.forEach(h)}else g.fragment&&g.fragment.c();n.intro&&Y(t.$$.fragment),ee(t,n.target,n.anchor,n.customElement),d=!1,H()}T(p)}function ce(e,t){document.dispatchEvent(function(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const c=document.createEvent("CustomEvent");return c.initCustomEvent(e,n,o,t),c}(e,Object.assign({version:"3.59.2"},t),{bubbles:!0}))}function ae(e,t){ce("SvelteDOMInsert",{target:e,node:t}),f(e,t)}function ie(e,t,n){ce("SvelteDOMInsert",{target:e,node:t,anchor:n}),function(e,t,n){d&&!n?f(e,t):t.parentNode===e&&t.nextSibling==n||e.insertBefore(t,n||null)}(e,t,n)}function re(e){ce("SvelteDOMRemove",{node:e}),h(e)}function le(e,t,n,o,c,a,i){const r=!0===o?["capture"]:o?Array.from(Object.keys(o)):[];ce("SvelteDOMAddEventListener",{node:e,event:t,handler:n,modifiers:r});const l=function(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}(e,t,n,o);return()=>{ce("SvelteDOMRemoveEventListener",{node:e,event:t,handler:n,modifiers:r}),l()}}function se(e,t,n){v(e,t,n),null==n?ce("SvelteDOMRemoveAttribute",{node:e,attribute:t}):ce("SvelteDOMSetAttribute",{node:e,attribute:t,value:n})}function de(e,t){t=""+t,e.data!==t&&(ce("SvelteDOMSetData",{node:e,data:t}),e.data=t)}function ue(e){if(!("string"==typeof e||e&&"object"==typeof e&&"length"in e)){let t="{#each} only iterates over array-like objects.";throw"function"==typeof Symbol&&e&&Symbol.iterator in e&&(t+=" You can use a spread to convert this iterable into an array."),new Error(t)}}function fe(e,t,n){for(const o of Object.keys(t))~n.indexOf(o)||console.warn(`<${e}> received an unexpected slot "${o}".`)}var he,pe,ge;"function"==typeof HTMLElement&&(F=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(n).filter(a);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){c(this.$$.on_disconnect)}$destroy(){te(this,1),this.$destroy=e}$on(t,n){if(!a(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}),(ge=he||(he={})).language="language",ge.system="system",ge.comma_decimal="comma_decimal",ge.decimal_comma="decimal_comma",ge.space_comma="space_comma",ge.none="none",function(e){e.language="language",e.system="system",e.am_pm="12",e.twenty_four="24"}(pe||(pe={}));var me=function(e,t,n,o){o=o||{},n=null==n?{}:n;var c=new Event(t,{bubbles:void 0===o.bubbles||o.bubbles,cancelable:Boolean(o.cancelable),composed:void 0===o.composed||o.composed});return c.detail=n,e.dispatchEvent(c),c};const{Object:be}=l,ve="src/ExpanderCardEditor.svelte";function ye(e,t,n){const o=e.slice();return o[33]=t[n],o[35]=n,o}function xe(e,t,n){const o=e.slice();return o[28]=t[n][0],o[29]=t[n][1][0],o[30]=t[n][1][1],o}function $e(e){let n,o,c,a,i,r,l=!e[6]&&we(e),s=e[2]?.cards?.length&&!e[6]&&Ce(e),d=e[6]&&_e(e);const u={c:function(){n=p("form"),o=p("div"),l&&l.c(),c=m(),s&&s.c(),a=m(),d&&d.c(),this.h()},l:function(e){n=k(e,"FORM",{class:!0});var t=x(n);o=k(t,"DIV",{class:!0});var i=x(o);l&&l.l(i),i.forEach(re),c=E(t),s&&s.l(t),a=E(t),d&&d.l(t),t.forEach(re),this.h()},h:function(){se(o,"class","row"),t(o,ve,258,8,10145),se(n,"class","content"),t(n,ve,257,4,10090)},m:function(t,u){ie(t,n,u),ae(n,o),l&&l.m(o,null),ae(n,c),s&&s.m(n,null),ae(n,a),d&&d.m(n,null),i||(r=le(n,"input",e[8],!1),i=!0)},p:function(e,t){e[6]?l&&(l.d(1),l=null):l?l.p(e,t):(l=we(e),l.c(),l.m(o,null)),e[2]?.cards?.length&&!e[6]?s?s.p(e,t):(s=Ce(e),s.c(),s.m(n,a)):s&&(s.d(1),s=null),e[6]?d?d.p(e,t):(d=_e(e),d.c(),d.m(n,null)):d&&(d.d(1),d=null)},d:function(e){e&&re(n),l&&l.d(),s&&s.d(),d&&d.d(),i=!1,r()}};return ce("SvelteRegisterBlock",{block:u,id:$e.name,type:"else",source:"(257:0) {:else}",ctx:e}),u}function ke(e){let n,o,c,a=[],i=new Map,r=Object.entries(e[7]);ue(r);const l=e=>e[28];J(e,r,xe,l);for(let t=0;t<r.length;t+=1){let n=xe(e,r,t),o=l(n);i.set(o,a[t]=Me(o,n))}const s={c:function(){n=p("form");for(let e=0;e<a.length;e+=1)a[e].c();this.h()},l:function(e){n=k(e,"FORM",{class:!0});var t=x(n);for(let e=0;e<a.length;e+=1)a[e].l(t);t.forEach(re),this.h()},h:function(){se(n,"class","content"),t(n,ve,160,4,5771)},m:function(t,i){ie(t,n,i);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(n,null);o||(c=le(n,"input",e[8],!1),o=!0)},p:function(e,t){3479&t[0]&&(r=Object.entries(e[7]),ue(r),J(e,r,xe,l),a=K(a,t,l,0,e,r,i,n,z,Me,null,xe))},d:function(e){e&&re(n);for(let e=0;e<a.length;e+=1)a[e].d();o=!1,c()}};return ce("SvelteRegisterBlock",{block:s,id:ke.name,type:"if",source:"(160:0) {#if selectedTab === 0}",ctx:e}),s}function we(e){let n,o,i,r,l,s,d,u=e[2].cards||[];ue(u);let f=[];for(let t=0;t<u.length;t+=1)f[t]=Ee(ye(e,u,t));const h={c:function(){n=p("paper-tabs");for(let e=0;e<f.length;e+=1)f[e].c();o=m(),i=p("paper-tabs"),r=p("paper-tab"),l=p("ha-icon"),this.h()},l:function(e){n=k(e,"PAPER-TABS",{scrollable:!0,selected:!0});var t=x(n);for(let e=0;e<f.length;e+=1)f[e].l(t);t.forEach(re),o=E(e),i=k(e,"PAPER-TABS",{id:!0});var c=x(i);r=k(c,"PAPER-TAB",{});var a=x(r);l=k(a,"HA-ICON",{icon:!0}),x(l).forEach(re),a.forEach(re),c.forEach(re),this.h()},h:function(){y(n,"scrollable",""),y(n,"selected",e[5]),t(n,ve,260,16,10216),y(l,"icon","mdi:plus"),t(l,ve,273,24,10811),t(r,ve,272,20,10775),y(i,"id","add-card"),t(i,ve,271,16,10676)},m:function(t,c){ie(t,n,c);for(let e=0;e<f.length;e+=1)f[e]&&f[e].m(n,null);ie(t,o,c),ie(t,i,c),ae(i,r),ae(r,l),s||(d=[le(n,"iron-activate",(function(){a(e[11](e[20]))&&e[11](e[20]).apply(this,arguments)}),!1),le(i,"iron-activate",e[21],!1)],s=!0)},p:function(t,o){if(e=t,4&o[0]){let t;for(u=e[2].cards||[],ue(u),t=0;t<u.length;t+=1){const c=ye(e,u,t);f[t]?f[t].p(c,o):(f[t]=Ee(c),f[t].c(),f[t].m(n,null))}for(;t<f.length;t+=1)f[t].d(1);f.length=u.length}32&o[0]&&y(n,"selected",e[5])},d:function(e){e&&re(n),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(f,e),e&&re(o),e&&re(i),s=!1,c(d)}};return ce("SvelteRegisterBlock",{block:h,id:we.name,type:"if",source:"(260:12) {#if !showAddCardPicker}",ctx:e}),h}function Ee(e){let n,o,c,a,i=e[35]+1+"",r=(void e[33]||"")+"";const l={c:function(){n=p("paper-tab"),o=g(i),c=m(),a=g(r),this.h()},l:function(e){n=k(e,"PAPER-TAB",{});var t=x(n);o=w(t,i),c=E(t),a=w(t,r),t.forEach(re),this.h()},h:function(){t(n,ve,268,24,10553)},m:function(e,t){ie(e,n,t),ae(n,o),ae(n,c),ae(n,a)},p:function(e,t){4&t[0]&&r!==(r=(void e[33]||"")+"")&&de(a,r)},d:function(e){e&&re(n)}};return ce("SvelteRegisterBlock",{block:l,id:Ee.name,type:"each",source:"(268:20) {#each config.cards || [] as card, i}",ctx:e}),l}function Ce(e){let n,o,i,r,l,s,d,u;const f={c:function(){n=p("div"),o=p("mwc-button"),i=g("Remove"),r=m(),l=p("hui-card-element-editor"),this.h()},l:function(e){n=k(e,"DIV",{class:!0});var t=x(n);o=k(t,"MWC-BUTTON",{});var c=x(o);i=w(c,"Remove"),c.forEach(re),r=E(t),l=k(t,"HUI-CARD-ELEMENT-EDITOR",{hass:!0,value:!0,lovelace:!0}),x(l).forEach(re),t.forEach(re),this.h()},h:function(){t(o,ve,282,16,11199),y(l,"hass",e[0]),y(l,"value",s=e[2].cards[e[5]]),y(l,"lovelace",e[1]),t(l,ve,289,16,11510),se(n,"class","sub-panel"),t(n,ve,279,12,11005)},m:function(t,c){ie(t,n,c),ae(n,o),ae(o,i),ae(n,r),ae(n,l),d||(u=[le(o,"click",e[22],!1),le(l,"config-changed",(function(){a(e[11](e[23]))&&e[11](e[23]).apply(this,arguments)}),!1)],d=!0)},p:function(t,n){e=t,1&n[0]&&y(l,"hass",e[0]),36&n[0]&&s!==(s=e[2].cards[e[5]])&&y(l,"value",s),2&n[0]&&y(l,"lovelace",e[1])},d:function(e){e&&re(n),d=!1,c(u)}};return ce("SvelteRegisterBlock",{block:f,id:Ce.name,type:"if",source:"(279:8) {#if config?.cards?.length && !showAddCardPicker}",ctx:e}),f}function _e(e){let n,o,i,r,l,s,d;const u={c:function(){n=p("div"),o=p("mwc-button"),i=g("Cancel"),r=m(),l=p("hui-card-picker"),this.h()},l:function(e){n=k(e,"DIV",{class:!0});var t=x(n);o=k(t,"MWC-BUTTON",{});var c=x(o);i=w(c,"Cancel"),c.forEach(re),r=E(t),l=k(t,"HUI-CARD-PICKER",{hass:!0,lovelace:!0}),x(l).forEach(re),t.forEach(re),this.h()},h:function(){t(o,ve,307,16,12265),y(l,"hass",e[0]),y(l,"lovelace",e[1]),t(l,ve,313,16,12482),se(n,"class","sub-panel"),t(n,ve,304,12,12071)},m:function(t,c){ie(t,n,c),ae(n,o),ae(o,i),ae(n,r),ae(n,l),s||(d=[le(o,"click",e[24],!1),le(l,"config-changed",(function(){a(e[11](e[25]))&&e[11](e[25]).apply(this,arguments)}),!1)],s=!0)},p:function(t,n){e=t,1&n[0]&&y(l,"hass",e[0]),2&n[0]&&y(l,"lovelace",e[1])},d:function(e){e&&re(n),s=!1,c(d)}};return ce("SvelteRegisterBlock",{block:u,id:_e.name,type:"if",source:"(304:8) {#if showAddCardPicker}",ctx:e}),u}function Te(e){let n,o,c,a,i,r;function l(){return e[13](e[28])}const s={c:function(){n=p("ha-formfield"),o=p("ha-switch"),this.h()},l:function(e){n=k(e,"HA-FORMFIELD",{label:!0});var t=x(n);o=k(t,"HA-SWITCH",{checked:!0,configvalue:!0}),x(o).forEach(re),t.forEach(re),this.h()},h:function(){y(o,"checked",c=e[2][e[28]]??!1),y(o,"configvalue",a=e[2][e[28]]),t(o,ve,165,20,6134),y(n,"label",e[30]?.label||e[28]),t(n,ve,164,16,6071)},m:function(e,t){ie(e,n,t),ae(n,o),i||(r=le(o,"input",l,!1),i=!0)},p:function(t,n){e=t,4&n[0]&&c!==(c=e[2][e[28]]??!1)&&y(o,"checked",c),4&n[0]&&a!==(a=e[2][e[28]])&&y(o,"configvalue",a)},d:function(e){e&&re(n),i=!1,r()}};return ce("SvelteRegisterBlock",{block:s,id:Te.name,type:"if",source:"(164:12) {#if type === 'boolean' && (!extra?.cond || extra?.cond(config))}",ctx:e}),s}function Se(e){let n,o,c,i,r;function l(...t){return e[14](e[28],...t)}const s={c:function(){n=p("ha-textfield"),this.h()},l:function(e){n=k(e,"HA-TEXTFIELD",{label:!0,value:!0,configvalue:!0}),x(n).forEach(re),this.h()},h:function(){y(n,"label",e[30]?.label||e[28]),y(n,"value",o=e[2][e[28]]??""),y(n,"configvalue",c=e[2][e[28]]),t(n,ve,175,16,6541)},m:function(t,o){ie(t,n,o),i||(r=le(n,"input",(function(){a(e[11](l))&&e[11](l).apply(this,arguments)}),!1),i=!0)},p:function(t,a){e=t,4&a[0]&&o!==(o=e[2][e[28]]??"")&&y(n,"value",o),4&a[0]&&c!==(c=e[2][e[28]])&&y(n,"configvalue",c)},d:function(e){e&&re(n),i=!1,r()}};return ce("SvelteRegisterBlock",{block:s,id:Se.name,type:"if",source:"(175:12) {#if type === 'string' && (!extra?.cond || extra?.cond(config))}",ctx:e}),s}function Ae(e){let n,o,c,i,r;function l(...t){return e[15](e[28],...t)}const s={c:function(){n=p("ha-textfield"),this.h()},l:function(e){n=k(e,"HA-TEXTFIELD",{label:!0,value:!0,configvalue:!0,type:!0}),x(n).forEach(re),this.h()},h:function(){y(n,"label",e[30]?.label||e[28]),y(n,"value",o=e[2][e[28]]??""),y(n,"configvalue",c=e[2][e[28]]),y(n,"type","number"),t(n,ve,185,16,6953)},m:function(t,o){ie(t,n,o),i||(r=le(n,"input",(function(){a(e[11](l))&&e[11](l).apply(this,arguments)}),!1),i=!0)},p:function(t,a){e=t,4&a[0]&&o!==(o=e[2][e[28]]??"")&&y(n,"value",o),4&a[0]&&c!==(c=e[2][e[28]])&&y(n,"configvalue",c)},d:function(e){e&&re(n),i=!1,r()}};return ce("SvelteRegisterBlock",{block:s,id:Ae.name,type:"if",source:"(185:12) {#if type === 'number' && (!extra?.cond || extra?.cond(config))}",ctx:e}),s}function Re(e){let n,o,c,a,i,r,l,s,d,u,f;function h(e,t){return e[2][e[28]]?Oe:Be}let g=h(e),v=g(e),$=e[2][e[28]]&&Pe(e);function w(e,t){return e[4]?Ie:e[2][e[28]]?Ne:void 0}let C=w(e),_=C&&C(e);const T={c:function(){n=p("div"),o=p("ha-textfield"),i=m(),r=p("ha-icon-button"),v.c(),l=m(),$&&$.c(),s=m(),_&&_.c(),d=b(),this.h()},l:function(e){n=k(e,"DIV",{class:!0});var t=x(n);o=k(t,"HA-TEXTFIELD",{label:!0,value:!0,configvalue:!0,readonly:!0}),x(o).forEach(re),i=E(t),r=k(t,"HA-ICON-BUTTON",{});var c=x(r);v.l(c),c.forEach(re),l=E(t),$&&$.l(t),t.forEach(re),s=E(e),_&&_.l(e),d=b(),this.h()},h:function(){y(o,"label",e[30]?.label||e[28]),y(o,"value",c=e[2][e[28]]?.type??""),y(o,"configvalue",a=e[2][e[28]]),y(o,"readonly",!0),t(o,ve,197,20,7445),t(r,ve,205,20,7862),se(n,"class","row"),t(n,ve,196,16,7407)},m:function(t,c){ie(t,n,c),ae(n,o),ae(n,i),ae(n,r),v.m(r,null),ae(n,l),$&&$.m(n,null),ie(t,s,c),_&&_.m(t,c),ie(t,d,c),u||(f=le(r,"click",e[16],!1),u=!0)},p:function(e,t){4&t[0]&&c!==(c=e[2][e[28]]?.type??"")&&y(o,"value",c),4&t[0]&&a!==(a=e[2][e[28]])&&y(o,"configvalue",a),g!==(g=h(e))&&(v.d(1),v=g(e),v&&(v.c(),v.m(r,null))),e[2][e[28]]?$?$.p(e,t):($=Pe(e),$.c(),$.m(n,null)):$&&($.d(1),$=null),C===(C=w(e))&&_?_.p(e,t):(_&&_.d(1),_=C&&C(e),_&&(_.c(),_.m(d.parentNode,d)))},d:function(e){e&&re(n),v.d(),$&&$.d(),e&&re(s),_&&_.d(e),e&&re(d),u=!1,f()}};return ce("SvelteRegisterBlock",{block:T,id:Re.name,type:"if",source:"(196:12) {#if type === 'card' && (!extra?.cond || extra?.cond(config))}",ctx:e}),T}function Oe(e){let n;const o={c:function(){n=p("ha-icon"),this.h()},l:function(e){n=k(e,"HA-ICON",{icon:!0}),x(n).forEach(re),this.h()},h:function(){y(n,"icon","mdi:redo"),t(n,ve,209,28,8084)},m:function(e,t){ie(e,n,t)},d:function(e){e&&re(n)}};return ce("SvelteRegisterBlock",{block:o,id:Oe.name,type:"else",source:"(209:24) {:else}",ctx:e}),o}function Be(e){let n;const o={c:function(){n=p("ha-icon"),this.h()},l:function(e){n=k(e,"HA-ICON",{icon:!0}),x(n).forEach(re),this.h()},h:function(){y(n,"icon","mdi:plus"),t(n,ve,207,28,7996)},m:function(e,t){ie(e,n,t)},d:function(e){e&&re(n)}};return ce("SvelteRegisterBlock",{block:o,id:Be.name,type:"if",source:"(207:24) {#if !config[key]}",ctx:e}),o}function Pe(e){let n,o,c,a;function i(){return e[17](e[28])}const r={c:function(){n=p("ha-icon-button"),o=p("ha-icon"),this.h()},l:function(e){n=k(e,"HA-ICON-BUTTON",{});var t=x(n);o=k(t,"HA-ICON",{icon:!0}),x(o).forEach(re),t.forEach(re),this.h()},h:function(){y(o,"icon","mdi:close"),t(o,ve,221,28,8664),t(n,ve,215,24,8412)},m:function(e,t){ie(e,n,t),ae(n,o),c||(a=le(n,"click",i,!1),c=!0)},p:function(t,n){e=t},d:function(e){e&&re(n),c=!1,a()}};return ce("SvelteRegisterBlock",{block:r,id:Pe.name,type:"if",source:"(213:20) {#if config[key]}",ctx:e}),r}function Ne(e){let n,o,c,a,i,r;const l={c:function(){n=p("div"),o=p("hui-card-element-editor"),a=m(),this.h()},l:function(e){n=k(e,"DIV",{class:!0});var t=x(n);o=k(t,"HUI-CARD-ELEMENT-EDITOR",{hass:!0,value:!0,lovelace:!0}),x(o).forEach(re),a=E(t),t.forEach(re),this.h()},h:function(){y(o,"hass",e[0]),y(o,"value",c=e[2][e[28]]),y(o,"lovelace",e[1]),t(o,ve,245,24,9745),se(n,"class","sub-panel"),t(n,ve,244,20,9697)},m:function(t,c){ie(t,n,c),ae(n,o),ae(n,a),i||(r=le(o,"config-changed",e[10](e[28]),!1),i=!0)},p:function(t,n){e=t,1&n[0]&&y(o,"hass",e[0]),4&n[0]&&c!==(c=e[2][e[28]])&&y(o,"value",c),2&n[0]&&y(o,"lovelace",e[1])},d:function(e){e&&re(n),i=!1,r()}};return ce("SvelteRegisterBlock",{block:l,id:Ne.name,type:"if",source:"(244:38) ",ctx:e}),l}function Ie(e){let n,o,i,r,l,s,d,u;function f(...t){return e[19](e[28],...t)}const h={c:function(){n=p("div"),o=p("mwc-button"),i=g("Cancel"),r=m(),l=p("hui-card-picker"),s=m(),this.h()},l:function(e){n=k(e,"DIV",{class:!0});var t=x(n);o=k(t,"MWC-BUTTON",{});var c=x(o);i=w(c,"Cancel"),c.forEach(re),r=E(t),l=k(t,"HUI-CARD-PICKER",{hass:!0,lovelace:!0}),x(l).forEach(re),s=E(t),t.forEach(re),this.h()},h:function(){t(o,ve,229,24,9064),y(l,"hass",e[0]),y(l,"lovelace",e[1]),t(l,ve,234,24,9283),se(n,"class","sub-panel"),t(n,ve,226,20,8846)},m:function(t,c){ie(t,n,c),ae(n,o),ae(o,i),ae(n,r),ae(n,l),ae(n,s),d||(u=[le(o,"click",e[18],!1),le(l,"config-changed",(function(){a(e[11](f))&&e[11](f).apply(this,arguments)}),!1)],d=!0)},p:function(t,n){e=t,1&n[0]&&y(l,"hass",e[0]),2&n[0]&&y(l,"lovelace",e[1])},d:function(e){e&&re(n),d=!1,c(u)}};return ce("SvelteRegisterBlock",{block:h,id:Ie.name,type:"if",source:"(226:16) {#if showTitleCardPicker}",ctx:e}),h}function Me(e,t){let n,o,c,a,i,r="boolean"===t[29]&&(!t[30]?.cond||t[30]?.cond(t[2])),l="string"===t[29]&&(!t[30]?.cond||t[30]?.cond(t[2])),s="number"===t[29]&&(!t[30]?.cond||t[30]?.cond(t[2])),d="card"===t[29]&&(!t[30]?.cond||t[30]?.cond(t[2])),u=r&&Te(t),f=l&&Se(t),h=s&&Ae(t),p=d&&Re(t);const g={key:e,first:null,c:function(){n=b(),u&&u.c(),o=m(),f&&f.c(),c=m(),h&&h.c(),a=m(),p&&p.c(),i=b(),this.h()},l:function(e){n=b(),u&&u.l(e),o=E(e),f&&f.l(e),c=E(e),h&&h.l(e),a=E(e),p&&p.l(e),i=b(),this.h()},h:function(){this.first=n},m:function(e,t){ie(e,n,t),u&&u.m(e,t),ie(e,o,t),f&&f.m(e,t),ie(e,c,t),h&&h.m(e,t),ie(e,a,t),p&&p.m(e,t),ie(e,i,t)},p:function(e,n){t=e,4&n[0]&&(r="boolean"===t[29]&&(!t[30]?.cond||t[30]?.cond(t[2]))),r?u?u.p(t,n):(u=Te(t),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null),4&n[0]&&(l="string"===t[29]&&(!t[30]?.cond||t[30]?.cond(t[2]))),l?f?f.p(t,n):(f=Se(t),f.c(),f.m(c.parentNode,c)):f&&(f.d(1),f=null),4&n[0]&&(s="number"===t[29]&&(!t[30]?.cond||t[30]?.cond(t[2]))),s?h?h.p(t,n):(h=Ae(t),h.c(),h.m(a.parentNode,a)):h&&(h.d(1),h=null),4&n[0]&&(d="card"===t[29]&&(!t[30]?.cond||t[30]?.cond(t[2]))),d?p?p.p(t,n):(p=Re(t),p.c(),p.m(i.parentNode,i)):p&&(p.d(1),p=null)},d:function(e){e&&re(n),u&&u.d(e),e&&re(o),f&&f.d(e),e&&re(c),h&&h.d(e),e&&re(a),p&&p.d(e),e&&re(i)}};return ce("SvelteRegisterBlock",{block:g,id:Me.name,type:"each",source:"(163:8) {#each Object.entries(configuratorElements) as [key, [type, extra]] (key)}",ctx:t}),g}function je(n){let o,c,a,i,r,l,s,d,u,f,h,v;function $(e,t){return 0===e[3]?ke:$e}let C=$(n),_=C(n);const T={c:function(){o=p("paper-tabs"),c=p("paper-tab"),a=g("Layout"),r=m(),l=p("paper-tab"),s=g("Cards"),u=m(),_.c(),f=b(),this.c=e,this.h()},l:function(e){o=k(e,"PAPER-TABS",{scrollable:!0,selected:!0});var t=x(o);c=k(t,"PAPER-TAB",{class:!0});var n=x(c);a=w(n,"Layout"),n.forEach(re),r=E(t),l=k(t,"PAPER-TAB",{class:!0});var i=x(l);s=w(i,"Cards"),i.forEach(re),t.forEach(re),u=E(e),_.l(e),f=b(),this.h()},h:function(){y(c,"class",i=""+(0===n[3]?"tab-selected":"")),t(c,ve,155,4,5555),y(l,"class",d=""+(0!==n[3]?"tab-selected":"")),t(l,ve,156,4,5644),y(o,"scrollable",""),y(o,"selected",n[3]),t(o,ve,154,0,5472)},m:function(e,t){ie(e,o,t),ae(o,c),ae(c,a),ae(o,r),ae(o,l),ae(l,s),ie(e,u,t),_.m(e,t),ie(e,f,t),h||(v=le(o,"iron-activate",n[9],!1),h=!0)},p:function(e,t){8&t[0]&&i!==(i=""+(0===e[3]?"tab-selected":""))&&y(c,"class",i),8&t[0]&&d!==(d=""+(0!==e[3]?"tab-selected":""))&&y(l,"class",d),8&t[0]&&y(o,"selected",e[3]),C===(C=$(e))&&_?_.p(e,t):(_.d(1),_=C(e),_&&(_.c(),_.m(f.parentNode,f)))},i:e,o:e,d:function(e){e&&re(o),e&&re(u),_.d(e),e&&re(f),h=!1,v()}};return ce("SvelteRegisterBlock",{block:T,id:je.name,type:"component",source:"",ctx:n}),T}function De(e,t,n){let{$$slots:o={},$$scope:c}=t;fe("expander-card-editor",o,[]);const a=S();let i={};const r={title:["string",{label:"Title (Not displayed if using Title-Card)"}],clear:["boolean",{label:"Remove background"}],expanded:["boolean",{label:"Start expanded (Always expanded in editor)"}],"min-width-expanded":["number",{label:"Min screen width (px) to be expanded on start (use with start expanded above)"}],"max-width-expanded":["number",{label:"Max screen width (px) to be expanded on start (use with start expanded above)"}],"expander-card-background":["string",{label:"Expander Card Background (CSS color)"}],"expander-card-background-expanded":["string",{label:"Expander Card Background when card is open/expaned (CSS color)"}],"header-color":["string",{label:"Color of expand button (CSS color)"}],"button-background":["string",{label:"Button background (CSS color)"}],"arrow-color":["string",{label:"Arrow Color of expand button (CSS color)"}],gap:["string",{label:"Gap between cards"}],"expanded-gap":["string",{label:"Gap between cards when open"}],padding:["string",{label:"Padding of all card content"}],"child-padding":["string",{label:"Padding of child cards"}],"child-margin-top":["string",{label:"Margin top of child cards"}],"title-card":["card",{label:"Title card"}],"title-card-padding":["string",{label:"Padding of title card",cond:e=>void 0!==e["title-card"]}],"title-card-button-overlay":["boolean",{label:"Expand button as overlay on title card",cond:e=>void 0!==e["title-card"]}],"title-card-clickable":["boolean",{label:"Should the title card clickable"}],"overlay-margin":["string",{label:"Margin of overlay button",cond:e=>!!e["title-card-button-overlay"]}],"expander-card-display":["string",{label:"Display/Layout of the Card"}],cards:["card[]"]};let{hass:l}=t,{lovelace:s}=t;const d=()=>{me(a,"config-changed",{config:i},{bubbles:!0,cancelable:!1,composed:!0})};let{setConfig:u=((e={})=>{n(2,i=Object.assign(Object.assign({},i),e))})}=t,f=0;const h=e=>n(3,f=e.detail.selected);let p;const g=e=>t=>{t.stopPropagation(),n(2,i[e]=t.detail.config,i),clearTimeout(p),p=setTimeout((()=>{me(a,"config-changed",{config:i[e]},{bubbles:!0,cancelable:!0,composed:!0}),setTimeout((()=>{d()}),5e3)}),5e5)},m=e=>t=>{e(t)};let b=!1,v=0,y=!1;e.$$.on_mount.push((function(){void 0!==l||"hass"in t||e.$$.bound[e.$$.props.hass]||console.warn("<expander-card-editor> was created without expected prop 'hass'"),void 0!==s||"lovelace"in t||e.$$.bound[e.$$.props.lovelace]||console.warn("<expander-card-editor> was created without expected prop 'lovelace'")}));const x=["hass","lovelace","setConfig"];be.keys(t).forEach((e=>{~x.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<expander-card-editor> was created with unknown prop '${e}'`)}));return e.$$set=e=>{"hass"in e&&n(0,l=e.hass),"lovelace"in e&&n(1,s=e.lovelace),"setConfig"in e&&n(12,u=e.setConfig)},e.$capture_state=()=>({fireEvent:me,get_current_component:S,thisComponent:a,config:i,configuratorElements:r,hass:l,lovelace:s,valueChanged:d,setConfig:u,selectedTab:f,onTabClicked:h,timeout:p,updateCard:g,passEv:m,showTitleCardPicker:b,selectedChildChard:v,showAddCardPicker:y}),e.$inject_state=e=>{"config"in e&&n(2,i=e.config),"hass"in e&&n(0,l=e.hass),"lovelace"in e&&n(1,s=e.lovelace),"setConfig"in e&&n(12,u=e.setConfig),"selectedTab"in e&&n(3,f=e.selectedTab),"timeout"in e&&(p=e.timeout),"showTitleCardPicker"in e&&n(4,b=e.showTitleCardPicker),"selectedChildChard"in e&&n(5,v=e.selectedChildChard),"showAddCardPicker"in e&&n(6,y=e.showAddCardPicker)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[l,s,i,f,b,v,y,r,d,h,g,m,u,e=>{n(2,i[e]=!i[e],i)},(e,t)=>{n(2,i[e]=t?.target?.value,i)},(e,t)=>{n(2,i[e]=parseInt(t?.target?.value),i)},()=>n(4,b=!0),e=>{n(2,i[e]=void 0,i),d()},()=>{n(4,b=!1)},(e,t)=>{g(e)(t),n(4,b=!1)},e=>{n(5,v=e.detail.selected)},()=>n(6,y=!0),()=>{n(2,i.cards=i.cards?.filter(((e,t)=>t!==v)),i),n(5,v=0),d()},e=>{e.stopPropagation(),i.cards&&(n(2,i.cards[v]=e.detail.config,i),d())},()=>{n(6,y=!1),d()},e=>{e.stopPropagation(),i.cards||n(2,i.cards=[],i),i.cards?.push(e.detail.config),d(),n(6,y=!1),n(5,v=i.cards.length-1)}]}class He extends F{constructor(e){super();const t=document.createElement("style");t.textContent=".content{display:grid;gap:1em;width:100%}ha-textfield{width:100%}paper-tabs{width:100%;padding-bottom:0.5em}.row{display:flex;flex-direction:row;align-items:center}.tab-selected{border-bottom:solid;background:#72727215}.sub-panel{border:1px solid;border-radius:1em;padding:1em}.mwc-button{margin:1em}#add-card{width:fit-content}",this.shadowRoot.appendChild(t),oe(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},De,je,i,{hass:0,lovelace:1,setConfig:12},0,[-1,-1]),e&&(e.target&&ie(e.target,this,e.anchor),e.props&&(this.$set(e.props),H()))}static get observedAttributes(){return["hass","lovelace","setConfig"]}get hass(){return this.$$.ctx[0]}set hass(e){this.$$set({hass:e}),H()}get lovelace(){return this.$$.ctx[1]}set lovelace(e){this.$$set({lovelace:e}),H()}get setConfig(){return this.$$.ctx[12]}set setConfig(e){this.$$set({setConfig:e}),H()}}customElements.define("expander-card-editor",He);const Le=window.loadCardHelpers().then((e=>e)),Ue="src/Card.svelte";function Ve(e){let n,o;const c={c:function(){n=p("span"),o=g("Loading..."),this.h()},l:function(e){n=k(e,"SPAN",{style:!0});var t=x(n);o=w(t,"Loading..."),t.forEach(re),this.h()},h:function(){se(n,"style","padding: 1em; display: block; "),t(n,Ue,52,4,1870)},m:function(e,t){ie(e,n,t),ae(n,o)},d:function(e){e&&re(n)}};return ce("SvelteRegisterBlock",{block:c,id:Ve.name,type:"if",source:"(52:0) {#if loading}",ctx:e}),c}function Fe(n){let o,c,i,l,s,d,u=n[3]&&Ve(n);const f={c:function(){o=p("div"),i=m(),u&&u.c(),l=b(),this.c=e,this.h()},l:function(e){o=k(e,"DIV",{}),x(o).forEach(re),i=E(e),u&&u.l(e),l=b(),this.h()},h:function(){t(o,Ue,50,0,1776)},m:function(e,t){ie(e,o,t),ie(e,i,t),u&&u.m(e,t),ie(e,l,t),s||(d=r(c=n[4].call(null,o,{marginTop:n[1],type:n[0],hassParent:n[2]})),s=!0)},p:function(e,[t]){c&&a(c.update)&&7&t&&c.update.call(null,{marginTop:e[1],type:e[0],hassParent:e[2]}),e[3]?u||(u=Ve(e),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null)},i:e,o:e,d:function(e){e&&re(o),e&&re(i),u&&u.d(e),e&&re(l),s=!1,d()}};return ce("SvelteRegisterBlock",{block:f,id:Fe.name,type:"component",source:"",ctx:n}),f}function Xe(e,t,n){let{$$slots:o={},$$scope:c}=t;fe("expander-sub-card",o,[]);let{type:a="div"}=t,{marginTop:i="0px"}=t,{config:r}=t,{hass:l}=t,s=!0;const d=(e,t)=>({update:t=>{var o;if(e){if(null===(o=e.firstChild)||void 0===o?void 0:o.tagName)return void(e.firstChild.hass=t.hassParent);(async()=>{const o=(await Le).createCardElement(r);o.hass=t.hassParent,e.setAttribute("style","margin-top: "+t.marginTop+";"),e.innerHTML="",e.appendChild(o),n(3,s=!1)})()}}});e.$$.on_mount.push((function(){void 0!==r||"config"in t||e.$$.bound[e.$$.props.config]||console.warn("<expander-sub-card> was created without expected prop 'config'")}));const u=["type","marginTop","config","hass"];return Object.keys(t).forEach((e=>{~u.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<expander-sub-card> was created with unknown prop '${e}'`)})),e.$$set=e=>{"type"in e&&n(0,a=e.type),"marginTop"in e&&n(1,i=e.marginTop),"config"in e&&n(5,r=e.config),"hass"in e&&n(2,l=e.hass)},e.$capture_state=()=>({cardUtil:Le,type:a,marginTop:i,config:r,hass:l,loading:s,uplift:d}),e.$inject_state=e=>{"type"in e&&n(0,a=e.type),"marginTop"in e&&n(1,i=e.marginTop),"config"in e&&n(5,r=e.config),"hass"in e&&n(2,l=e.hass),"loading"in e&&n(3,s=e.loading)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[a,i,l,s,d,r]}class We extends F{constructor(e){super(),oe(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},Xe,Fe,i,{type:0,marginTop:1,config:5,hass:2}),e&&(e.target&&ie(e.target,this,e.anchor),e.props&&(this.$set(e.props),H()))}static get observedAttributes(){return["type","marginTop","config","hass"]}get type(){return this.$$.ctx[0]}set type(e){this.$$set({type:e}),H()}get marginTop(){return this.$$.ctx[1]}set marginTop(e){this.$$set({marginTop:e}),H()}get config(){return this.$$.ctx[5]}set config(e){this.$$set({config:e}),H()}get hass(){return this.$$.ctx[2]}set hass(e){this.$$set({hass:e}),H()}}function Ye(e,t){t=Object.assign({open:!0,duration:.2,easing:"ease"},t);const n=()=>{};let o=n,c=n;const a=e.addEventListener("transitionend",(()=>{o(),o=n,c=n}));async function i(){return new Promise(requestAnimationFrame)}function r(){return`height ${t.duration}s ${t.easing}`}async function l(){e.style.height=e.scrollHeight+"px";try{await async function(){return new Promise(((e,t)=>{o=e,c=t}))}(),e.style.height="auto",e.style.overflow="visible"}catch(e){}}return e.style.transition=r(),e.style.height=t.open?"auto":"0px",t.open?e.style.overflow="visible":e.style.overflow="hidden",{update:function(n){(t=Object.assign(t,n)).open?l():async function(){"auto"===e.style.height?(e.style.transition="none",await i(),e.style.height=e.scrollHeight+"px",e.style.transition=r(),await i(),e.style.overflow="hidden",e.style.height="0px"):(c(),e.style.overflow="hidden",e.style.height="0px")}()},destroy:function(){e.removeEventListener("transitionend",a)}}}customElements.define("expander-sub-card",We);const{Object:qe}=l,ze="src/ExpanderCard.svelte";function Ge(e,t,n){const o=e.slice();return o[18]=t[n],o}function Ke(n){let o,c,a,i,r,l,s,d,u=n[2].title+"";const f={c:function(){o=p("button"),c=p("div"),a=g(u),r=m(),l=p("ha-icon"),this.h()},l:function(e){o=k(e,"BUTTON",{class:!0,style:!0});var t=x(o);c=k(t,"DIV",{class:!0});var n=x(c);a=w(n,u),n.forEach(re),r=E(t),l=k(t,"HA-ICON",{style:!0,icon:!0,class:!0}),x(l).forEach(re),t.forEach(re),this.h()},h:function(){se(c,"class",i="primary title"+(n[1]?" open":" close")),t(c,ze,146,12,5806),C(l,"--arrow-color",n[2]["arrow-color"]),y(l,"icon","mdi:chevron-down"),y(l,"class",s="ico"+(n[1]?" flipped open":" close")),t(l,ze,147,12,5896),se(o,"class",d=`header${n[2]["expander-card-background-expanded"]?"":" ripple"}${n[1]?" open":" close"}`),C(o,"--header-width","100%"),C(o,"--button-background",n[2]["button-background"]),C(o,"--header-color",n[2]["header-color"]),t(o,ze,141,8,5492)},m:function(e,t){ie(e,o,t),ae(o,c),ae(c,a),ae(o,r),ae(o,l),n[9](o)},p:function(e,t){4&t&&u!==(u=e[2].title+"")&&de(a,u),2&t&&i!==(i="primary title"+(e[1]?" open":" close"))&&se(c,"class",i),4&t&&C(l,"--arrow-color",e[2]["arrow-color"]),2&t&&s!==(s="ico"+(e[1]?" flipped open":" close"))&&y(l,"class",s),6&t&&d!==(d=`header${e[2]["expander-card-background-expanded"]?"":" ripple"}${e[1]?" open":" close"}`)&&se(o,"class",d),4&t&&C(o,"--button-background",e[2]["button-background"]),4&t&&C(o,"--header-color",e[2]["header-color"])},i:e,o:e,d:function(e){e&&re(o),n[9](null)}};return ce("SvelteRegisterBlock",{block:f,id:Ke.name,type:"else",source:"(141:4) {:else}",ctx:n}),f}function Je(e){let n,o,a,i,r,l,s,d,u,f,h,g;a=new We({props:{hass:e[0],config:e[2]["title-card"],type:e[2]["title-card"].type},$$inline:!0});const b={c:function(){n=p("div"),o=p("div"),Q(a.$$.fragment),i=m(),r=p("button"),l=p("ha-icon"),this.h()},l:function(e){n=k(e,"DIV",{class:!0});var t=x(n);o=k(t,"DIV",{class:!0,style:!0});var c=x(o);Z(a.$$.fragment,c),c.forEach(re),i=E(t),r=k(t,"BUTTON",{style:!0,class:!0});var s=x(r);l=k(s,"HA-ICON",{style:!0,icon:!0,class:!0}),x(l).forEach(re),s.forEach(re),t.forEach(re),this.h()},h:function(){se(o,"class","title-card-container"),C(o,"--title-padding",e[2]["title-card-padding"]),t(o,ze,128,12,4609),C(l,"--arrow-color",e[2]["arrow-color"]),y(l,"icon","mdi:chevron-down"),y(l,"class",s="ico"+(e[1]?" flipped open":"close")),t(l,ze,137,16,5304),C(r,"--overlay-margin",e[2]["overlay-margin"]),C(r,"--button-background",e[2]["button-background"]),C(r,"--header-color",e[2]["header-color"]),se(r,"class",d=`header ripple${e[2]["title-card-button-overlay"]?" header-overlay":""}${e[1]?" open":" close"}`),t(r,ze,131,12,4916),se(n,"class",u="title-card-header"+(e[2]["title-card-button-overlay"]?"-overlay":"")),t(n,ze,127,8,4507)},m:function(t,c){ie(t,n,c),ae(n,o),ee(a,o,null),ae(n,i),ae(n,r),ae(r,l),e[8](r),f=!0,h||(g=[le(o,"touchstart",e[4],{passive:!0}),le(o,"touchmove",e[5],{passive:!0}),le(o,"touchend",e[6],!1)],h=!0)},p:function(e,t){const c={};1&t&&(c.hass=e[0]),4&t&&(c.config=e[2]["title-card"]),4&t&&(c.type=e[2]["title-card"].type),a.$set(c),(!f||4&t)&&C(o,"--title-padding",e[2]["title-card-padding"]),(!f||4&t)&&C(l,"--arrow-color",e[2]["arrow-color"]),(!f||2&t&&s!==(s="ico"+(e[1]?" flipped open":"close")))&&y(l,"class",s),(!f||4&t)&&C(r,"--overlay-margin",e[2]["overlay-margin"]),(!f||4&t)&&C(r,"--button-background",e[2]["button-background"]),(!f||4&t)&&C(r,"--header-color",e[2]["header-color"]),(!f||6&t&&d!==(d=`header ripple${e[2]["title-card-button-overlay"]?" header-overlay":""}${e[1]?" open":" close"}`))&&se(r,"class",d),(!f||4&t&&u!==(u="title-card-header"+(e[2]["title-card-button-overlay"]?"-overlay":"")))&&se(n,"class",u)},i:function(e){f||(Y(a.$$.fragment,e),f=!0)},o:function(e){q(a.$$.fragment,e),f=!1},d:function(t){t&&re(n),te(a),e[8](null),h=!1,c(g)}};return ce("SvelteRegisterBlock",{block:b,id:Je.name,type:"if",source:"(127:4) {#if config['title-card']}",ctx:e}),b}function Qe(e){let n,o,c,i,l,s=[],d=new Map,u=e[2].cards;ue(u);const f=e=>e[18];J(e,u,Ge,f);for(let t=0;t<u.length;t+=1){let n=Ge(e,u,t),o=f(n);d.set(o,s[t]=Ze(o,n))}const h={c:function(){n=p("div");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l:function(e){n=k(e,"DIV",{style:!0,class:!0});var t=x(n);for(let e=0;e<s.length;e+=1)s[e].l(t);t.forEach(re),this.h()},h:function(){C(n,"--expander-card-display",e[2]["expander-card-display"]),C(n,"--gap",e[1]?e[2]["expanded-gap"]:e[2].gap),C(n,"--child-padding",e[2]["child-padding"]),se(n,"class","children-container"),t(n,ze,151,8,6087)},m:function(t,a){ie(t,n,a);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(n,null);c=!0,i||(l=r(o=Ye.call(null,n,{open:e[1],duration:.2,easing:"ease"})),i=!0)},p:function(e,t){5&t&&(u=e[2].cards,ue(u),X(),J(e,u,Ge,f),s=K(s,t,f,0,e,u,d,n,G,Ze,null,Ge),W()),(!c||4&t)&&C(n,"--expander-card-display",e[2]["expander-card-display"]),(!c||6&t)&&C(n,"--gap",e[1]?e[2]["expanded-gap"]:e[2].gap),(!c||4&t)&&C(n,"--child-padding",e[2]["child-padding"]),o&&a(o.update)&&2&t&&o.update.call(null,{open:e[1],duration:.2,easing:"ease"})},i:function(e){if(!c){for(let e=0;e<u.length;e+=1)Y(s[e]);c=!0}},o:function(e){for(let e=0;e<s.length;e+=1)q(s[e]);c=!1},d:function(e){e&&re(n);for(let e=0;e<s.length;e+=1)s[e].d();i=!1,l()}};return ce("SvelteRegisterBlock",{block:h,id:Qe.name,type:"if",source:"(151:4) {#if config.cards}",ctx:e}),h}function Ze(e,t){let n,o,c;o=new We({props:{hass:t[0],config:t[18],type:t[18].type,marginTop:t[2]["child-margin-top"]},$$inline:!0});const a={key:e,first:null,c:function(){n=b(),Q(o.$$.fragment),this.h()},l:function(e){n=b(),Z(o.$$.fragment,e),this.h()},h:function(){this.first=n},m:function(e,t){ie(e,n,t),ee(o,e,t),c=!0},p:function(e,n){t=e;const c={};1&n&&(c.hass=t[0]),4&n&&(c.config=t[18]),4&n&&(c.type=t[18].type),4&n&&(c.marginTop=t[2]["child-margin-top"]),o.$set(c)},i:function(e){c||(Y(o.$$.fragment,e),c=!0)},o:function(e){q(o.$$.fragment,e),c=!1},d:function(e){e&&re(n),te(o,e)}};return ce("SvelteRegisterBlock",{block:a,id:Ze.name,type:"each",source:"(158:12) {#each config.cards as card (card)}",ctx:t}),a}function et(n){let o,c,a,i,r,l;const s=[Je,Ke],d=[];function u(e,t){return e[2]["title-card"]?0:1}c=u(n),a=d[c]=s[c](n);let f=n[2].cards&&Qe(n);const h={c:function(){o=p("ha-card"),a.c(),i=m(),f&&f.c(),this.c=e,this.h()},l:function(e){o=k(e,"HA-CARD",{class:!0,style:!0});var t=x(o);a.l(t),i=E(t),f&&f.l(t),t.forEach(re),this.h()},h:function(){y(o,"class",r=`expander-card${n[2].clear?" clear":""}${n[1]?" open":" close"}`),C(o,"--expander-card-display",n[2]["expander-card-display"]),C(o,"--gap",n[1]?n[2]["expanded-gap"]:n[2].gap),C(o,"--padding",n[2].padding),C(o,"--expander-state",n[1]),C(o,"--card-background",n[1]&&n[2]["expander-card-background-expanded"]?n[2]["expander-card-background-expanded"]:n[2]["expander-card-background"]),t(o,ze,120,0,4026)},m:function(e,t){ie(e,o,t),d[c].m(o,null),ae(o,i),f&&f.m(o,null),l=!0},p:function(e,[t]){let n=c;c=u(e),c===n?d[c].p(e,t):(X(),q(d[n],1,1,(()=>{d[n]=null})),W(),a=d[c],a?a.p(e,t):(a=d[c]=s[c](e),a.c()),Y(a,1),a.m(o,i)),e[2].cards?f?(f.p(e,t),4&t&&Y(f,1)):(f=Qe(e),f.c(),Y(f,1),f.m(o,null)):f&&(X(),q(f,1,1,(()=>{f=null})),W()),(!l||6&t&&r!==(r=`expander-card${e[2].clear?" clear":""}${e[1]?" open":" close"}`))&&y(o,"class",r),(!l||4&t)&&C(o,"--expander-card-display",e[2]["expander-card-display"]),(!l||6&t)&&C(o,"--gap",e[1]?e[2]["expanded-gap"]:e[2].gap),(!l||4&t)&&C(o,"--padding",e[2].padding),(!l||2&t)&&C(o,"--expander-state",e[1]),(!l||6&t)&&C(o,"--card-background",e[1]&&e[2]["expander-card-background-expanded"]?e[2]["expander-card-background-expanded"]:e[2]["expander-card-background"])},i:function(e){l||(Y(a),Y(f),l=!0)},o:function(e){q(a),q(f),l=!1},d:function(e){e&&re(o),d[c].d(),f&&f.d()}};return ce("SvelteRegisterBlock",{block:h,id:et.name,type:"component",source:"",ctx:n}),h}function tt(e,t,n){let{$$slots:o={},$$scope:c}=t;fe("expander-card",o,[]);const a=S();let i=!1,r=!1,l=!1,{hass:s}=t;const d={gap:"0.0em","expanded-gap":"0.6em",padding:"1em",clear:!1,title:" ","overlay-margin":"0.0em","child-padding":"0.0em","child-margin-top":"0.0em","button-background":"transparent","expander-card-background":"var(--ha-card-background,var(--card-background-color,#fff))","header-color":"var(--primary-text-color,#fff)","arrow-color":"var(--arrow-color,var(--primary-text-color,#fff))","expander-card-display":"block","title-card-clickable":!1,"min-width-expanded":0,"max-width-expanded":0};let u,f,h=d,{setConfig:p=((e={})=>{n(2,h=Object.assign(Object.assign({},d),e))})}=t;A((()=>{var e;if(l="hui-card-preview"===(null===(e=a.parentElement)||void 0===e?void 0:e.localName),l)n(1,i=!0);else{const e=h["min-width-expanded"],t=h["max-width-expanded"],o=document.body.offsetWidth;e&&t?n(2,h.expanded=o>=e&&o<=t,h):e?n(2,h.expanded=o>=e,h):t&&n(2,h.expanded=o<=t,h),void 0!==h.expanded&&setTimeout((()=>n(1,i=h.expanded)),100)}})),a.constructor.getConfigElement=()=>(window.ExpanderCardEditor=He,document.createElement("expander-card-editor")),a.constructor.getStubConfig=()=>Object.assign({},d),A((()=>{r||(h["title-card-clickable"]?u.parentElement&&(r=!0,u.parentElement.addEventListener("click",(()=>{n(1,i=!i)}))):"BUTTON"===u.tagName&&(r=!0,u.addEventListener("click",(()=>{n(1,i=!i)}))))}));let g=!1,m=0,b=0;const v=e=>{f=e.target,m=e.touches[0].clientX,b=e.touches[0].clientY,g=!1},y=e=>{const t=e.touches[0].clientX,n=e.touches[0].clientY;(Math.abs(t-m)>10||Math.abs(n-b)>10)&&(g=!0)},x=e=>{!g&&f===e.target&&h["title-card-clickable"]&&n(1,i=!i),f=void 0},$=["hass","setConfig"];return qe.keys(t).forEach((e=>{~$.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<expander-card> was created with unknown prop '${e}'`)})),e.$$set=e=>{"hass"in e&&n(0,s=e.hass),"setConfig"in e&&n(7,p=e.setConfig)},e.$capture_state=()=>({Editor:He,Card:We,collapse:Ye,get_current_component:S,onMount:A,thisComponent:a,open:i,isListenerAdded:r,isEditorMode:l,hass:s,defaults:d,config:h,setConfig:p,element:u,touchElement:f,isScrolling:g,startX:m,startY:b,touchStart:v,touchMove:y,touchEnd:x}),e.$inject_state=e=>{"open"in e&&n(1,i=e.open),"isListenerAdded"in e&&(r=e.isListenerAdded),"isEditorMode"in e&&(l=e.isEditorMode),"hass"in e&&n(0,s=e.hass),"config"in e&&n(2,h=e.config),"setConfig"in e&&n(7,p=e.setConfig),"element"in e&&n(3,u=e.element),"touchElement"in e&&(f=e.touchElement),"isScrolling"in e&&(g=e.isScrolling),"startX"in e&&(m=e.startX),"startY"in e&&(b=e.startY)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[s,i,h,u,v,y,x,p,function(e){O[e?"unshift":"push"]((()=>{u=e,n(3,u)}))},function(e){O[e?"unshift":"push"]((()=>{u=e,n(3,u)}))}]}class nt extends F{constructor(e){super();const t=document.createElement("style");t.textContent=".expander-card{display:var(--expander-card-display,block);gap:var(--gap);padding:var(--padding);background:var(--card-background,#fff)}.children-container{padding:var(--child-padding);display:var(--expander-card-display,block);gap:var(--gap)}.clear{background:none !important;background-color:transparent !important;border-style:none !important}.title-card-header{display:flex;align-items:center;justify-content:space-between;flex-direction:row}.title-card-header-overlay{display:block}.title-card-container{width:100%;padding:var(--title-padding)}.header{display:flex;flex-direction:row;align-items:center;padding:0.8em 0.8em;margin:2px;background:var(--button-background);border-style:none;width:var(--header-width,auto);color:var(--header-color,#fff)}.header-overlay{position:absolute;top:0;right:0;margin:var(--overlay-margin)}.title{width:100%;text-align:left}.ico{color:var(--arrow-color,var(--primary-text-color,#fff));transition-property:transform;transition-duration:0.35s}.flipped{transform:rotate(180deg)}.ripple{background-position:center;transition:background 0.8s;border-radius:1em}.ripple:hover{background:#ffffff12 radial-gradient(circle, transparent 1%, #ffffff12 1%) center/15000%}.ripple:active{background-color:#ffffff25;background-size:100%;transition:background 0s}",this.shadowRoot.appendChild(t),oe(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},tt,et,i,{hass:0,setConfig:7}),e&&(e.target&&ie(e.target,this,e.anchor),e.props&&(this.$set(e.props),H()))}static get observedAttributes(){return["hass","setConfig"]}get hass(){return this.$$.ctx[0]}set hass(e){this.$$set({hass:e}),H()}get setConfig(){return this.$$.ctx[7]}set setConfig(e){this.$$set({setConfig:e}),H()}}customElements.define("expander-card",nt);return console.info("%c  Expander-Card \n%c Version 1.6.3","color: orange; font-weight: bold; background: black","color: white; font-weight: bold; background: dimgray"),window.customCards=window.customCards||[],window.customCards.push({type:"expander-card",name:"Expander Card",preview:!0,description:"Expander card"}),nt}));
//# sourceMappingURL=expander-card.js.map
