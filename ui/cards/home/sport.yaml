---
type: custom:stack-in-card
mode: vertical
keep:
  background: true
  margin: true
  border_radius: true
  outer_padding: true
cards:
  - type: custom:decluttering-card
    template: bubble_header
    variables:
      - name: Upcoming Sport
      - icon: football-australian
      - navpath: sport
  - type: grid
    square: false
    columns: 2
    cards:
      - type: custom:mushroom-entity-card
        entity: sensor.upcoming_sport_next_24_hours
        # tap_action:
        #   action: navigate
        #   navigation_path: "#sportstoday"
        hold_action:
          action: none
        double_tap_action:
          action: none
        secondary_info: name
        primary_info: state
        name: Today
        card_mod:
          style:
            mushroom-shape-icon$: |
              .shape {
                --shape-color: none !important;
              }
            .: |
              ha-card {
                background-color: var(--background-color);
                --icon-size: 40px;
                --icon-symbol-size: 30px;
                --card-secondary-font-size: 10px;
                --card-primary-font-size: 12px;
                padding-top: 5px !important;
                padding-bottom: 5px !important;
              }

      - type: custom:mushroom-entity-card
        entity: sensor.upcoming_sport_this_week
        name: This Week
        fill_container: false
        icon_color: yellow
        tap_action:
          action: none
        hold_action:
          action: none
        double_tap_action:
          action: none
        primary_info: state
        secondary_info: name
        card_mod:
          style:
            mushroom-shape-icon$: |
              .shape {
                --shape-color: none !important;
              }
            .: |
              ha-card {
                background-color: var(--background-color);
                --icon-size: 40px;
                --icon-symbol-size: 30px;
                --card-secondary-font-size: 10px;
                --card-primary-font-size: 12px;
                padding-top: 5px !important;
                padding-bottom: 5px !important;
              }

  # - type: custom:auto-entities
  #   sort:
  #     method: attribute
  #     attribute: sortorder
  #   card_param: cards
  #   filter:
  #     template: >-
  #       {% for s in expand(states.group.upcomingsport_thisweek)|map(attribute='entity_id')|list|sort -%}
  #         {{
  #           {
  #             "type": "custom:mushroom-template-card",
  #             "primary": "{{ state_attr(entity, 'friendly_name') | replace('[Upcoming Sport] ', '') }}",
  #             "multiline_secondary": true,
  #             "secondary": "{{ iif(state_attr(entity, 'nextevent_time') == 'No Event Scheduled', 'No Event Scheduled', state_attr(entity, 'nextevent_desc') + ' ' + state_attr(entity, 'nextevent_time')) }}\n{{ iif(state_attr(entity, 'afterevent_time') == 'No Event Scheduled', 'No Event Scheduled', state_attr(entity, 'afterevent_desc') + ' ' + state_attr(entity, 'afterevent_time')) }}",
  #             "entity": s,
  #             "badge_icon": "{%- if is_state_attr(entity, 'nextevent_timeto', 0) %} mdi:clock {%- endif %}",
  #             "icon": "{{ state_attr(entity, 'icon') }}",
  #             "badge_color": "green",
  #             "tap_action": "none",
  #             "card_mod": {
  #               "style": {
  #                 "mushroom-shape-icon$": ".shape {\n  --shape-color: none !important;\n}\n",
  #                 ".": "ha-card {\n  background-color: var(--background-color);\n  --icon-size: 40px;\n  --icon-symbol-size: 30px;\n  --card-secondary-font-size: 10px;\n  --card-primary-font-size: 12px;\n  padding-top: 5px !important;\n  padding-bottom: 5px !important;\n}\nha-card:before {\n  content: '';\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  right: 5px;\n  background: url( {{ state_attr(config.entity, 'entity_picture') }} ) center no-repeat, linear-gradient(to left, transparent, var(--background-color) 50%);\n  background-repeat: no-repeat;\n  background-size: auto 100%, cover;\n  background-position: right;\n  background-blend-mode: saturation;\n  filter: opacity(0.25);\n}"
  #               }
  #             }
  #           }
  #         }},
  #       {%- endfor %}
  #   show_empty: false
  #   card:
  #     type: custom:swipe-card
  #     parameters:
  #       direction: vertical
  #       autoHeight: true
  #       height: 60
  #       effect: cube
  #       autoplay:
  #         delay: 2000
  #       cube effect:
  #         - slideShadows: false
