---
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: separator
    styles: |-
      .bubble-line {
        background: var(--ha-card-background);
        opacity: 1;
        }
    name: Aussie Rules
    icon: mdi:football-australian

  - type: custom:stack-in-card
    card_mod:
      style:
        .: |
          ha-card {
          padding-bottom: 10px !important;
          }
    cards:
      - type: custom:decluttering-card
        template: sports_card
        variables:
          - entity: sensor.upcoming_sport_afl_all_teams
      - type: custom:mushroom-chips-card
        alignment: center
        card_mod:
          style: |
            mushroom-template-chip {
              width: 100%;
            }
            div.chip-container {
              justify-content: space-evenly;
              flex-wrap: nowrap;
            }
            ha-card {
              margin: 0px 10px 2px 10px;
              --chip-spacing: 5px !important;
            }
        chips:
          - type: template
            icon: mdi:calendar-alert
            content: Calendar
            card_mod: &style
              style:
                .: |
                  ha-card {
                    background-color: rgb(80, 110, 172) !important;
                    box-shadow: none !important;
                    justify-content: center;
                    height: 30px !important;
                    border: 0 !important;
                    box-shadow: none !important;
                    border-radius: 10px !important;
                  }
            tap_action: !include /config/ui/cards/sport/snippets/afl_calendar.yaml
            hold_action:
              action: none
            double_tap_action:
              action: none
          - type: template
            hold_action:
              action: none
            double_tap_action:
              action: none
            icon: mdi:list-box-outline
            content: Standings
            card_mod: *style
            tap_action: !include /config/ui/cards/sport/snippets/afl_standings.yaml

          - type: template
            hold_action:
              action: none
            double_tap_action:
              action: none
            icon: mdi:ticket
            content: Recent Results
            card_mod: *style
            tap_action: !include /config/ui/cards/sport/snippets/afl_recentresults.yaml

      - type: custom:mushroom-chips-card
        alignment: center
        card_mod:
          style: |
            mushroom-template-chip {
              width: 100%;
            }
            div.chip-container {
              justify-content: space-evenly;
              flex-wrap: nowrap;
            }
            ha-card {
              margin: 0px 10px 2px 10px;
              --chip-spacing: 5px !important;
            }
        chips:
          - type: template
            icon: mdi:trophy-award
            content: |
              {% for x in state_attr('sensor.scoreboard_afl', 'entries') %}
              {%- set rank = x['stats']|selectattr("name", "eq", "rank")|map(attribute="value")|first -%}
              {%- if rank == 1.0 -%}
              Top Ranked Team: {{x['team']['displayName']}}, {{x['stats']|selectattr("name", "eq", "points")|map(attribute="displayValue")|first}} Pts
              {%- endif -%}
              {% endfor %}
            card_mod:
              style:
                .: |
                  ha-card {
                    background-color: rgba(39, 179, 118, 0.5) !important;
                    box-shadow: none !important;
                    justify-content: center;
                    height: 30px !important;
                    border: 0 !important;
                    box-shadow: none !important;
                    border-radius: 10px !important;
                  }
            tap_action:
              action: none
            hold_action:
              action: none
            double_tap_action:
              action: none

  - type: custom:stack-in-card
    card_mod:
      style:
        .: |
          ha-card {
          padding-bottom: 10px !important;
          }
    cards:
      - type: custom:decluttering-card
        template: sports_card
        variables:
          - entity: sensor.upcoming_sport_sydney_swans
      - type: custom:mushroom-chips-card
        alignment: center
        card_mod:
          style: |
            mushroom-template-chip {
              width: 100%;
            }
            div.chip-container {
              justify-content: space-evenly;
              flex-wrap: nowrap;
            }
            ha-card {
              margin: 0px 10px 2px 10px;
              --chip-spacing: 5px !important;
            }
        chips:
          - type: template
            icon: mdi:calendar-alert
            content: Calendar
            card_mod: &style
              style:
                .: |
                  ha-card {
                    background-color: rgb(80, 110, 172) !important;
                    box-shadow: none !important;
                    justify-content: center;
                    height: 30px !important;
                    border: 0 !important;
                    box-shadow: none !important;
                    border-radius: 10px !important;
                  }
            tap_action: !include /config/ui/cards/sport/snippets/afl_sydneyswans_calendar.yaml
            hold_action:
              action: none
            double_tap_action:
              action: none
          - type: template
            hold_action:
              action: none
            double_tap_action:
              action: none
            icon: mdi:ticket
            content: Recent Results
            card_mod: *style
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                hide_header: false
                data:
                  title: Results / Upcoming
                  content:
                    type: custom:layout-card
                    layout_type: custom:grid-layout
                    layout:
                      margin: 0
                      grid-template-columns: 1fr
                      grid-template-rows: 1fr
                      grid-template-areas: |
                        "col1"
                    cards:
                      - type: custom:hui-element
                        view_layout:
                          grid-area: col1
                        card_type: custom:flex-table-card
                        css:
                          table+: "padding: 0px; width: 100%; border-collapse: collapse;"
                          tbody tr:hover: "background-color: rgba(180, 70, 70,0.2) !important; color:white !important;"
                          tbody tr td:nth-child(1): "min-width: 1fr;width: 1fr; white-space: nowrap;"
                          tbody tr td:nth-child(3): >-
                            min-width: 1fr;width: 1fr; white-space: nowrap; background-color: rgba(39,
                            179, 118,0.2); color: white;
                          th+: "border-bottom: 1px solid rgb(127,127,127);"
                        card_mod:
                          style:
                            .: |
                              ha-card {
                                overflow: auto;
                                box-shadow: none !important;
                                font-size: 12px;
                                }
                        entities:
                          include: sensor.sportschedule_afl_swans
                        sort_by: entries
                        columns:
                          - name: Date
                            data: events
                            modify: |-
                              if(x.date == 0)
                              {"-"}
                              else {
                                var date = new Date(x.date);
                                date.toLocaleDateString('en-US', {weekday: 'short', month: 'short', day: 'numeric'}) +
                                "<br/>@ "+
                                String(date.getHours()).padStart(2,'0')+":"+
                                String(date.getMinutes()).padStart(2,'0')
                              }
                            align: center
                          - name: Home Team
                            data: events
                            align: left
                            modify: >-
                              '<div><img src="https://a.espncdn.com/i/teamlogos/afl/500/' +
                              x.competitions[0].competitors[0].team.abbreviation.toLowerCase() + ".png"
                              + '" style="height:20px;vertical-align:middle;">&nbsp;' +
                              x.competitions[0].competitors[0].team.displayName + '</div>'
                          - name: Match
                            data: events
                            align: center
                            modify: |-
                              if (x.competitions[0].status.type.description == 'Scheduled')
                                ' VS '
                              else
                                x.competitions[0].competitors[0].score.displayValue + " - " + x.competitions[0].competitors[1].score.displayValue
                          - name: Away Team
                            data: events
                            align: left
                            modify: >-
                              '<div><img src="https://a.espncdn.com/i/teamlogos/afl/500/' +
                              x.competitions[0].competitors[1].team.abbreviation.toLowerCase() + ".png"
                              + '" style="height:20px;vertical-align:middle;">&nbsp;' +
                              x.competitions[0].competitors[1].team.displayName + '</div>'
                          - name: Status
                            data: events
                            align: center
                            modify: x.competitions[0].status.type.description
                          - name: Details
                            data: events
                            modify: >-
                              x.season.displayName + ' ' + x.seasonType.name + '<br/>Venue: ' +
                              x.competitions[0].venue.fullName

  - type: custom:stack-in-card
    card_mod:
      style:
        .: |
          ha-card {
          padding-bottom: 10px !important;
          }
    cards:
      - type: custom:decluttering-card
        template: sports_card
        variables:
          - entity: sensor.upcoming_sport_aflw_all_teams
      - type: custom:mushroom-chips-card
        alignment: center
        card_mod:
          style: |
            mushroom-template-chip {
              width: 100%;
            }
            div.chip-container {
              justify-content: space-evenly;
              flex-wrap: nowrap;
            }
            ha-card {
              margin: 0px 10px 2px 10px;
              --chip-spacing: 5px !important;
            }
        chips:
          - type: template
            icon: mdi:calendar-alert
            content: Calendar
            card_mod: &style
              style:
                .: |
                  ha-card {
                    background-color: rgb(80, 110, 172) !important;
                    box-shadow: none !important;
                    justify-content: center;
                    height: 30px !important;
                    border: 0 !important;
                    box-shadow: none !important;
                    border-radius: 10px !important;
                  }
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                hide_header: false
                data:
                  title: Calendar
                  content:
                    type: custom:layout-card
                    layout_type: custom:grid-layout
                    layout:
                      margin: 0
                      grid-template-columns: 1fr
                      grid-template-rows: 1fr
                      grid-template-areas: |
                        "col1"
                    cards:
                      - type: custom:hui-element
                        view_layout:
                          grid-area: col1
                        card_type: custom:flex-table-card
                        entities:
                          include: sensor.upcoming_sport_aflw_all_teams
                        sort_by: next_5_events
                        css:
                          table+: "padding: 0px; width: 100%; border-collapse: collapse;"
                          tbody tr:hover: "background-color: rgba(180, 70, 70,0.2) !important; color:white !important;"
                          th.left:nth-child(1): "min-width: 1fr; width: 1fr; white-space: nowrap;"
                          th.left:nth-child(2): "min-width: 1fr; width: 1fr; white-space: nowrap;"
                          th+: "border-bottom: 1px solid rgb(127,127,127);"
                        columns:
                          - name: test
                            data: next_5_events
                            modify: x.start
                            hidden: true
                          - name: " "
                            data: next_5_events
                            modify: |-
                              var start = new Date(x.start);
                              var end = new Date(x.end);
                              var now = Date.now();
                              if(now <= end && now >= start) {
                                '<ha-icon icon="mdi:calendar-check" style="color: rgba(0,202,139,1)">'
                              } else { "" };
                          - name: Start
                            data: next_5_events
                            modify: |-
                              if(x.start == 0)
                              {"-"}
                              else {
                                var date = new Date(x.start);
                                date.toLocaleDateString('en-US', {weekday: 'short', month: 'short', day: 'numeric'}) +
                                " @ "+
                                String(date.getHours()).padStart(2,'0')+":"+
                                String(date.getMinutes()).padStart(2,'0')
                              }
                          - name: End
                            data: next_5_events
                            modify: |-
                              if(x.end == 0)
                              {"-"}
                              else {
                                var date = new Date(x.end);
                                date.toLocaleDateString('en-US', {weekday: 'short', month: 'short', day: 'numeric'}) +
                                " @ "+
                                String(date.getHours()).padStart(2,'0')+":"+
                                String(date.getMinutes()).padStart(2,'0')
                              }
                          - name: Event
                            data: next_5_events
                            modify: x.summary + '<br/><i>' + x.location + '</i>'
                        card_mod:
                          style: |
                            ha-card {
                              background: none;
                              border: 0;
                              box-shadow: none;
                              overflow: auto;
                              padding-top: 5px;
                              font-size: 12px;
                            }
            hold_action:
              action: none
            double_tap_action:
              action: none

  - type: custom:stack-in-card
    card_mod:
      style:
        .: |
          ha-card {
          padding-bottom: 10px !important;
          }
    cards:
      - type: custom:decluttering-card
        template: sports_card
        variables:
          - entity: sensor.upcoming_sport_sydney_swans_aflw
      - type: custom:mushroom-chips-card
        alignment: center
        card_mod:
          style: |
            mushroom-template-chip {
              width: 100%;
            }
            div.chip-container {
              justify-content: space-evenly;
              flex-wrap: nowrap;
            }
            ha-card {
              margin: 0px 10px 2px 10px;
              --chip-spacing: 5px !important;
            }
        chips:
          - type: template
            icon: mdi:calendar-alert
            content: Calendar
            card_mod: &style
              style:
                .: |
                  ha-card {
                    background-color: rgb(80, 110, 172) !important;
                    box-shadow: none !important;
                    justify-content: center;
                    height: 30px !important;
                    border: 0 !important;
                    box-shadow: none !important;
                    border-radius: 10px !important;
                  }
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                hide_header: false
                data:
                  title: Calendar
                  content:
                    type: custom:layout-card
                    layout_type: custom:grid-layout
                    layout:
                      margin: 0
                      grid-template-columns: 1fr
                      grid-template-rows: 1fr
                      grid-template-areas: |
                        "col1"
                    cards:
                      - type: custom:hui-element
                        view_layout:
                          grid-area: col1
                        card_type: custom:flex-table-card
                        entities:
                          include: sensor.upcoming_sport_sydney_swans_aflw
                        sort_by: next_5_events
                        css:
                          table+: "padding: 0px; width: 100%; border-collapse: collapse;"
                          tbody tr:hover: "background-color: rgba(180, 70, 70,0.2) !important; color:white !important;"
                          th.left:nth-child(1): "min-width: 1fr; width: 1fr; white-space: nowrap;"
                          th.left:nth-child(2): "min-width: 1fr; width: 1fr; white-space: nowrap;"
                          th+: "border-bottom: 1px solid rgb(127,127,127);"
                        columns:
                          - name: test
                            data: next_5_events
                            modify: x.start
                            hidden: true
                          - name: " "
                            data: next_5_events
                            modify: |-
                              var start = new Date(x.start);
                              var end = new Date(x.end);
                              var now = Date.now();
                              if(now <= end && now >= start) {
                                '<ha-icon icon="mdi:calendar-check" style="color: rgba(0,202,139,1)">'
                              } else { "" };
                          - name: Start
                            data: next_5_events
                            modify: |-
                              if(x.start == 0)
                              {"-"}
                              else {
                                var date = new Date(x.start);
                                date.toLocaleDateString('en-US', {weekday: 'short', month: 'short', day: 'numeric'}) +
                                " @ "+
                                String(date.getHours()).padStart(2,'0')+":"+
                                String(date.getMinutes()).padStart(2,'0')
                              }
                          - name: End
                            data: next_5_events
                            modify: |-
                              if(x.end == 0)
                              {"-"}
                              else {
                                var date = new Date(x.end);
                                date.toLocaleDateString('en-US', {weekday: 'short', month: 'short', day: 'numeric'}) +
                                " @ "+
                                String(date.getHours()).padStart(2,'0')+":"+
                                String(date.getMinutes()).padStart(2,'0')
                              }
                          - name: Event
                            data: next_5_events
                            modify: x.summary + '<br/><i>' + x.location + '</i>'
                        card_mod:
                          style: |
                            ha-card {
                              background: none;
                              border: 0;
                              box-shadow: none;
                              overflow: auto;
                              padding-top: 5px;
                              font-size: 12px;
                            }
            hold_action:
              action: none
            double_tap_action:
              action: none

  - type: custom:stack-in-card
    card_mod:
      style:
        .: |
          ha-card {
          padding-bottom: 10px !important;
          }
    cards:
      - type: custom:decluttering-card
        template: sports_card
        variables:
          - entity: sensor.upcoming_sport_sydney_swans_vfl
      - type: custom:mushroom-chips-card
        alignment: center
        card_mod:
          style: |
            mushroom-template-chip {
              width: 100%;
            }
            div.chip-container {
              justify-content: space-evenly;
              flex-wrap: nowrap;
            }
            ha-card {
              margin: 0px 10px 2px 10px;
              --chip-spacing: 5px !important;
            }
        chips:
          - type: template
            icon: mdi:calendar-alert
            content: Calendar
            card_mod: &style
              style:
                .: |
                  ha-card {
                    background-color: rgb(80, 110, 172) !important;
                    box-shadow: none !important;
                    justify-content: center;
                    height: 30px !important;
                    border: 0 !important;
                    box-shadow: none !important;
                    border-radius: 10px !important;
                  }
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                hide_header: false
                data:
                  title: Calendar
                  content:
                    type: custom:layout-card
                    layout_type: custom:grid-layout
                    layout:
                      margin: 0
                      grid-template-columns: 1fr
                      grid-template-rows: 1fr
                      grid-template-areas: |
                        "col1"
                    cards:
                      - type: custom:hui-element
                        view_layout:
                          grid-area: col1
                        card_type: custom:flex-table-card
                        entities:
                          include: sensor.upcoming_sport_sydney_swans_vfl
                        sort_by: next_5_events
                        css:
                          table+: "padding: 0px; width: 100%; border-collapse: collapse;"
                          tbody tr:hover: "background-color: rgba(180, 70, 70,0.2) !important; color:white !important;"
                          th.left:nth-child(1): "min-width: 1fr; width: 1fr; white-space: nowrap;"
                          th.left:nth-child(2): "min-width: 1fr; width: 1fr; white-space: nowrap;"
                          th+: "border-bottom: 1px solid rgb(127,127,127);"
                        columns:
                          - name: test
                            data: next_5_events
                            modify: x.start
                            hidden: true
                          - name: " "
                            data: next_5_events
                            modify: |-
                              var start = new Date(x.start);
                              var end = new Date(x.end);
                              var now = Date.now();
                              if(now <= end && now >= start) {
                                '<ha-icon icon="mdi:calendar-check" style="color: rgba(0,202,139,1)">'
                              } else { "" };
                          - name: Start
                            data: next_5_events
                            modify: |-
                              if(x.start == 0)
                              {"-"}
                              else {
                                var date = new Date(x.start);
                                date.toLocaleDateString('en-US', {weekday: 'short', month: 'short', day: 'numeric'}) +
                                " @ "+
                                String(date.getHours()).padStart(2,'0')+":"+
                                String(date.getMinutes()).padStart(2,'0')
                              }
                          - name: End
                            data: next_5_events
                            modify: |-
                              if(x.end == 0)
                              {"-"}
                              else {
                                var date = new Date(x.end);
                                date.toLocaleDateString('en-US', {weekday: 'short', month: 'short', day: 'numeric'}) +
                                " @ "+
                                String(date.getHours()).padStart(2,'0')+":"+
                                String(date.getMinutes()).padStart(2,'0')
                              }
                          - name: Event
                            data: next_5_events
                            modify: x.summary + '<br/><i>' + x.location + '</i>'
                        card_mod:
                          style: |
                            ha-card {
                              background: none;
                              border: 0;
                              box-shadow: none;
                              overflow: auto;
                              padding-top: 5px;
                              font-size: 12px;
                            }
            hold_action:
              action: none
            double_tap_action:
              action: none
