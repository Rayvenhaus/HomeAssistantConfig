---
platform: template
fans:
  office_fan:
    friendly_name: "[Fan] Office Fan"
    unique_id: office_fan
    speed_count: 3
    value_template: "{{ states('input_boolean.office_fan_state') }}"
    percentage_template: "{{ (100 * (int(states('input_number.office_fan_speed'))/3)) | round(0, 'floor') }}"
    turn_off:
      service: script.fan_off
      data:
        fan: office_fan
    turn_on:
      service: script.fan_on
      data:
        fan: office_fan
    set_percentage:
      service: script.fan_set_speed_state
      data:
        fan: office_fan
        speed: "{{ percentage }}"
  bedroom_fan:
    friendly_name: "[Fan] Bedroom Fan"
    unique_id: bedroom_fan
    speed_count: 3
    value_template: "{{ states('input_boolean.bedroom_fan_state') }}"
    percentage_template: "{{ (100 * (int(states('input_number.bedroom_fan_speed'))/3)) | round(0, 'floor') }}"
    turn_off:
      service: script.fan_off
      data:
        fan: bedroom_fan
    turn_on:
      service: script.fan_on
      data:
        fan: bedroom_fan
    set_percentage:
      service: script.fan_set_speed_state
      data:
        fan: bedroom_fan
        speed: "{{ percentage }}"
